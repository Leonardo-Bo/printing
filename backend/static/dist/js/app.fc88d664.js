(function(){var e={6264:function(){},8026:function(e,a,l){"use strict";var t=l(9242),s=l(3396),n=l(4870),o=l(7139),i=l(70),r=l(1020);const u=(0,r.Q_)("ParamStore",{state:()=>({isLoading:!1,toastSuccess:{type:"success",position:"bottom-right",timeout:3e3,showIcon:!0},toastInfo:{type:"info",position:"bottom-right",timeout:3e3,showIcon:!0},toastDanger:{type:"danger",position:"bottom-right",timeout:5e3,showIcon:!0},toastDefault:{type:"default",position:"bottom-right",timeout:3e3,showIcon:!0},toastWarning:{type:"warning",position:"bottom-right",timeout:3e3,showIcon:!0},colors:{blue:3564683,red:15608876,yellow:16776960,green:65280,orange:16753920,gray:8355711}}),getters:{},actions:{setIsLoading(e){this.isLoading=e.isLoading}}}),c=(0,r.Q_)("UserStore",{state:()=>({isAuthenticated:!1,token:"",user:{id:null,username:"",email:"",fullname:""}}),actions:{initializeStore(){localStorage.getItem("token")?(this.token=localStorage.getItem("token"),this.isAuthenticated=!0,this.user.id=localStorage.getItem("user_id"),this.user.username=localStorage.getItem("user_username"),this.user.email=localStorage.getItem("user_email"),this.user.fullname=localStorage.getItem("user_fullname")):(this.token="",this.isAuthenticated=!1,this.user.id=null,this.user.username="",this.user.email="",this.user.fullname="")}}});l(7658);var d=l.p+"img/Logo.88cb4127.png",p=l(2483);const v=e=>((0,s.dD)("data-v-79a5f838"),e=e(),(0,s.Cn)(),e),m={class:"navbar",id:"navbar",ref:"navbar"},g={class:"nav-left"},_=v((()=>(0,s._)("img",{class:"img",src:d},null,-1))),b={class:"nav-center"},h=v((()=>(0,s._)("span",{class:"bar"},null,-1))),f=v((()=>(0,s._)("span",{class:"bar"},null,-1))),w=v((()=>(0,s._)("span",{class:"bar"},null,-1))),y=[h,f,w],k={class:"items"},S={class:"nav-right"},D=v((()=>(0,s._)("i",{class:"bi bi-person-fill ndd"},null,-1))),C=v((()=>(0,s._)("i",{class:"bi bi-three-dots-vertical ndd"},null,-1))),x=[D,C],U={class:"nav-dropdown ndd"},H=v((()=>(0,s._)("p",{class:"mb-2 mt-2 nav-dropdown-item"},[(0,s.Uk)(" Account "),(0,s._)("i",{class:"bi bi-person float-end"})],-1))),z=v((()=>(0,s._)("p",{class:"mb-2 mt-2 nav-dropdown-item"},[(0,s.Uk)(" Settings "),(0,s._)("i",{class:"bi bi-gear float-end"})],-1))),Y=v((()=>(0,s._)("i",{class:"bi bi-door-open float-end"},null,-1))),L={key:0,class:"half-size"};var $={__name:"Navbar",setup(e){u();const a=c(),l=(0,p.tv)(),o=(0,n.iH)(!1),r=(0,n.iH)(!1),d=()=>{r.value=!r.value};(0,s.bv)((()=>{document.addEventListener("click",v)})),(0,s.Jd)((()=>{document.removeEventListener("click",v)}));const v=e=>{const a=e.target.className;o.value&&!a.includes("ndd")&&(o.value=!1)},h=()=>{o.value=!o.value},f=()=>{console.log("logout"),i.ZP.defaults.headers.common.Authorization="",localStorage.removeItem("token"),localStorage.removeItem("user_id"),localStorage.removeItem("user_username"),localStorage.removeItem("user_email"),localStorage.removeItem("user_fullname"),a.token="",a.isAuthenticated=!1,a.user.id=null,a.user.username="",a.user.email="",a.user.fullname="",o.value=!1,l.push("/")};return(e,l)=>{const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",m,[(0,s._)("div",g,[(0,s.Wm)(i,{class:"logo ms-3",to:"/"},{default:(0,s.w5)((()=>[_])),_:1})]),(0,s._)("div",b,[(0,s._)("div",{class:"toggle-button",onClick:d},y),(0,s._)("div",k,[(0,s._)("ul",null,[(0,s._)("li",null,[(0,s.Wm)(i,{class:"nav-link",to:"/research-fields"},{default:(0,s.w5)((()=>[(0,s.Uk)(" RESEARCH ")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(i,{class:"nav-link",to:"/people"},{default:(0,s.w5)((()=>[(0,s.Uk)(" PEOPLE ")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(i,{class:"nav-link",to:"/tools"},{default:(0,s.w5)((()=>[(0,s.Uk)(" TOOLS ")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(i,{class:"nav-link",to:"/news"},{default:(0,s.w5)((()=>[(0,s.Uk)(" NEWS ")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(i,{class:"nav-link",to:"/publications"},{default:(0,s.w5)((()=>[(0,s.Uk)(" PUBLICATIONS ")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(i,{class:"nav-link",to:"/contacts"},{default:(0,s.w5)((()=>[(0,s.Uk)(" CONTACTS ")])),_:1})])])])]),(0,s._)("div",S,[(0,n.SU)(a).isAuthenticated?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"sign",onClick:h},x)):(0,s.kq)("",!0)])],512),(0,s.wy)((0,s._)("div",U,[(0,s.Wm)(i,{style:{"text-decoration":"none"},to:"/account",class:"nav-drop-active"},{default:(0,s.w5)((()=>[H])),_:1}),(0,s.Wm)(i,{style:{"text-decoration":"none"},to:"/settings",class:"nav-drop-active"},{default:(0,s.w5)((()=>[z])),_:1}),(0,s._)("p",{class:"mb-1 nav-dropdown-item",onClick:l[0]||(l[0]=e=>f())},[(0,s.Uk)("Logout "),Y])],512),[[t.F8,o.value]]),r.value?((0,s.wg)(),(0,s.iD)("div",L,[(0,s._)("ul",null,[(0,s._)("li",null,[(0,s.Wm)(i,{class:"nav-link",to:"/research-fields",onClick:d},{default:(0,s.w5)((()=>[(0,s.Uk)(" RESEARCH ")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(i,{class:"nav-link",to:"/people",onClick:d},{default:(0,s.w5)((()=>[(0,s.Uk)(" PEOPLE ")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(i,{class:"nav-link",to:"/tools",onClick:d},{default:(0,s.w5)((()=>[(0,s.Uk)(" TOOLS ")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(i,{class:"nav-link",to:"/news",onClick:d},{default:(0,s.w5)((()=>[(0,s.Uk)(" NEWS ")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(i,{class:"nav-link",to:"/publications",onClick:d},{default:(0,s.w5)((()=>[(0,s.Uk)(" PUBLICATIONS ")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(i,{class:"nav-link",to:"/contacts",onClick:d},{default:(0,s.w5)((()=>[(0,s.Uk)(" CONTACTS ")])),_:1})])])])):(0,s.kq)("",!0)],64)}}},P=l(89);const N=(0,P.Z)($,[["__scopeId","data-v-79a5f838"]]);var O=N;const M=e=>((0,s.dD)("data-v-7fb29791"),e=e(),(0,s.Cn)(),e),F={class:"footer"},V={class:"left"},Z=M((()=>(0,s._)("img",{class:"img",src:d},null,-1))),T=(0,s.uE)('<div class="center" data-v-7fb29791><h5 class="mb-3" data-v-7fb29791><strong data-v-7fb29791>Social links</strong></h5><p class="mb-1" data-v-7fb29791><i class="bi bi-twitter mx-2" data-v-7fb29791></i>Twitter</p><p class="mb-1" data-v-7fb29791><i class="bi bi-linkedin mx-2" data-v-7fb29791></i>Linkedin</p></div><div class="right" data-v-7fb29791><h5 class="mb-2" data-v-7fb29791><strong data-v-7fb29791>Contacts</strong></h5><span style="font-size:12px;" data-v-7fb29791><p class="ms-2" style="margin-bottom:1px;" data-v-7fb29791>Viale Regina Elena, 291</p><p class="ms-2" style="margin-bottom:1px;" data-v-7fb29791>00161 Roma</p><p class="ms-2" style="margin-bottom:1px;" data-v-7fb29791>Italy</p><p class="ms-2" data-v-7fb29791>email@example.com</p></span></div>',2);function W(e,a,l,t,n,o){const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",F,[(0,s._)("div",V,[(0,s.Wm)(i,{"exact-active-class":"link-home-footer",class:"link-home-footer",to:"/"},{default:(0,s.w5)((()=>[Z])),_:1})]),T])}var E=l(6264),I=l.n(E);const J=(0,P.Z)(I(),[["render",W],["__scopeId","data-v-7fb29791"]]);var A=J;const R={class:"main"},j=(0,s._)("div",{class:"lds-dual-ring"},null,-1),q=[j];var B={__name:"App",setup(e){const a=u(),l=c();return l.initializeStore(),l.token?i.ZP.defaults.headers.common.Authorization="Token "+l.token:i.ZP.defaults.headers.common.Authorization="",(e,l)=>{const t=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)((0,n.SU)(O)),(0,s._)("div",R,[(0,s._)("div",{class:(0,o.C_)(["is-loading-bar center-ring",{"is-loading":(0,n.SU)(a).isLoading}])},q,2),(0,s.Wm)(t)]),(0,s.Wm)((0,n.SU)(A))],64)}}};const K=B;var G=K,X=l(5068);const Q=e=>((0,s.dD)("data-v-fa9a5b10"),e=e(),(0,s.Cn)(),e),ee={key:0,class:"home-news-container"},ae={class:"postcard__img_content",href:"#"},le=["src"],te={class:"postcard__text t-dark"},se={class:"postcard__subtitle small"},ne={class:"author"},oe=Q((()=>(0,s._)("div",{class:"postcard__bar"},null,-1))),ie=["innerHTML"];var re={__name:"HomeNews",setup(e){const a=u(),l=(0,n.iH)([]),r=(0,n.iH)(!1),c=async()=>{a.isLoading=!0,await i.ZP.get("/api/v1/news/").then((e=>{l.value=e.data;for(let o=0;o<l.value.length;o++)l.value[o].contentMD=(0,X.TU)(l.value[o].content),l.value[o].cover_news.length>0?l.value[o].cover=l.value[o].cover_news.filter((e=>1==e.isCover))[0].image:l.value[o].cover="/media/website/news/cover_news.png";var a=new Date,t=String(a.getDate()).padStart(2,"0"),s=String(a.getMonth()+1).padStart(2,"0"),n=a.getFullYear();a=n+"-"+s+"-"+t,l.value=l.value.filter((e=>e.publicated_at<=a&""!=e.content)),l.value=l.value.sort(((e,a)=>new Date(a.publicated_at).getTime()-new Date(e.publicated_at).getTime())).slice(0,3),r.value=!0})).catch((e=>{console.log(e)})),a.isLoading=!1};(0,s.bv)((()=>{c()}));const d=e=>e%3==0&e%2==0?"blue even blue-even":e%3==0&e%2==1?"blue odd blue-odd":e%3==1&e%2==0?"red even red-even":e%3==1&e%2==1?"red odd red-odd":e%3==2&e%2==0?"orange even orange-even":e%3==2&e%2==1?"orange odd orange-odd":void 0,p=e=>e.slice(0,119).concat("&#8230;");return(e,a)=>{const n=(0,s.up)("router-link");return r.value?((0,s.wg)(),(0,s.iD)("div",ee,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value,((e,a)=>((0,s.wg)(),(0,s.iD)("div",{key:e.id},[(0,s._)("div",{class:(0,o.C_)(["postcard",d(a)])},[(0,s._)("span",ae,[(0,s._)("img",{class:"postcard__img",src:e.cover,alt:"Image Title"},null,8,le)]),(0,s._)("div",te,[(0,s._)("h1",{class:(0,o.C_)({"postcard__title blue":a%3==0,"postcard__title red":a%3==1,"postcard__title orange":a%3==2})},[(0,s.Wm)(n,{to:{name:"NewsDetail",params:{slug:e.slug}}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.title),1)])),_:2},1032,["to"])],2),(0,s._)("div",se,[(0,s._)("span",null,[(0,s.Uk)((0,o.zw)(e.publicated_at)+" | ",1),(0,s.wy)((0,s._)("span",{class:"author"},(0,o.zw)(e.author.full_name),513),[[t.F8,e.show_author&&e.author.full_name]]),(0,s.wy)((0,s._)("span",ne,"Team",512),[[t.F8,!e.show_author]])])]),oe,(0,s._)("div",{class:"postcard__preview-txt medium",innerHTML:p(e.contentMD)},null,8,ie)])],2)])))),128))])):(0,s.kq)("",!0)}}};const ue=(0,P.Z)(re,[["__scopeId","data-v-fa9a5b10"]]);var ce=ue,de=l(2166);const pe=e=>((0,s.dD)("data-v-1f71b76e"),e=e(),(0,s.Cn)(),e),ve={id:"homeCarousel",class:"carousel slide mt-1 mb-5","data-bs-ride":"carousel"},me={class:"carousel-indicators"},ge=["data-bs-slide-to"],_e={class:"carousel-inner"},be={id:"caption-panel",class:"carousel-caption"},he=pe((()=>(0,s._)("span",{class:"carousel-control-prev-icon","aria-hidden":"true"},null,-1))),fe=pe((()=>(0,s._)("span",{class:"visually-hidden"},"Previous",-1))),we=[he,fe],ye=pe((()=>(0,s._)("span",{class:"carousel-control-next-icon","aria-hidden":"true"},null,-1))),ke=pe((()=>(0,s._)("span",{class:"visually-hidden"},"Next",-1))),Se=[ye,ke];var De={__name:"HomeCarousel",setup(e){const a=u(),l=(0,n.iH)([]),t=(0,n.iH)(null),r=(0,n.iH)(!1),c=(0,n.iH)(!1),d=async()=>{a.isLoading=!0,r.value=!0,await i.ZP.get("/api/v1/carousel/").then((e=>{r.value=!1,l.value=e.data})).catch((e=>{console.log(e)}));for(let e=0;e<l.value.length;e++)null!=l.value[e].field&&(l.value[e].title=l.value[e].field.title,l.value[e].slug=l.value[e].field.slug,l.value[e].type="field"),null!=l.value[e].news&&(l.value[e].title=l.value[e].news.title,l.value[e].slug=l.value[e].news.slug,l.value[e].type="news"),l.value[e].cover=l.value[e].cover_carousel.filter((e=>1==e.isCover))[0].image;c.value=!0,a.isLoading=!1},p=()=>{t.value.next()},v=()=>{t.value.prev()};return(0,s.bv)((()=>{let e=document.querySelector("#homeCarousel");t.value=new de.lr(e,{interval:12e3}),d()})),(e,a)=>{const t=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",ve,[(0,s._)("div",me,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value,((e,a)=>((0,s.wg)(),(0,s.iD)("button",{key:e.id,type:"button","data-bs-target":"#carouselCaptions","data-bs-slide-to":a,class:(0,o.C_)({active:!a}),"aria-current":"true"},null,10,ge)))),128))]),(0,s._)("div",_e,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value,((e,a)=>((0,s.wg)(),(0,s.iD)("div",{key:e.id,class:(0,o.C_)(["carousel-item",{active:0==a}])},[(0,s._)("div",{class:"header",style:(0,o.j5)({backgroundImage:"url("+e.cover+")"})},null,4),(0,s._)("div",be,[(0,s._)("h5",null,(0,o.zw)(e.title),1),(0,s._)("p",null,(0,o.zw)(e.content),1),"field"==e.type?((0,s.wg)(),(0,s.j4)(t,{key:0,to:{name:"ResearchFieldDetail",params:{slug:e.slug}},class:"btn btn-sm btn-dark float-end"},{default:(0,s.w5)((()=>[(0,s.Uk)("READ MORE")])),_:2},1032,["to"])):(0,s.kq)("",!0),"news"==e.type?((0,s.wg)(),(0,s.j4)(t,{key:1,to:{name:"NewsDetail",params:{slug:e.slug}},class:"btn btn-sm btn-dark float-end"},{default:(0,s.w5)((()=>[(0,s.Uk)("READ MORE")])),_:2},1032,["to"])):(0,s.kq)("",!0)])],2)))),128))]),(0,s._)("button",{class:"carousel-control-prev",type:"button","data-bs-target":"#carouselCaptions",onClick:a[0]||(a[0]=e=>v())},we),(0,s._)("button",{class:"carousel-control-next",type:"button","data-bs-target":"#carouselCaptions",onClick:a[1]||(a[1]=e=>p())},Se)])}}};const Ce=(0,P.Z)(De,[["__scopeId","data-v-1f71b76e"]]);var xe=Ce,Ue={__name:"Home",setup(e){return(e,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(xe),(0,s.Wm)(ce)],64))}};const He=Ue;var ze=He,Ye=l(3508);const Le=e=>((0,s.dD)("data-v-16b529fa"),e=e(),(0,s.Cn)(),e),$e={key:0,class:"container"},Pe={class:"row d-flex flex-column justify-content-center align-items-center mt-5 mb-5"},Ne={class:"card col-md-4 pt-3 pb-3 card-login-signup"},Oe={class:"md-12"},Me=Le((()=>(0,s._)("h5",{class:"text-center"},"SIGN UP",-1))),Fe=Le((()=>(0,s._)("hr",null,null,-1))),Ve=["onSubmit"],Ze={class:"form-group mb-2"},Te=Le((()=>(0,s._)("label",{class:"fl-sign"},[(0,s._)("i",{class:"bi bi-person"}),(0,s.Uk)(" Username: ")],-1))),We={class:"form-group mb-2"},Ee=Le((()=>(0,s._)("label",{class:"fl-sign"},[(0,s._)("i",{class:"bi bi-envelope"}),(0,s.Uk)(" Email: ")],-1))),Ie={class:"form-group mb-2"},Je=Le((()=>(0,s._)("label",{class:"fl-sign"},[(0,s._)("i",{class:"bi bi-key"}),(0,s.Uk)(" Password: ")],-1))),Ae={class:"input-group"},Re={class:"form-group mb-2"},je=Le((()=>(0,s._)("label",{class:"fl-sign"},[(0,s._)("i",{class:"bi bi-key"}),(0,s.Uk)(" Repeat Password: ")],-1))),qe={class:"input-group"},Be=Le((()=>(0,s._)("div",{class:"d-grid gap-2 col-12 mx-auto pb-2 mt-5"},[(0,s._)("button",{class:"btn btn-success",type:"submit"},"Send Request")],-1))),Ke=Le((()=>(0,s._)("span",{style:{color:"#dcdee0"}},"Do you already have an account? ",-1))),Ge={key:1,class:"container"},Xe=Le((()=>(0,s._)("div",{class:"row d-flex flex-column justify-content-center align-items-center"},[(0,s._)("h1",{style:{"text-align":"center","margin-top":"150px"}},"You are already logged in")],-1))),Qe=[Xe],ea=(0,s.uE)('<div class="modal" id="signUpConfirm_modal" tabindex="-1" data-v-16b529fa><div class="modal-dialog modal-lg modal-dialog-centered" data-v-16b529fa><div class="modal-content" data-v-16b529fa><div class="modal-header" data-v-16b529fa><h5 class="modal-title" data-v-16b529fa>Your registration request was successful</h5></div><div class="modal-body" data-v-16b529fa><p class="mb-1" data-v-16b529fa>An email will arrive when the administrator activates your account.</p><p style="font-size:12px;" data-v-16b529fa>This page can be closed.</p></div></div></div></div>',1);var aa={__name:"SignUp",setup(e){const a=u(),l=c(),o=(0,n.iH)([]),r=(0,n.iH)(null),d=()=>{r.value=new de.u_(document.getElementById("signUpConfirm_modal"),{}),r.value.show()},p=(0,n.iH)(""),v=(0,n.iH)(""),m=(0,n.iH)(""),g=(0,n.iH)(""),_=()=>{if(a.isLoading=!0,o.value=[],""==p.value&&((0,Ye.Yz)("missing username",a.toastDanger),o.value.push(1)),""==v.value&&((0,Ye.Yz)("missing email",a.toastDanger),o.value.push(1)),""==m.value&&((0,Ye.Yz)("missing password",a.toastDanger),o.value.push(1)),m.value!=g.value&&((0,Ye.Yz)("the two password fields didn't match",a.toastDanger),o.value.push(1)),!o.value.length){var e=/^[A-Za-z0-9]+$/;if(e.test(p.value)){const e={username:p.value,email:v.value,password:m.value,re_password:g.value};i.ZP.post("/api/v1/users/",e).then((e=>{console.log(e),p.value="",v.value="",m.value="",g.value="",d()})).catch((e=>{if(e.response){for(const l in e.response.data)o.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))}))}else(0,Ye.Yz)("username must contain only alphanumeric characters",a.toastDanger)}a.isLoading=!1};return(e,a)=>{const o=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,n.SU)(l).isAuthenticated?((0,s.wg)(),(0,s.iD)("div",Ge,Qe)):((0,s.wg)(),(0,s.iD)("div",$e,[(0,s._)("div",Pe,[(0,s._)("div",Ne,[(0,s._)("div",Oe,[Me,Fe,(0,s._)("form",{onSubmit:(0,t.iM)(_,["prevent"])},[(0,s._)("div",Ze,[Te,(0,s.wy)((0,s._)("input",{type:"text",name:"username",id:"id_username",class:"form-control shadow-none fc-sign","onUpdate:modelValue":a[0]||(a[0]=e=>p.value=e)},null,512),[[t.nr,p.value]])]),(0,s._)("div",We,[Ee,(0,s.wy)((0,s._)("input",{type:"email",name:"email",id:"id_email",class:"form-control shadow-none fc-sign","onUpdate:modelValue":a[1]||(a[1]=e=>v.value=e)},null,512),[[t.nr,v.value]])]),(0,s._)("div",Ie,[Je,(0,s._)("div",Ae,[(0,s.wy)((0,s._)("input",{type:"password",name:"password1",id:"id_password1",class:"form-control shadow-none fc-sign","onUpdate:modelValue":a[2]||(a[2]=e=>m.value=e)},null,512),[[t.nr,m.value]])])]),(0,s._)("div",Re,[je,(0,s._)("div",qe,[(0,s.wy)((0,s._)("input",{type:"password",name:"password2",id:"id_password2",class:"form-control shadow-none fc-sign","onUpdate:modelValue":a[3]||(a[3]=e=>g.value=e)},null,512),[[t.nr,g.value]])])]),Be],40,Ve),(0,s._)("small",null,[Ke,(0,s.Wm)(o,{class:"ml-2",to:"/login"},{default:(0,s.w5)((()=>[(0,s.Uk)("Login")])),_:1})])])])])])),ea],64)}}};const la=(0,P.Z)(aa,[["__scopeId","data-v-16b529fa"]]);var ta=la;const sa=e=>((0,s.dD)("data-v-ef928d64"),e=e(),(0,s.Cn)(),e),na={key:0,class:"container"},oa={class:"row d-flex flex-column justify-content-center align-items-center mt-5 mb-5"},ia={class:"card col-md-4 pt-3 pb-3 card-login-signup"},ra={class:"md-12"},ua=sa((()=>(0,s._)("h5",{class:"text-center"},"LOGIN",-1))),ca=sa((()=>(0,s._)("hr",null,null,-1))),da=["onSubmit"],pa={class:"form-group mb-2"},va=sa((()=>(0,s._)("label",{class:"fl-sign"},[(0,s._)("i",{class:"bi bi-person"}),(0,s.Uk)(" Username: ")],-1))),ma={class:"form-group mb-2"},ga=sa((()=>(0,s._)("label",{class:"fl-sign"},[(0,s._)("i",{class:"bi bi-key"}),(0,s.Uk)(" Password: ")],-1))),_a={class:"input-group"},ba=sa((()=>(0,s._)("div",{class:"d-grid gap-2 col-12 mx-auto pb-2 mt-4"},[(0,s._)("button",{class:"btn btn-success",type:"submit"},"Login")],-1))),ha=sa((()=>(0,s._)("span",{style:{color:"#dcdee0"}},"Don't have an account yet? ",-1)));var fa={__name:"Login",setup(e){const a=u(),l=c(),o=(0,p.tv)(),r=(0,n.iH)([]),d=(0,n.iH)(""),v=(0,n.iH)(""),m=async()=>{if(a.isLoading=!0,r.value=[],""===d.value&&((0,Ye.Yz)("missing username",a.toastDanger),r.value.push(1)),""===v.value&&((0,Ye.Yz)("missing password",a.toastDanger),r.value.push(1)),!r.value.length){i.ZP.defaults.headers.common.Authorization="",localStorage.removeItem("token");const e={username:d.value,password:v.value};await i.ZP.post("/api/v1/token/login/",e).then((e=>{const a=e.data.auth_token;l.token=a,i.ZP.defaults.headers.common.Authorization="Token "+a,localStorage.setItem("token",a),o.push("/")})).catch((e=>{if(e.response){for(const l in e.response.data)r.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),await i.ZP.get("/api/v1/users/me").then((e=>{l.isAuthenticated=!0,l.user.id=e.data.id,l.user.username=e.data.username,l.user.email=e.data.email,l.user.fullname=e.data.full_name,localStorage.setItem("user_username",e.data.username),localStorage.setItem("user_id",e.data.id),localStorage.setItem("user_email",e.data.email),localStorage.setItem("user_fullname",e.data.full_name)})).catch((e=>{console.log(e)}))}a.isLoading=!1};return(e,a)=>{const o=(0,s.up)("router-link");return(0,n.SU)(l).isAuthenticated?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",na,[(0,s._)("div",oa,[(0,s._)("div",ia,[(0,s._)("div",ra,[ua,ca,(0,s._)("form",{onSubmit:(0,t.iM)(m,["prevent"])},[(0,s._)("div",pa,[va,(0,s.wy)((0,s._)("input",{type:"text",name:"username",id:"id_username",class:"form-control shadow-none fc-sign","onUpdate:modelValue":a[0]||(a[0]=e=>d.value=e)},null,512),[[t.nr,d.value]])]),(0,s._)("div",ma,[ga,(0,s._)("div",_a,[(0,s.wy)((0,s._)("input",{type:"password",name:"password1",id:"id_password1",class:"form-control shadow-none fc-sign","onUpdate:modelValue":a[1]||(a[1]=e=>v.value=e)},null,512),[[t.nr,v.value]])])]),(0,s._)("small",null,[(0,s.Wm)(o,{to:"/reset-password",class:"py-0 forgot-pwd"},{default:(0,s.w5)((()=>[(0,s.Uk)("Forgot password?")])),_:1})]),ba],40,da),(0,s._)("small",null,[ha,(0,s.Wm)(o,{class:"ml-2",to:"/signup"},{default:(0,s.w5)((()=>[(0,s.Uk)("Request registration")])),_:1})])])])])]))}}};const wa=(0,P.Z)(fa,[["__scopeId","data-v-ef928d64"]]);var ya=wa;const ka=e=>((0,s.dD)("data-v-1e201b42"),e=e(),(0,s.Cn)(),e),Sa={class:"warning-dim"},Da={key:1,style:{"font-size":"20px"}},Ca={class:"container-profile"},xa={class:"mb-5"},Ua={class:"row"},Ha={class:"col col-md-4 offset-md-2"},za={class:"card h-100"},Ya=ka((()=>(0,s._)("div",{class:"card-header"},[(0,s._)("strong",null,"Personal informations")],-1))),La={class:"card-body"},$a=["onSubmit"],Pa={class:"row g-3"},Na={class:"col-md-12"},Oa=ka((()=>(0,s._)("label",null,"Username*",-1))),Ma={class:"col-md-12"},Fa=ka((()=>(0,s._)("label",null,"Email*",-1))),Va={class:"col-md-12"},Za=ka((()=>(0,s._)("label",null,"Full name",-1))),Ta=ka((()=>(0,s._)("div",{class:"mt-3 float-end"},[(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-secondary"},"Edit profile")],-1))),Wa={class:"col col-md-4"},Ea={class:"card"},Ia=ka((()=>(0,s._)("div",{class:"card-header"},[(0,s._)("strong",null,"Settings")],-1))),Ja={class:"card-body"},Aa={class:"d-grid gap-2"},Ra={key:1,style:{"font-size":"20px"}},ja={class:"modal fade",id:"edit_passwordModal",tabindex:"-1","aria-hidden":"true","data-bs-backdrop":"static"},qa={class:"modal-dialog modal-lg"},Ba={class:"modal-content bg-light"},Ka=ka((()=>(0,s._)("div",{class:"modal-header"},[(0,s._)("h6",{class:"modal-title"},"Edit password"),(0,s._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Ga=["onSubmit"],Xa={class:"modal-body"},Qa={class:"row g-3"},el={class:"col-md-12"},al=ka((()=>(0,s._)("label",null,"Current password*",-1))),ll={class:"col-md-12"},tl=ka((()=>(0,s._)("label",null,"New password*",-1))),sl={class:"col-md-12"},nl=ka((()=>(0,s._)("label",null,"Repeat new password*",-1))),ol=ka((()=>(0,s._)("div",{class:"modal-footer"},[(0,s._)("div",{class:"mt-3 float-end"},[(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-primary"},"Edit password")])],-1))),il={class:"modal fade",id:"delete_profileModal",tabindex:"-1","aria-hidden":"true","data-bs-backdrop":"static"},rl={class:"modal-dialog modal-lg"},ul={class:"modal-content bg-light"},cl=ka((()=>(0,s._)("div",{class:"modal-header"},[(0,s._)("h6",{class:"modal-title"},"Delete user account"),(0,s._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),dl=["onSubmit"],pl={class:"modal-body"},vl={class:"col-md-6 mt-4"},ml=ka((()=>(0,s._)("label",null,"Enter your password*",-1))),gl=ka((()=>(0,s._)("div",{class:"modal-footer"},[(0,s._)("button",{type:"button",class:"btn btn-sm btn-outline-secondary","data-bs-dismiss":"modal"},"Cancel"),(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-danger"},"Delete Account")],-1)));var _l={__name:"Profile",setup(e){const a=u(),l=c(),r=(0,p.tv)(),d=(0,n.iH)([]),v=(0,n.iH)([]),m=(0,n.iH)([]),g=(0,n.iH)({}),_=(0,n.iH)(!1),b=(0,n.iH)(null),h=(0,n.iH)(null),f=(0,n.iH)(""),w=(0,n.iH)(""),y=(0,n.iH)(""),k=(0,n.iH)("");(0,s.bv)((()=>{C()}));const S=()=>{b.value=new de.u_(document.getElementById("edit_passwordModal"),{}),b.value.show()},D=()=>{h.value=new de.u_(document.getElementById("delete_profileModal"),{}),h.value.show()},C=async()=>{a.isLoading=!0,await i.ZP.get("/api/v1/users/me").then((e=>{g.value=e.data,_.value=!0})).catch((e=>{console.log(e)})),a.isLoading=!1},x=async()=>{a.isLoading=!0;var e=/^[A-Za-z0-9]+$/;e.test(g.value.username)?(l.user.username=g.value.username,l.user.fullname=g.value.full_name,d.value=[],await i.ZP.patch("/api/v1/users/me/",g.value).then((e=>{(0,Ye.Yz)("profile edited successfully",a.toastSuccess)})).catch((e=>{if(e.response){for(const l in e.response.data)d.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))}))):(0,Ye.Yz)("username must contain only alphanumeric characters",a.toastDanger)},U=async()=>{a.isLoading=!0,v.value=[];const e={current_password:f.value,new_password:w.value,re_new_password:y.value};await i.ZP.post("/api/v1/users/set_password/",e).then((e=>{b.value.hide(),(0,Ye.Yz)("password edited successfully",a.toastSuccess)})).catch((e=>{if(e.response){for(const l in e.response.data)v.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),f.value="",w.value="",y.value="",a.isLoading=!1},H=async()=>{a.isLoading=!0,m.value=[],await i.ZP["delete"]("api/v1/users/me/",{data:{current_password:k.value}}).then((e=>{h.value.hide(),(0,Ye.Yz)("profile deleted successfully",a.toastSuccess)})).catch((e=>{if(e.response){for(const l in e.response.data)m.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),m.value.length||(i.ZP.defaults.headers.common.Authorization="",localStorage.removeItem("token"),localStorage.removeItem("user_username"),localStorage.removeItem("user_id"),localStorage.removeItem("user_fullname"),l.token="",l.isAuthenticated=!1,l.user.id=null,l.user.username="",l.user.email="",l.user.fullname="",r.push("/")),a.isLoading=!1};return(e,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Sa,[_.value?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)(" Your device is not large enough to view this content ")],64)):((0,s.wg)(),(0,s.iD)("span",Da," 403: You are not authorized to be here "))]),(0,s._)("div",Ca,[_.value?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("h2",xa,"Hello "+(0,o.zw)(g.value.username),1),(0,s._)("div",Ua,[(0,s._)("div",Ha,[(0,s._)("div",za,[Ya,(0,s._)("div",La,[(0,s._)("form",{onSubmit:(0,t.iM)(x,["prevent"])},[(0,s._)("div",Pa,[(0,s._)("div",Na,[Oa,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-sm",id:"username","onUpdate:modelValue":a[0]||(a[0]=e=>g.value.username=e)},null,512),[[t.nr,g.value.username]])]),(0,s._)("div",Ma,[Fa,(0,s.wy)((0,s._)("input",{type:"email",class:"form-control form-control-sm",id:"email","onUpdate:modelValue":a[1]||(a[1]=e=>g.value.email=e)},null,512),[[t.nr,g.value.email]])]),(0,s._)("div",Va,[Za,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-sm",id:"first_name","onUpdate:modelValue":a[2]||(a[2]=e=>g.value.full_name=e)},null,512),[[t.nr,g.value.full_name]])])]),Ta],40,$a)])])]),(0,s._)("div",Wa,[(0,s._)("div",Ea,[Ia,(0,s._)("div",Ja,[(0,s._)("div",Aa,[(0,s._)("button",{class:"btn btn-outline-secondary btn-sm mx-3",onClick:a[3]||(a[3]=e=>S())}," Change password "),(0,s._)("button",{class:"btn btn-outline-secondary mt-4 btn-sm mx-3",onClick:a[4]||(a[4]=e=>D())}," Delete account ")])])])])])],64)):((0,s.wg)(),(0,s.iD)("span",Ra," 403: You are not authorized to be here "))]),(0,s._)("div",ja,[(0,s._)("div",qa,[(0,s._)("div",Ba,[Ka,(0,s._)("form",{onSubmit:(0,t.iM)(U,["prevent"])},[(0,s._)("div",Xa,[(0,s._)("div",Qa,[(0,s._)("div",el,[al,(0,s.wy)((0,s._)("input",{type:"password",class:"form-control form-control-sm","onUpdate:modelValue":a[5]||(a[5]=e=>f.value=e)},null,512),[[t.nr,f.value]])]),(0,s._)("div",ll,[tl,(0,s.wy)((0,s._)("input",{type:"password",class:"form-control form-control-sm","onUpdate:modelValue":a[6]||(a[6]=e=>w.value=e)},null,512),[[t.nr,w.value]])]),(0,s._)("div",sl,[nl,(0,s.wy)((0,s._)("input",{type:"password",class:"form-control form-control-sm","onUpdate:modelValue":a[7]||(a[7]=e=>y.value=e)},null,512),[[t.nr,y.value]])])])]),ol],40,Ga)])])]),(0,s._)("div",il,[(0,s._)("div",rl,[(0,s._)("div",ul,[cl,(0,s._)("form",{onSubmit:(0,t.iM)(H,["prevent"])},[(0,s._)("div",pl,[(0,s.Uk)(" Warning! You are deleting your account. "),(0,s._)("div",vl,[ml,(0,s.wy)((0,s._)("input",{type:"password",class:"form-control form-control-sm","onUpdate:modelValue":a[8]||(a[8]=e=>k.value=e)},null,512),[[t.nr,k.value]])])]),gl],40,dl)])])])],64))}};const bl=(0,P.Z)(_l,[["__scopeId","data-v-1e201b42"]]);var hl=bl;const fl={class:"container"},wl={class:"row d-flex flex-column min-vh-100 justify-content-center align-items-center"},yl={class:"card col-md-4 pt-3 pb-3 card-login-signup"},kl={class:"md-12"},Sl=(0,s._)("h5",{class:"text-center"},"RESET PASSWORD",-1),Dl=(0,s._)("hr",null,null,-1),Cl=["onSubmit"],xl={class:"form-group mb-3"},Ul=(0,s._)("label",{class:"form-label mb-0"},[(0,s._)("i",{class:"bi bi-person"}),(0,s.Uk)(" Email: ")],-1),Hl=(0,s._)("div",{class:"d-grid gap-2 col-12 mx-auto pb-2 mt-5"},[(0,s._)("button",{class:"btn btn-primary",type:"submit"},"Send request")],-1);var zl={__name:"ResetPassword",setup(e){const a=u(),l=(0,n.iH)(""),o=(0,n.iH)([]),r=async()=>{a.isLoading=!0,o.value=[],o.value.length||(await i.ZP.post("/api/v1/users/reset_password/",{email:l.value}).then((e=>{alert("Your request has been sent.\nYou will receive an email with your password reset form.")})).catch((e=>{if(e.response){for(const l in e.response.data)o.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),l.value=""),a.isLoading=!1};return(e,a)=>((0,s.wg)(),(0,s.iD)("div",fl,[(0,s._)("div",wl,[(0,s._)("div",yl,[(0,s._)("div",kl,[Sl,Dl,(0,s._)("form",{onSubmit:(0,t.iM)(r,["prevent"])},[(0,s._)("div",xl,[Ul,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control fc-login-signup","onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e)},null,512),[[t.nr,l.value]])]),Hl],40,Cl)])])])]))}};const Yl=zl;var Ll=Yl;const $l={class:"container"},Pl={class:"row d-flex flex-column min-vh-100 justify-content-center align-items-center"},Nl={class:"card col-md-4 pt-3 pb-3 card-login-signup"},Ol={class:"md-12"},Ml=(0,s._)("h5",{class:"text-center"},"RESET PASSWORD",-1),Fl=(0,s._)("hr",null,null,-1),Vl=["onSubmit"],Zl={class:"form-group mb-3"},Tl=(0,s._)("label",{class:"form-label mb-0"},[(0,s._)("i",{class:"bi bi-key"}),(0,s.Uk)(" New password: ")],-1),Wl={class:"form-group mb-3"},El=(0,s._)("label",{class:"form-label mb-0"},[(0,s._)("i",{class:"bi bi-key"}),(0,s.Uk)(" Repeat new password: ")],-1),Il=(0,s._)("div",{class:"d-grid gap-2 col-12 mx-auto pb-2 mt-5"},[(0,s._)("button",{class:"btn btn-primary",type:"submit"},"Confirm")],-1);var Jl={__name:"ResetPasswordConfirm",setup(e){const a=u(),l=(0,p.yj)(),o=(0,p.tv)(),r=(0,n.iH)(""),c=(0,n.iH)(""),d=(0,n.iH)([]),v=async()=>{if(a.isLoading=!0,d.value=[],!d.value.length){const e={uid:l.params.uid,token:l.params.token,new_password:r.value,re_new_password:c.value};await i.ZP.post("/api/v1/users/reset_password_confirm/",e).then((e=>{(0,Ye.Yz)("Password reset successfully",a.toastSuccess),o.push("/login")})).catch((e=>{if(e.response){for(const l in e.response.data)this.errors.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),r.value="",c.value=""}a.isLoading=!1};return(e,a)=>((0,s.wg)(),(0,s.iD)("div",$l,[(0,s._)("div",Pl,[(0,s._)("div",Nl,[(0,s._)("div",Ol,[Ml,Fl,(0,s._)("form",{onSubmit:(0,t.iM)(v,["prevent"])},[(0,s._)("div",Zl,[Tl,(0,s.wy)((0,s._)("input",{type:"password",class:"form-control fc-login-signup","onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e)},null,512),[[t.nr,r.value]])]),(0,s._)("div",Wl,[El,(0,s.wy)((0,s._)("input",{type:"password",class:"form-control fc-login-signup","onUpdate:modelValue":a[1]||(a[1]=e=>c.value=e)},null,512),[[t.nr,c.value]])]),Il],40,Vl)])])])]))}};const Al=Jl;var Rl=Al;const jl=e=>((0,s.dD)("data-v-cdf5555a"),e=e(),(0,s.Cn)(),e),ql=jl((()=>(0,s._)("div",{class:"warning-dim"}," Your device is not large enough to view this content ",-1))),Bl={class:"container-settings"},Kl={id:"settingsSidebar",class:"sidebar"},Gl=(0,s.uE)('<div class="col col-md-10" data-v-cdf5555a><i class="bi bi-chevron-double-right ps-1" data-v-cdf5555a></i></div><div class="col col-md-2" style="margin:0;padding:0;" data-v-cdf5555a><div class="sidebar-item" data-v-cdf5555a>.</div><hr style="margin:2px;width:0px;" data-v-cdf5555a><div class="sidebar-item" data-v-cdf5555a>.</div><div class="sidebar-item" data-v-cdf5555a>.</div><div class="sidebar-item" data-v-cdf5555a>.</div><div class="sidebar-item" data-v-cdf5555a>.</div><div class="sidebar-item" data-v-cdf5555a>.</div><div class="sidebar-item" data-v-cdf5555a>.</div></div>',2),Xl=[Gl],Ql={key:1,class:"row d-flex align-items-center"},et={class:"col col-md-10"},at=jl((()=>(0,s._)("hr",{style:{margin:"2px"}},null,-1))),lt={class:"col col-md-2"},tt=jl((()=>(0,s._)("i",{class:"bi bi-chevron-double-left"},null,-1))),st=[tt],nt={id:"settingsMain",class:"content-settings mt-4"};var ot={__name:"Settings",setup(e){const a=(0,n.iH)(!0),l=(0,n.iH)(!0),o=()=>{document.getElementById("settingsSidebar").style.width="250px",document.getElementById("settingsMain").style.marginLeft="250px",a.value=!0,setTimeout((()=>{l.value=!0}),1e3)},i=()=>{document.getElementById("settingsSidebar").style.width="25px",document.getElementById("settingsMain").style.marginLeft="25px",a.value=!1,l.value=!1};return(e,n)=>{const r=(0,s.up)("router-link"),u=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[ql,(0,s._)("div",Bl,[(0,s._)("div",Kl,[a.value?((0,s.wg)(),(0,s.iD)("div",Ql,[(0,s._)("div",et,[(0,s.Wm)(r,{to:"/settings",class:"sidebar-item"},{default:(0,s.w5)((()=>[(0,s.Uk)("SETTINGS")])),_:1}),at,(0,s.Wm)(r,{to:"/settings/carousel",class:"sidebar-item"},{default:(0,s.w5)((()=>[(0,s.Uk)("Carousel")])),_:1}),(0,s.Wm)(r,{to:"/settings/research-fields",class:"sidebar-item"},{default:(0,s.w5)((()=>[(0,s.Uk)("Research")])),_:1}),(0,s.Wm)(r,{to:"/settings/people",class:"sidebar-item"},{default:(0,s.w5)((()=>[(0,s.Uk)("People")])),_:1}),(0,s.Wm)(r,{to:"/settings/tools",class:"sidebar-item"},{default:(0,s.w5)((()=>[(0,s.Uk)("Tools")])),_:1}),(0,s.Wm)(r,{to:"/settings/news",class:"sidebar-item"},{default:(0,s.w5)((()=>[(0,s.Uk)("News")])),_:1}),(0,s.Wm)(r,{to:"/settings/publications",class:"sidebar-item"},{default:(0,s.w5)((()=>[(0,s.Uk)("Publications")])),_:1})]),(0,s._)("div",lt,[(0,s.wy)((0,s._)("div",{onClick:i},st,512),[[t.F8,l.value]])])])):((0,s.wg)(),(0,s.iD)("div",{key:0,class:"row d-flex align-items-center",onClick:o},Xl))]),(0,s._)("div",nt,[(0,s.Wm)(u)])])],64)}}};const it=(0,P.Z)(ot,[["__scopeId","data-v-cdf5555a"]]);var rt=it;const ut=e=>((0,s.dD)("data-v-94bdcc84"),e=e(),(0,s.Cn)(),e),ct={class:"settings-home"},dt=ut((()=>(0,s._)("i",{style:{"font-size":"200px"},class:"bi bi-gear"},null,-1))),pt=[dt];function vt(e,a){return(0,s.wg)(),(0,s.iD)("div",ct,pt)}const mt={},gt=(0,P.Z)(mt,[["render",vt],["__scopeId","data-v-94bdcc84"]]);var _t=gt;const bt={class:"fields-container"},ht={class:"card"},ft={class:"card__thumb"},wt=["src"],yt={class:"card__caption"},kt={class:"card__title"},St=["innerHTML"];var Dt={__name:"Fields",setup(e){const a=u(),l=(0,n.iH)(!1),r=(0,n.iH)([]),c=async()=>{a.isLoading=!0,l.value=!0,await i.ZP.get("/api/v1/research/").then((e=>{l.value=!1,r.value=e.data;for(let a=0;a<r.value.length;a++)r.value[a].contentMD=(0,X.TU)(r.value[a].content),r.value[a].cover_research.length>0?r.value[a].cover=r.value[a].cover_research.filter((e=>1==e.isCover))[0].image:r.value[a].cover="/media/website/research/cover_field.png";r.value=r.value.filter((e=>!0===e.show_in_page)).sort(((e,a)=>e.position-a.position))})).catch((e=>{console.log(e)})),a.isLoading=!1};(0,s.bv)((()=>{c()}));const d=e=>e.split(" ").slice(0,14).join(" ").concat(" &#8230;");return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",bt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(e=>((0,s.wg)(),(0,s.iD)("span",{key:e.id},[(0,s.wy)((0,s._)("div",ht,[(0,s._)("figure",ft,[(0,s._)("img",{src:e.cover,class:"card__image"},null,8,wt),(0,s._)("figcaption",yt,[(0,s._)("h2",kt,(0,o.zw)(e.title),1),(0,s._)("div",{class:"card__snippet",innerHTML:d(e.contentMD)},null,8,St),(0,s.Wm)(l,{to:{name:"ResearchFieldDetail",params:{slug:e.slug}},class:"card__button"},{default:(0,s.w5)((()=>[(0,s.Uk)("Read more")])),_:2},1032,["to"])])])],512),[[t.F8,e.content]])])))),128))])}}};const Ct=(0,P.Z)(Dt,[["__scopeId","data-v-353cc434"]]);var xt=Ct;const Ut={class:"field-container"},Ht={class:"mb-3"},zt=["innerHTML"],Yt={key:1,style:{"font-size":"20px"}};var Lt={__name:"FieldDetail",setup(e){const a=u(),l=(0,p.yj)(),t=(0,n.iH)({}),r=(0,n.iH)(!1),c=async()=>{a.isLoading=!0;const e=l.params.slug;await i.ZP.get(`/api/v1/research/${e}`).then((e=>{t.value=e.data,t.value.contentMD=(0,X.TU)(t.value.content),r.value=!0})).catch((e=>{console.log(e)})),a.isLoading=!1};return(0,s.bv)((()=>{c()})),(e,a)=>((0,s.wg)(),(0,s.iD)("div",Ut,[r.value?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("h2",Ht,(0,o.zw)(t.value.title),1),(0,s._)("div",{class:"md-content",innerHTML:t.value.contentMD},null,8,zt)],64)):((0,s.wg)(),(0,s.iD)("span",Yt," 404: Page does not exist "))]))}};const $t=(0,P.Z)(Lt,[["__scopeId","data-v-7969535d"]]);var Pt=$t,Nt=l(4806);const Ot={class:"mb-4"},Mt={class:"row justify-content-between"},Ft={class:"col-4"},Vt=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="15">15</option><option value="20">20</option><option value="25">25</option>',5),Zt=[Vt],Tt=(0,s._)("span",{class:"ms-2"},"research fields per page",-1),Wt={class:"col-4"},Et={class:"table table-bordered"},It={style:{width:"34%"}},Jt={style:{width:"5%"}},At={style:{width:"15%"}},Rt={style:{width:"13%"}},jt={style:{width:"15%"}},qt={style:{width:"13%"}},Bt=(0,s._)("th",{style:{width:"5%","text-align":"right"}},"Actions",-1),Kt={style:{cursor:"pointer"},title:"Delete"},Gt=["onClick"],Xt={style:{cursor:"pointer"},title:"Edit"},Qt=["onClick"],es={class:"row py-3"},as={class:"col-7"},ls={class:"col-5"};var ts={__name:"TResearchFields",props:{research_fields:Object,showSearch:Boolean},emits:["fieldSlugEdit","fieldSlugDelete"],setup(e){const a=e,i=l(5743);let r=a.research_fields.map((e=>e));const u=(0,n.iH)("asc"),c=(0,n.iH)("title"),d=(0,n.iH)(1),p=(0,n.iH)(15),v=(0,n.iH)(15),m=(0,n.iH)(""),g=e=>{e===c.value&&(u.value="asc"===u.value?"desc":"asc"),c.value=e},_=e=>{d.value=e},b=()=>{p.value=v.value,d.value=1},h=(e,a)=>(""!==a.value&&(e=e.filter((e=>e.title.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.position.toString().indexOf(a.value.toLowerCase())>=0||e.content.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.author[0].username.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.author_update[0].username.toLowerCase().indexOf(a.value.toLowerCase())>=0))),e),f=(0,s.Fl)((()=>{let e=r;return e=h(e,m),e.sort(((e,a)=>{let l=1;return"desc"===u.value&&(l=-1),e[c.value]<a[c.value]?-1*l:e[c.value]>a[c.value]?1*l:0})).filter(((e,a)=>{let l=(d.value-1)*p.value,t=d.value*p.value;if(a>=l&&a<t)return!0}))})),w=(0,s.Fl)((()=>{let e=r;return e=h(e,m),Math.ceil(e.length/p.value)})),y=(0,s.Fl)((()=>{let e=r;return e=h(e,m),e.length}));(0,s.YP)((()=>m.value),(()=>{d.value=1}));const k=e=>{if(e)return i(String(e)).format("DD/MM/YY")};return(e,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Ot,[(0,s._)("div",Mt,[(0,s._)("div",Ft,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>v.value=e),onChange:b,class:"table-select px-1"},Zt,544),[[t.bM,v.value]]),(0,s.Uk)(),Tt]),(0,s._)("div",Wt,[(0,s.wy)((0,s._)("input",{class:"float-end px-1",type:"search","onUpdate:modelValue":a[1]||(a[1]=e=>m.value=e),placeholder:"Search..."},null,512),[[t.nr,m.value]])])])]),(0,s._)("table",Et,[(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",It,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[2]||(a[2]=e=>g("title"))}),(0,s.Uk)("Title")]),(0,s._)("th",Jt,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[3]||(a[3]=e=>g("position"))}),(0,s.Uk)("#")]),(0,s._)("th",At,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[4]||(a[4]=e=>g("author"))}),(0,s.Uk)("Created by")]),(0,s._)("th",Rt,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[5]||(a[5]=e=>g("created_at"))}),(0,s.Uk)("Created at")]),(0,s._)("th",jt,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[6]||(a[6]=e=>g("author_update"))}),(0,s.Uk)("Updated by")]),(0,s._)("th",qt,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[7]||(a[7]=e=>g("updated_at"))}),(0,s.Uk)("Updated at")]),Bt])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,n.SU)(f),(a=>((0,s.wg)(),(0,s.iD)("tr",{key:a.slug},[(0,s._)("td",null,(0,o.zw)(a.title),1),(0,s._)("td",null,(0,o.zw)(a.position),1),(0,s._)("td",null,(0,o.zw)(a.author[0].username),1),(0,s._)("td",null,(0,o.zw)(k(a.created_at)),1),(0,s._)("td",null,(0,o.zw)(a.author_update[0].username),1),(0,s._)("td",null,(0,o.zw)(k(a.updated_at)),1),(0,s._)("td",null,[(0,s._)("abbr",Kt,[(0,s._)("i",{onClick:l=>e.$emit("fieldSlugDelete",a),class:"bi bi-trash text-danger float-end"},null,8,Gt)]),(0,s._)("abbr",Xt,[(0,s._)("i",{onClick:l=>e.$emit("fieldSlugEdit",a.slug),class:"bi bi-pencil-square text-warning me-3 float-end"},null,8,Qt)])])])))),128))])]),(0,s._)("div",es,[(0,s._)("div",as,[1!=(0,n.SU)(y)?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,o.zw)((0,n.SU)(y))+" research fields found ",1)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,o.zw)((0,n.SU)(y))+" research field found ",1)],64))]),(0,s._)("div",ls,[(0,s.Wm)((0,n.SU)(Nt.Z),{modelValue:d.value,"onUpdate:modelValue":[a[8]||(a[8]=e=>d.value=e),_],pages:(0,n.SU)(w),"range-size":1,"active-color":"#B1C3D7",class:"float-end"},null,8,["modelValue","pages"])])])],64))}};const ss=ts;var ns=ss;const os={class:"modal fade",id:"delete_modal",tabindex:"-1","aria-hidden":"true","data-bs-backdrop":"static"},is={class:"modal-dialog modal-lg"},rs={class:"modal-content bg-light"},us={class:"modal-header"},cs={class:"modal-title"},ds=["onSubmit"],ps={class:"modal-body"},vs={class:"modal-footer"},ms=(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-danger"},"Delete",-1);var gs={__name:"DeleteModal",props:{model:String,title:String,warning:String,identifier:[String,Number],callback:Function,openDeleteModal:Boolean,endpoint:String},emits:["closeModal"],setup(e,{emit:a}){const l=e,r=u(),c=(0,n.iH)(null);(0,s.YP)((()=>l.openDeleteModal),(()=>{l.openDeleteModal&&(c.value=new de.u_(document.getElementById("delete_modal"),{}),c.value.show())}));const d=async()=>{r.isLoading=!0,await i.ZP["delete"](`/api/v1/${l.endpoint}/${l.identifier}`).then((e=>{c.value.hide(),(0,Ye.Yz)(`${l.model} deleted successfully`,r.toastSuccess),l.callback()})).catch((e=>{console.log(e)})),a("closeModal"),r.isLoading=!1};return(a,n)=>((0,s.wg)(),(0,s.iD)("div",os,[(0,s._)("div",is,[(0,s._)("div",rs,[(0,s._)("div",us,[(0,s._)("h6",cs,"Delete "+(0,o.zw)(l.title),1),(0,s._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:n[0]||(n[0]=e=>a.$emit("closeModal"))})]),(0,s._)("form",{onSubmit:(0,t.iM)(d,["prevent"])},[(0,s._)("div",ps,(0,o.zw)(e.warning),1),(0,s._)("div",vs,[(0,s._)("button",{type:"button",class:"btn btn-sm btn-outline-secondary","data-bs-dismiss":"modal",onClick:n[1]||(n[1]=e=>a.$emit("closeModal"))},"Cancel"),ms])],40,ds)])])]))}};const _s=gs;var bs=_s;const hs={class:"mb-5"},fs=(0,s._)("h4",{class:"inline-h"},"Research Fields",-1),ws={key:0,class:"d-flex justify-content-center"},ys=(0,s._)("div",{class:"spinner-border",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")],-1),ks=[ys];var Ss={__name:"FieldsSettings",setup(e){const a=u(),l=(c(),(0,p.tv)()),t=(0,n.iH)(!1),o=(0,n.iH)([]),r=(0,n.iH)([]),d=(0,n.iH)(!1),v=async()=>{a.isLoading=!0,t.value=!0,await i.ZP.get("/api/v1/research/").then((e=>{t.value=!1,o.value=e.data})).catch((e=>{console.log(e)})),a.isLoading=!1};(0,s.bv)((()=>{v()}));const m=e=>{r.value=e,d.value=!0},g=e=>{l.push(`/settings/research-fields/edit/${e}`)};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",hs,[fs,(0,s.Wm)(l,{class:"btn btn-sm btn-outline-primary px-4",style:{"text-align":"right",float:"right"},to:"/settings/research-fields/add"},{default:(0,s.w5)((()=>[(0,s.Uk)("Add research field ")])),_:1})]),t.value?((0,s.wg)(),(0,s.iD)("div",ws,ks)):((0,s.wg)(),(0,s.j4)(ns,{key:1,research_fields:o.value,onFieldSlugEdit:g,onFieldSlugDelete:m},null,8,["research_fields"])),(0,s.Wm)(bs,{model:"research field",title:r.value.title,warning:"Warning! A deleted news item cannot be recovered",identifier:r.value.slug,callback:v,openDeleteModal:d.value,endpoint:"research",onCloseModal:a[0]||(a[0]=e=>d.value=!1)},null,8,["title","identifier","openDeleteModal"])],64)}}};const Ds=Ss;var Cs=Ds;const xs=(0,s._)("h4",{class:"inline-h mb-4"},"Add Research Field",-1),Us=["onSubmit"],Hs={class:"row g-3"},zs={class:"col-md-12"},Ys=(0,s._)("label",null,"Title*",-1),Ls={class:"float-md-end mt-4 mb-4"},$s=(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-primary ms-1"},"Add ",-1);var Ps={__name:"AddField",setup(e){const a=u(),l=c(),o=(0,p.tv)(),r=(0,n.iH)(""),d=(0,n.iH)([]),v=async()=>{a.isLoading=!0,d.value=[];const e={title:r.value,content:"",author:l.user.id,author_update:l.user.id};d.value.length||await i.ZP.post("/api/v1/research/",e).then((e=>{console.log(e),o.push(`/settings/research-fields/edit/${e.data.slug}`),(0,Ye.Yz)("Research Field added successfully",a.toastSuccess)})).catch((e=>{if(e.response){for(const l in e.response.data)d.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),a.isLoading=!1};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[xs,(0,s._)("form",{onSubmit:(0,t.iM)(v,["prevent"])},[(0,s._)("div",Hs,[(0,s._)("div",zs,[Ys,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e)},null,512),[[t.nr,r.value]])])]),(0,s._)("div",Ls,[(0,s.Wm)(l,{type:"button",class:"btn btn-sm btn-outline-secondary ms-1",to:"/settings/research-fields"},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1}),$s])],40,Us)])}}};const Ns=Ps;var Os=Ns,Ms=l(5505);function Fs(e){return e.split("/").at(-1)}function Vs(e){let a;return e<512e3?(e/=1024,a="kB"):e<4194304e3?(e/=1048576,a="MB"):(e/=1073741824,a="GB"),Math.round(10*e)/10+a}function Zs(e){var a=document.createElement("textarea");a.value='<img src="'+e+'" width=300px class="center-img">',a.setAttribute("readonly",""),a.style={position:"absolute",left:"-9999px"},document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a)}const Ts={class:"mt-4"},Ws=(0,s._)("h5",{class:"inline-h mb-4"},"Content images",-1),Es={class:"container-upload"},Is=["onSubmit"],Js=(0,s._)("button",{class:"btn btn-primary btn-sm mt-3",type:"submit"},[(0,s.Uk)("Submit "),(0,s._)("i",{class:"bi bi-upload ms-3"})],-1),As={class:"mt-4 container-upload"},Rs={class:"table table-striped table-hover table-sm"},js=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{style:{width:"72%"}},"Image"),(0,s._)("th",{class:"pe-5",style:{width:"20%","text-align":"right"}},"Size"),(0,s._)("th",{style:{width:"8%","text-align":"right"}},"Actions")])],-1),qs={style:{"font-size":"13px"}},Bs=["href"],Ks={class:"pe-5",style:{"text-align":"right"}},Gs={style:{cursor:"pointer"},title:"Delete"},Xs=["onClick"],Qs={style:{cursor:"pointer"},title:"Copy link"},en=["onClick"];var an={__name:"ImagesComponent",props:["model","callback","endpoint","base_ref"],setup(e){const a=e,l=u(),r=(0,n.iH)(null),c=[],d=async()=>{for(let e=0;e<r.value.files.length;e++){const t=new FormData;t.append("reffield",a.model.id),t.append("image",r.value.files[e]),await i.ZP.post(`/api/v1/${a.endpoint}/`,t,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{a.callback(),(0,Ye.Yz)(`${Fs(e.data.image)} uploaded`,l.toastSuccess)})).catch((e=>{if(e.response){for(const a in e.response.data)c.value.push(`${a}: ${e.response.data[a]}`),(0,Ye.Yz)(`${a}: ${e.response.data[a]}`,l.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))}))}r.value.value=""},p=e=>{Zs(e),(0,Ye.Yz)("image copied to clipboard",l.toastSuccess)},v=async e=>{await i.ZP["delete"](`/api/v1/${a.endpoint}/${e.id}`).then((t=>{a.callback(),(0,Ye.Yz)(`${Fs(e.image)} deleted successfully`,l.toastSuccess)}))};return(l,i)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Ts,[Ws,(0,s._)("div",Es,[(0,s._)("form",{onSubmit:(0,t.iM)(d,["prevent"])},[(0,s._)("input",{class:"form-control",type:"file",ref_key:"inputImages",ref:r,multiple:""},null,512),Js],40,Is)])]),(0,s._)("div",As,[(0,s._)("table",Rs,[js,(0,s._)("tbody",qs,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.model[a.base_ref],(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id},[(0,s._)("td",null,[(0,s._)("a",{class:"table-image-link",href:e.image,target:"_blank"},(0,o.zw)((0,n.SU)(Fs)(e.image)),9,Bs)]),(0,s._)("td",Ks,(0,o.zw)((0,n.SU)(Vs)(e.size)),1),(0,s._)("td",null,[(0,s._)("abbr",Gs,[(0,s._)("i",{onClick:a=>v(e),class:"bi bi-trash text-danger float-end"},null,8,Xs)]),(0,s._)("abbr",Qs,[(0,s._)("i",{onClick:a=>p(e.image),class:"bi bi-files text-primary float-end me-4"},null,8,en)])])])))),128))])])])],64))}};const ln=an;var tn=ln,sn=l(6260);const nn=e=>((0,s.dD)("data-v-3dda6145"),e=e(),(0,s.Cn)(),e),on={class:"mt-4"},rn=nn((()=>(0,s._)("h5",{class:"inline-h mb-4"},"Cover",-1))),un={class:"container-upload"},cn={class:"row mt-2"},dn={class:"col-md-6 px-5"},pn={class:"crop-area-cover"},vn={class:"image-settings-div"},mn={class:"mt-3"},gn=["onClick"],_n=["onClick"],bn={class:"col-md-6"},hn={class:"cover-preview-area"},fn=nn((()=>(0,s._)("p",null,"Preview",-1))),wn={key:0,class:"cover-preview"},yn={class:"mt-4 container-upload"},kn={class:"table table-striped table-hover table-sm"},Sn=nn((()=>(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{style:{width:"72%"}},"Cover"),(0,s._)("th",{class:"pe-5",style:{width:"20%","text-align":"right"}},"Size"),(0,s._)("th",{style:{width:"8%","text-align":"right"}},"Actions")])],-1))),Dn={style:{"font-size":"13px"}},Cn=["href"],xn={class:"pe-5",style:{"text-align":"right"}},Un={style:{cursor:"pointer"},title:"Delete"},Hn=["onClick"],zn={style:{cursor:"pointer"},title:"Set as cover"},Yn=["onClick"];var Ln={__name:"CoverComponent",props:["model","callback","endpoint","baseRef","width","height","aspectRatio"],setup(e){const a=e,l=u(),r=(0,n.iH)(null),c=(0,n.iH)(null),d=[],p=(0,n.iH)(""),v=((0,n.iH)(""),(0,n.iH)(null),(0,n.iH)("")),m=(0,n.iH)(0),g=(0,n.iH)(0),_=(0,n.iH)(""),b=e=>{v.value=e.target.files[0];const a=v.value;if(void 0==a&&(p.value="",m.value=0,g.value=0,_.value=""),void 0!=a){if(_.value=a.type,-1===a.type.indexOf("image/"))return void(0,Ye.Yz)("Invalid file type selected. Select an image",l.toastDanger);if("function"===typeof FileReader){const e=new FileReader;e.onload=a=>{p.value=a.target.result,(0,s.Y3)((()=>{r.value.replace(a.target.result)}));var l=new Image;l.onload=()=>{m.value=l.width,g.value=l.height},l.src=e.result},e.readAsDataURL(a)}else this.createToast("Sorry, FileReader API not supported",l.toastDanger)}},h=(e,a)=>{r.value.move(e,a)},f=()=>{r.value.reset()},w=e=>{r.value.relativeZoom(e)},y=async()=>{r.value.getCroppedCanvas({width:a.width,height:a.height}).toBlob((e=>{const t=new FormData;t.append("reffield",a.model.id),t.append("image",e,v.value.name),0==a.model[a.baseRef].length&&t.append("isCover",!0),i.ZP.post(`/api/v1/${a.endpoint}/`,t,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{a.callback(),(0,Ye.Yz)(`${Fs(e.data.image)} uploaded`,l.toastSuccess)})).catch((e=>{if(e.response){for(const a in e.response.data)d.value.push(`${a}: ${e.response.data[a]}`),(0,Ye.Yz)(`${a}: ${e.response.data[a]}`,l.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))}))}),_.value),c.value.value="",p.value="",m.value=0,g.value=0,_.value=""},k=async e=>{const t=new FormData;t.append("isCover",!1);for(let n=0;n<a.model[a.baseRef].length;n++){const e=a.model[a.baseRef][n].id;await i.ZP.patch(`/api/v1/${a.endpoint}/${e}/`,t,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{})).catch((e=>{if(e.response){for(const a in e.response.data)d.value.push(`${a}: ${e.response.data[a]}`),(0,Ye.Yz)(`${a}: ${e.response.data[a]}`,l.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))}))}const s=new FormData;s.append("isCover",!0),await i.ZP.patch(`/api/v1/${a.endpoint}/${e.id}/`,s,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{console.log(e),(0,Ye.Yz)("Cover changed successfully",l.toastSuccess)})).catch((e=>{if(e.response){for(const a in e.response.data)d.value.push(`${a}: ${e.response.data[a]}`),(0,Ye.Yz)(`${a}: ${e.response.data[a]}`,l.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),a.callback()},S=async e=>{await i.ZP["delete"](`/api/v1/${a.endpoint}/${e.id}`).then((t=>{a.callback(),(0,Ye.Yz)(`${Fs(e.image)} deleted successfully`,l.toastSuccess)}))};return(e,l)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",on,[rn,(0,s._)("div",un,[(0,s._)("input",{class:"form-control",ref_key:"inputCover",ref:c,type:"file",name:"image",onChange:b},null,544),(0,s._)("div",cn,[(0,s._)("div",dn,[(0,s._)("div",pn,[(0,s.wy)((0,s._)("span",null," Image too small ",512),[[t.F8,""!=p.value&&(g.value<a.height||m.value<a.width)]]),(0,s.wy)((0,s._)("span",null,[(0,s.Wm)((0,n.SU)(sn.Z),{ref_key:"cropper",ref:r,"aspect-ratio":a.aspectRatio,src:p.value,cropBoxResizable:!1,preview:".cover-preview",dragMode:"none","img-style":{width:"350px",height:"350px"}},null,8,["aspect-ratio","src"])],512),[[t.F8,g.value>=a.height&&m.value>=a.width]])]),(0,s._)("div",vn,[(0,s._)("i",{class:"bi bi-zoom-in image-settings",onClick:l[0]||(l[0]=(0,t.iM)((e=>w(.2)),["prevent"]))}),(0,s._)("i",{class:"bi bi-zoom-out image-settings",onClick:l[1]||(l[1]=(0,t.iM)((e=>w(-.2)),["prevent"]))}),(0,s._)("i",{class:"bi bi-chevron-left image-settings",onClick:l[2]||(l[2]=(0,t.iM)((e=>h(-10,0)),["prevent"]))}),(0,s._)("i",{class:"bi bi-chevron-right image-settings",onClick:l[3]||(l[3]=(0,t.iM)((e=>h(10,0)),["prevent"]))}),(0,s._)("i",{class:"bi bi-chevron-up image-settings",onClick:l[4]||(l[4]=(0,t.iM)((e=>h(0,-10)),["prevent"]))}),(0,s._)("i",{class:"bi bi-chevron-down image-settings",onClick:l[5]||(l[5]=(0,t.iM)((e=>h(0,10)),["prevent"]))})]),(0,s._)("div",mn,[(0,s._)("button",{class:"btn btn-primary",style:{width:"170px","margin-right":"5px"},onClick:(0,t.iM)(f,["prevent"])},"Reset ",8,gn),(0,s._)("button",{class:"btn btn-primary",style:{width:"170px","margin-left":"5px"},onClick:(0,t.iM)(y,["prevent"])},"Crop & Update ",8,_n)])]),(0,s._)("div",bn,[(0,s._)("div",hn,[fn,g.value>=a.height&&m.value>=a.width?((0,s.wg)(),(0,s.iD)("div",wn)):(0,s.kq)("",!0)])])])])]),(0,s._)("div",yn,[(0,s._)("table",kn,[Sn,(0,s._)("tbody",Dn,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.model[a.baseRef],(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id},[(0,s._)("td",null,[(0,s._)("a",{class:"table-image-link",href:e.image,target:"_blank"},(0,o.zw)((0,n.SU)(Fs)(e.image)),9,Cn)]),(0,s._)("td",xn,(0,o.zw)((0,n.SU)(Vs)(e.size)),1),(0,s._)("td",null,[(0,s._)("abbr",Un,[(0,s._)("i",{onClick:a=>S(e),class:"bi bi-trash text-danger float-end"},null,8,Hn)]),(0,s._)("abbr",zn,[(0,s._)("i",{onClick:a=>k(e),class:"bi bi-arrow-up-square text-primary float-end me-4"},null,8,Yn)])])])))),128))])])])],64))}};const $n=(0,P.Z)(Ln,[["__scopeId","data-v-3dda6145"]]);var Pn=$n;const Nn=e=>((0,s.dD)("data-v-1a83cee4"),e=e(),(0,s.Cn)(),e),On=Nn((()=>(0,s._)("h4",{class:"inline-h mb-4"},"Edit Research Field",-1))),Mn={class:"container-upload"},Fn=["onSubmit"],Vn={class:"row"},Zn={class:"col-md-11"},Tn={class:"form-group mb-3"},Wn=Nn((()=>(0,s._)("label",{class:"mb-1"},"Title*",-1))),En={class:"col-md-1"},In={class:"form-group mb-3"},Jn=Nn((()=>(0,s._)("label",{class:"mb-1"},"Position*",-1))),An={class:"form-group"},Rn=Nn((()=>(0,s._)("label",{class:"mb-1"},"Content (at least 15 words)",-1))),jn={class:"form-group mb-3"},qn=Nn((()=>(0,s._)("label",{class:"me-3"},"Show in research fields page",-1))),Bn={class:"form-check form-check-inline"},Kn=Nn((()=>(0,s._)("label",{class:"form-check-label"},"Yes",-1))),Gn={class:"form-check form-check-inline"},Xn=Nn((()=>(0,s._)("label",{class:"form-check-label"},"No",-1))),Qn={class:"mt-4",align:"right"},eo=Nn((()=>(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-primary ms-1"},"Edit Research Field ",-1))),ao=Nn((()=>(0,s._)("hr",{style:{"margin-top":"40px"}},null,-1))),lo=Nn((()=>(0,s._)("hr",{style:{"margin-top":"40px"}},null,-1)));var to={__name:"EditField",setup(e){const a=u(),l=c(),o=(0,p.tv)(),r=(0,p.yj)(),d=(0,n.iH)([]),v=(0,n.iH)([]),m=(0,n.iH)("No"),g=(0,n.iH)([]),_=async()=>{a.isLoading=!0,g.value=[];const e=r.params.slug;await i.ZP.get(`/api/v1/research/${e}`).then((e=>{d.value=e.data})).catch((e=>{console.log(e)})),0==v.value.length&&(v.value=d.value),v.value.images_research!=d.value.images_research&&(v.value.images_research=d.value.images_research),v.value.cover_research!=d.value.cover_research&&(v.value.cover_research=d.value.cover_research),0==v.value.show_in_page&&(m.value="No"),1==v.value.show_in_page&&(m.value="Yes"),a.isLoading=!1};(0,s.bv)((()=>{_()}));const b=async()=>{a.isLoading=!0;const e=r.params.slug;v.value.author=v.value.author[0].id,v.value.author_update=l.user.id,"Yes"==m.value&&(v.value.show_in_page=!0),"No"==m.value&&(v.value.show_in_page=!1),g.value=[],await i.ZP.patch(`/api/v1/research/${e}/`,v.value).then((e=>{o.push("/settings/research-fields"),(0,Ye.Yz)("research field edited successfully",a.toastSuccess)})).catch((e=>{if(e.response){for(const l in e.response.data)g.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),a.isLoading=!1};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[On,(0,s._)("div",Mn,[(0,s._)("form",{onSubmit:(0,t.iM)(b,["prevent"])},[(0,s._)("div",Vn,[(0,s._)("div",Zn,[(0,s._)("div",Tn,[Wn,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":a[0]||(a[0]=e=>v.value.title=e)},null,512),[[t.nr,v.value.title]])])]),(0,s._)("div",En,[(0,s._)("div",In,[Jn,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"email","onUpdate:modelValue":a[1]||(a[1]=e=>v.value.position=e)},null,512),[[t.nr,v.value.position]])])])]),(0,s._)("div",An,[Rn,(0,s.Wm)((0,n.SU)(Ms.Z),{modelValue:v.value.content,"onUpdate:modelValue":a[2]||(a[2]=e=>v.value.content=e),ref:"markdownEditor"},null,8,["modelValue"])]),(0,s._)("div",jn,[qn,(0,s._)("div",Bn,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"radio",value:"Yes","onUpdate:modelValue":a[3]||(a[3]=e=>m.value=e)},null,512),[[t.G2,m.value]]),Kn]),(0,s._)("div",Gn,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"radio",value:"No","onUpdate:modelValue":a[4]||(a[4]=e=>m.value=e)},null,512),[[t.G2,m.value]]),Xn])]),(0,s._)("div",Qn,[(0,s.Wm)(l,{type:"button",class:"btn btn-sm btn-outline-secondary ms-1",to:"/settings/research-fields"},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel ")])),_:1}),eo])],40,Fn)]),ao,(0,s.Wm)(tn,{model:d.value,callback:_,endpoint:"research-images",base_ref:"images_research"},null,8,["model"]),lo,(0,s.Wm)(Pn,{model:d.value,callback:_,endpoint:"research-cover","base-ref":"cover_research",width:300,height:450,"aspect-ratio":2/3},null,8,["model"])],64)}}};const so=(0,P.Z)(to,[["__scopeId","data-v-1a83cee4"]]);var no=so;const oo=e=>((0,s.dD)("data-v-61405832"),e=e(),(0,s.Cn)(),e),io={class:"container"},ro={class:"card-profile"},uo={class:"our-team"},co={class:"picture"},po=["src"],vo={class:"team-content"},mo={class:"name"},go=["innerHTML"],_o=oo((()=>(0,s._)("strong",null,"VIEW FULL PROFILE",-1)));var bo={__name:"People",setup(e){const a=u(),l=(0,n.iH)(!1),t=(0,n.iH)([]),r=async()=>{a.isLoading=!0,l.value=!0,await i.ZP.get("/api/v1/people/").then((e=>{l.value=!1,t.value=e.data;for(let a=0;a<t.value.length;a++)t.value[a].pic_person.length>0?t.value[a].pic=t.value[a].pic_person.filter((e=>1==e.isPic))[0].image:t.value[a].pic="/media/website/people/pic_default.png",null!=t.value[a].role?t.value[a].roleMD=(0,X.TU)(t.value[a].role):t.value[a].roleMD="";t.value=t.value.filter((e=>!0===e.show_in_page)).sort(((e,a)=>e.position-a.position))})).catch((e=>{console.log(e)})),a.isLoading=!1};return(0,s.bv)((()=>{r()})),(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",io,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.value,(e=>((0,s.wg)(),(0,s.iD)("span",{key:e.id},[(0,s._)("div",ro,[(0,s._)("div",uo,[(0,s._)("div",co,[(0,s._)("img",{class:"img-fluid",src:e.pic},null,8,po)]),(0,s._)("div",vo,[(0,s._)("h4",mo,(0,o.zw)(e.name),1),(0,s._)("h5",{class:"title",innerHTML:e.roleMD},null,8,go)]),(0,s.Wm)(l,{to:{name:"PersonDetail",params:{slug:e.slug}},class:"profile-link"},{default:(0,s.w5)((()=>[_o])),_:2},1032,["to"])])])])))),128))])}}};const ho=(0,P.Z)(bo,[["__scopeId","data-v-61405832"]]);var fo=ho,wo=l.p+"img/scholar.15525474.svg",yo=l.p+"img/cv.8a2e6898.svg",ko=l.p+"img/github.1dcec4f4.svg",So=l.p+"img/linkedin.345e4805.svg";const Do=e=>((0,s.dD)("data-v-a2d9cc7e"),e=e(),(0,s.Cn)(),e),Co={class:"person-container"},xo={class:"row"},Uo={class:"left col-lg-4"},Ho={class:"photo-left"},zo=["src"],Yo={class:"center col-lg-3"},Lo={class:"profile-name"},$o=["innerHTML"],Po={class:"col-lg-5 ccol"},No={class:"row d-flex justify-content-end"},Oo={class:"right-email col-lg-auto"},Mo={class:"float-end text-secondary",style:{"margin-top":"5px","font-size":"20px"}},Fo={class:"profile-email"},Vo={class:"right-links col-lg-auto"},Zo={class:"float-end text-secondary",style:{"margin-top":"5px","font-size":"20px"}},To={style:{cursor:"pointer"},title:"Scholar"},Wo=["href"],Eo=Do((()=>(0,s._)("img",{src:wo,style:{width:"30px","margin-right":"15px"}},null,-1))),Io=[Eo],Jo={style:{cursor:"pointer"},title:"Curriculum"},Ao=["href"],Ro=Do((()=>(0,s._)("img",{src:yo,style:{width:"24px","margin-right":"15px"}},null,-1))),jo=[Ro],qo={style:{cursor:"pointer"},title:"Github"},Bo=["href"],Ko=Do((()=>(0,s._)("img",{src:ko,style:{width:"30px","margin-right":"15px"}},null,-1))),Go=[Ko],Xo={style:{cursor:"pointer"},title:"Linkedin"},Qo=["href"],ei=Do((()=>(0,s._)("img",{src:So,style:{width:"30px"}},null,-1))),ai=[ei],li=["innerHTML"],ti={key:1,style:{"font-size":"20px"}};var si={__name:"Person",setup(e){const a=u(),l=(0,p.yj)(),r=(0,n.iH)({}),c=(0,n.iH)(!1),d=async()=>{a.isLoading=!0;const e=l.params.slug;await i.ZP.get(`/api/v1/people/${e}`).then((e=>{r.value=e.data,c.value=!0,null!=r.value.content?r.value.contentMD=(0,X.TU)(r.value.content):r.value.contentMD="",null!=r.value.role?r.value.roleMD=(0,X.TU)(r.value.role):r.value.roleMD="",r.value.pic_person.length>0?r.value.pic=r.value.pic_person.filter((e=>1==e.isPic))[0].image:r.value.pic="/media/website/people/pic_default.png",r.value.cover_person.length>0?r.value.cover=r.value.cover_person.filter((e=>1==e.isCover))[0].image:r.value.cover="/media/website/people/cover_person.jpg",r.value.pdf_personCV.length>0?r.value.pdf=r.value.pdf_personCV.filter((e=>1==e.isPDF))[0].file:r.value.pdf=""})).catch((e=>{console.log(e)})),a.isLoading=!1};return(0,s.bv)((()=>{d()})),(e,a)=>((0,s.wg)(),(0,s.iD)("div",Co,[c.value?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",{class:"header",style:(0,o.j5)({backgroundImage:"url("+r.value.cover+")"})},null,4),(0,s._)("div",null,[(0,s._)("div",xo,[(0,s._)("div",Uo,[(0,s._)("div",Ho,[(0,s._)("img",{class:"photo",src:r.value.pic},null,8,zo)])]),(0,s._)("div",Yo,[(0,s._)("div",Lo,(0,o.zw)(r.value.name),1),(0,s._)("div",{class:"profile-role",innerHTML:r.value.roleMD},null,8,$o)]),(0,s._)("div",Po,[(0,s._)("div",No,[(0,s._)("div",Oo,[(0,s._)("div",Mo,[(0,s._)("span",Fo,(0,o.zw)(r.value.email),1)])]),(0,s._)("div",Vo,[(0,s._)("div",Zo,[(0,s.wy)((0,s._)("span",null,[(0,s._)("abbr",To,[(0,s._)("a",{href:r.value.link_scholar,target:"_blank"},Io,8,Wo)])],512),[[t.F8,r.value.link_scholar]]),(0,s.wy)((0,s._)("span",null,[(0,s._)("abbr",Jo,[(0,s._)("a",{href:r.value.pdf,target:"_blank"},jo,8,Ao)])],512),[[t.F8,r.value.pdf]]),(0,s.wy)((0,s._)("span",null,[(0,s._)("abbr",qo,[(0,s._)("a",{href:r.value.github,target:"_blank"},Go,8,Bo)])],512),[[t.F8,r.value.github]]),(0,s.wy)((0,s._)("span",null,[(0,s._)("abbr",Xo,[(0,s._)("a",{href:r.value.linkedin,target:"_blank"},ai,8,Qo)])],512),[[t.F8,r.value.linkedin]])])])])])])]),(0,s._)("div",{class:"md-content",innerHTML:r.value.contentMD},null,8,li)],64)):((0,s.wg)(),(0,s.iD)("span",ti," 404: Page does not exist "))]))}};const ni=(0,P.Z)(si,[["__scopeId","data-v-a2d9cc7e"]]);var oi=ni;const ii={class:"mb-4"},ri={class:"row justify-content-between"},ui={class:"col-4"},ci=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="15">15</option><option value="20">20</option><option value="25">25</option>',5),di=[ci],pi=(0,s._)("span",{class:"ms-2"},"research people per page",-1),vi={class:"col-4"},mi={class:"table table-bordered"},gi={style:{width:"34%"}},_i={style:{width:"5%"}},bi={style:{width:"15%"}},hi={style:{width:"13%"}},fi={style:{width:"15%"}},wi={style:{width:"13%"}},yi=(0,s._)("th",{style:{width:"5%","text-align":"right"}},"Actions",-1),ki={style:{cursor:"pointer"},title:"Delete"},Si=["onClick"],Di={style:{cursor:"pointer"},title:"Edit"},Ci=["onClick"],xi={class:"row py-3"},Ui={class:"col-7"},Hi={class:"col-5"};var zi={__name:"TPeople",props:{people:Object,showSearch:Boolean},emits:["personSlugEdit","personSlugDelete"],setup(e){const a=e,i=l(5743);let r=a.people.map((e=>e));const u=(0,n.iH)("asc"),c=(0,n.iH)("title"),d=(0,n.iH)(1),p=(0,n.iH)(15),v=(0,n.iH)(15),m=(0,n.iH)(""),g=e=>{e===c.value&&(u.value="asc"===u.value?"desc":"asc"),c.value=e},_=e=>{d.value=e},b=()=>{p.value=v.value,d.value=1},h=(e,a)=>(""!==a.value&&(e=e.filter((e=>e.name.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.position.toString().indexOf(a.value.toLowerCase())>=0||e.content.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.email.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.role.toLowerCase().indexOf(a.value.toLowerCase())>=0))),e),f=(0,s.Fl)((()=>{let e=r;return e=h(e,m),e.sort(((e,a)=>{let l=1;return"desc"===u.value&&(l=-1),e[c.value]<a[c.value]?-1*l:e[c.value]>a[c.value]?1*l:0})).filter(((e,a)=>{let l=(d.value-1)*p.value,t=d.value*p.value;if(a>=l&&a<t)return!0}))})),w=(0,s.Fl)((()=>{let e=r;return e=h(e,m),Math.ceil(e.length/p.value)})),y=(0,s.Fl)((()=>{let e=r;return e=h(e,m),e.length}));(0,s.YP)((()=>m.value),(()=>{d.value=1}));const k=e=>{if(e)return i(String(e)).format("DD/MM/YY")};return(e,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",ii,[(0,s._)("div",ri,[(0,s._)("div",ui,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>v.value=e),onChange:b,class:"table-select px-1"},di,544),[[t.bM,v.value]]),(0,s.Uk)(),pi]),(0,s._)("div",vi,[(0,s.wy)((0,s._)("input",{class:"float-end px-1",type:"search","onUpdate:modelValue":a[1]||(a[1]=e=>m.value=e),placeholder:"Search..."},null,512),[[t.nr,m.value]])])])]),(0,s._)("table",mi,[(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",gi,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[2]||(a[2]=e=>g("name"))}),(0,s.Uk)("Name")]),(0,s._)("th",_i,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[3]||(a[3]=e=>g("position"))}),(0,s.Uk)("#")]),(0,s._)("th",bi,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[4]||(a[4]=e=>g("author.username"))}),(0,s.Uk)("Created by")]),(0,s._)("th",hi,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[5]||(a[5]=e=>g("created_at"))}),(0,s.Uk)("Created at")]),(0,s._)("th",fi,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[6]||(a[6]=e=>g("author_update.username"))}),(0,s.Uk)("Updated by")]),(0,s._)("th",wi,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[7]||(a[7]=e=>g("updated_at"))}),(0,s.Uk)("Updated at")]),yi])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,n.SU)(f),(a=>((0,s.wg)(),(0,s.iD)("tr",{key:a.slug},[(0,s._)("td",null,(0,o.zw)(a.name),1),(0,s._)("td",null,(0,o.zw)(a.position),1),(0,s._)("td",null,(0,o.zw)(a.author[0].username),1),(0,s._)("td",null,(0,o.zw)(k(a.created_at)),1),(0,s._)("td",null,(0,o.zw)(a.author_update[0].username),1),(0,s._)("td",null,(0,o.zw)(k(a.updated_at)),1),(0,s._)("td",null,[(0,s._)("abbr",ki,[(0,s._)("i",{onClick:l=>e.$emit("personSlugDelete",a),class:"bi bi-trash text-danger float-end"},null,8,Si)]),(0,s._)("abbr",Di,[(0,s._)("i",{onClick:l=>e.$emit("personSlugEdit",a.slug),class:"bi bi-pencil-square text-warning me-3 float-end"},null,8,Ci)])])])))),128))])]),(0,s._)("div",xi,[(0,s._)("div",Ui,[1!=(0,n.SU)(y)?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,o.zw)((0,n.SU)(y))+" people found ",1)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,o.zw)((0,n.SU)(y))+" person found ",1)],64))]),(0,s._)("div",Hi,[(0,s.Wm)((0,n.SU)(Nt.Z),{modelValue:d.value,"onUpdate:modelValue":[a[8]||(a[8]=e=>d.value=e),_],pages:(0,n.SU)(w),"range-size":1,"active-color":"#B1C3D7",class:"float-end"},null,8,["modelValue","pages"])])])],64))}};const Yi=zi;var Li=Yi;const $i={class:"mb-5"},Pi=(0,s._)("h4",{class:"inline-h"},"People",-1),Ni={key:0,class:"d-flex justify-content-center"},Oi=(0,s._)("div",{class:"spinner-border",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")],-1),Mi=[Oi];var Fi={__name:"PeopleSettings",setup(e){const a=u(),l=(0,p.tv)(),t=(0,n.iH)(!1),o=(0,n.iH)([]),r=(0,n.iH)([]),c=(0,n.iH)(!1),d=async()=>{a.isLoading=!0,t.value=!0,await i.ZP.get("/api/v1/people/").then((e=>{t.value=!1,o.value=e.data})).catch((e=>{console.log(e)})),a.isLoading=!1};(0,s.bv)((()=>{d()}));const v=e=>{r.value=e,c.value=!0},m=e=>{l.push(`/settings/people/edit/${e}`)};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",$i,[Pi,(0,s.Wm)(l,{class:"btn btn-sm btn-outline-primary px-4",style:{"text-align":"right",float:"right"},to:"/settings/people/add"},{default:(0,s.w5)((()=>[(0,s.Uk)("Add person ")])),_:1})]),t.value?((0,s.wg)(),(0,s.iD)("div",Ni,Mi)):((0,s.wg)(),(0,s.j4)(Li,{key:1,people:o.value,onPersonSlugEdit:m,onPersonSlugDelete:v},null,8,["people"])),(0,s.Wm)(bs,{model:"person",title:r.value.name,warning:"Warning! A deleted person item cannot be recovered",identifier:r.value.slug,callback:d,openDeleteModal:c.value,endpoint:"people",onCloseModal:a[0]||(a[0]=e=>c.value=!1)},null,8,["title","identifier","openDeleteModal"])],64)}}};const Vi=Fi;var Zi=Vi;function Ti(e,a,l,t,n,i){return(0,s.wg)(),(0,s.iD)("div",{class:(0,o.C_)(["check-char",{"check-warning":i.charactersRemaining<=this.inputWarn}])},(0,o.zw)(i.charactersRemaining)+" characters remaining ",3)}var Wi={name:"CharCount",props:["input","inputLen","inputWarn"],computed:{charactersRemaining:function(){return this.inputLen-this.input.length}}};const Ei=(0,P.Z)(Wi,[["render",Ti],["__scopeId","data-v-3b05edf4"]]);var Ii=Ei;const Ji=(0,s._)("h4",{class:"inline-h mb-4"},"Add Person",-1),Ai=["onSubmit"],Ri={class:"row g-3"},ji={class:"col-md-12"},qi=(0,s._)("label",null,"Name*",-1),Bi={class:"float-md-end mt-4 mb-4"},Ki=(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-primary ms-1"},"Add ",-1);var Gi={__name:"AddPerson",setup(e){const a=u(),l=c(),o=(0,p.tv)(),r=(0,n.iH)(""),d=(0,n.iH)([]),v=async()=>{a.isLoading=!0,d.value=[];const e={name:r.value,email:"#",role:"#",author:l.user.id,author_update:l.user.id};d.value.length||await i.ZP.post("/api/v1/people/",e).then((e=>{o.push(`/settings/people/edit/${e.data.slug}`),(0,Ye.Yz)("Person added successfully",a.toastSuccess)})).catch((e=>{if(e.response){for(const l in e.response.data)d.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),a.isLoading=!1};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[Ji,(0,s._)("form",{onSubmit:(0,t.iM)(v,["prevent"])},[(0,s._)("div",Ri,[(0,s._)("div",ji,[qi,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e)},null,512),[[t.nr,r.value]])])]),(0,s._)("div",Bi,[(0,s.Wm)(l,{type:"button",class:"btn btn-sm btn-outline-secondary ms-1",to:"/settings/people"},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1}),Ki])],40,Ai)])}}};const Xi=Gi;var Qi=Xi;const er=e=>((0,s.dD)("data-v-f17cc700"),e=e(),(0,s.Cn)(),e),ar={class:"mt-4"},lr=er((()=>(0,s._)("h5",{class:"inline-h mb-4"},"Pic profile",-1))),tr={class:"container-upload"},sr={class:"row mt-2"},nr={class:"col-md-8 px-5"},or={class:"crop-area-pic"},ir={class:"image-settings-div"},rr={class:"mt-3"},ur=["onClick"],cr=["onClick"],dr={class:"col-md-4"},pr={class:"pic-preview-area"},vr=er((()=>(0,s._)("p",null,"Preview",-1))),mr={key:0,class:"pic-preview"},gr={class:"mt-4 container-upload"},_r={class:"table table-striped table-hover table-sm"},br=er((()=>(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{style:{width:"72%"}},"Pic"),(0,s._)("th",{class:"pe-5",style:{width:"20%","text-align":"right"}},"Size"),(0,s._)("th",{style:{width:"8%","text-align":"right"}},"Actions")])],-1))),hr={style:{"font-size":"13px"}},fr=["href"],wr={class:"pe-5",style:{"text-align":"right"}},yr={style:{cursor:"pointer"},title:"Delete"},kr=["onClick"],Sr={style:{cursor:"pointer"},title:"Set as pic"},Dr=["onClick"];var Cr={__name:"PicPerson",props:["person","callback"],setup(e){const a=e,l=u(),r=(0,n.iH)(null),c=(0,n.iH)(null),d=[],p=(0,n.iH)(""),v=((0,n.iH)(""),(0,n.iH)(null),(0,n.iH)("")),m=(0,n.iH)(0),g=(0,n.iH)(0),_=(0,n.iH)(""),b=e=>{v.value=e.target.files[0];const a=v.value;if(void 0==a&&(p.value="",m.value=0,g.value=0,_.value=""),void 0!=a){if(_.value=a.type,-1===a.type.indexOf("image/"))return void(0,Ye.Yz)("Invalid file type selected. Select an image",l.toastDanger);if("function"===typeof FileReader){const e=new FileReader;e.onload=a=>{p.value=a.target.result,(0,s.Y3)((()=>{r.value.replace(a.target.result)}));var l=new Image;l.onload=()=>{m.value=l.width,g.value=l.height},l.src=e.result},e.readAsDataURL(a)}else this.createToast("Sorry, FileReader API not supported",l.toastDanger)}},h=(e,a)=>{r.value.move(e,a)},f=()=>{r.value.reset()},w=e=>{r.value.relativeZoom(e)},y=async()=>{r.value.getCroppedCanvas({width:300,height:300}).toBlob((e=>{const t=new FormData;t.append("reffield",a.person.id),t.append("image",e,v.value.name),0==a.person.pic_person.length&&t.append("isPic",!0),i.ZP.post("/api/v1/person-pic/",t,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{a.callback(),(0,Ye.Yz)(`${Fs(e.data.image)} uploaded`,l.toastSuccess)})).catch((e=>{if(e.response){for(const a in e.response.data)d.value.push(`${a}: ${e.response.data[a]}`),(0,Ye.Yz)(`${a}: ${e.response.data[a]}`,l.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))}))}),_.value),c.value.value="",p.value="",m.value=0,g.value=0,_.value=""},k=async e=>{const t=new FormData;t.append("isPic",!1);for(let n=0;n<a.person.pic_person.length;n++){const e=a.person.pic_person[n].id;await i.ZP.patch(`/api/v1/person-pic/${e}/`,t,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{})).catch((e=>{if(e.response){for(const a in e.response.data)d.value.push(`${a}: ${e.response.data[a]}`),(0,Ye.Yz)(`${a}: ${e.response.data[a]}`,l.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))}))}const s=new FormData;s.append("isPic",!0),await i.ZP.patch(`/api/v1/person-pic/${e.id}/`,s,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{console.log(e),(0,Ye.Yz)("Pic changed successfully",l.toastSuccess)})).catch((e=>{if(e.response){for(const a in e.response.data)d.value.push(`${a}: ${e.response.data[a]}`),(0,Ye.Yz)(`${a}: ${e.response.data[a]}`,l.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),a.callback()},S=async e=>{await i.ZP["delete"](`/api/v1/person-pic/${e.id}`).then((t=>{a.callback(),(0,Ye.Yz)(`${Fs(e.image)} deleted successfully`,l.toastSuccess)}))};return(a,l)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",ar,[lr,(0,s._)("div",tr,[(0,s._)("input",{class:"form-control",ref_key:"inputPic",ref:c,type:"file",name:"image",onChange:b},null,544),(0,s._)("div",sr,[(0,s._)("div",nr,[(0,s._)("div",or,[(0,s.wy)((0,s._)("span",null," Image too small ",512),[[t.F8,""!=p.value&&(g.value<300||m.value<300)]]),(0,s.wy)((0,s._)("span",null,[(0,s.Wm)((0,n.SU)(sn.Z),{ref_key:"cropper",ref:r,"aspect-ratio":1,src:p.value,cropBoxResizable:!1,preview:".pic-preview",dragMode:"none"},null,8,["src"])],512),[[t.F8,g.value>300&&m.value>300]])]),(0,s._)("div",ir,[(0,s._)("i",{class:"bi bi-zoom-in image-settings",onClick:l[0]||(l[0]=(0,t.iM)((e=>w(.2)),["prevent"]))}),(0,s._)("i",{class:"bi bi-zoom-out image-settings",onClick:l[1]||(l[1]=(0,t.iM)((e=>w(-.2)),["prevent"]))}),(0,s._)("i",{class:"bi bi-chevron-left image-settings",onClick:l[2]||(l[2]=(0,t.iM)((e=>h(-10,0)),["prevent"]))}),(0,s._)("i",{class:"bi bi-chevron-right image-settings",onClick:l[3]||(l[3]=(0,t.iM)((e=>h(10,0)),["prevent"]))}),(0,s._)("i",{class:"bi bi-chevron-up image-settings",onClick:l[4]||(l[4]=(0,t.iM)((e=>h(0,-10)),["prevent"]))}),(0,s._)("i",{class:"bi bi-chevron-down image-settings",onClick:l[5]||(l[5]=(0,t.iM)((e=>h(0,10)),["prevent"]))})]),(0,s._)("div",rr,[(0,s._)("button",{class:"btn btn-primary",style:{width:"170px","margin-right":"5px"},onClick:(0,t.iM)(f,["prevent"])},"Reset ",8,ur),(0,s._)("button",{class:"btn btn-primary",style:{width:"170px","margin-left":"5px"},onClick:(0,t.iM)(y,["prevent"])},"Crop & Update ",8,cr)])]),(0,s._)("div",dr,[(0,s._)("div",pr,[vr,g.value>=300&&m.value>=300?((0,s.wg)(),(0,s.iD)("div",mr)):(0,s.kq)("",!0)])])])])]),(0,s._)("div",gr,[(0,s._)("table",_r,[br,(0,s._)("tbody",hr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.person.pic_person,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id},[(0,s._)("td",null,[(0,s._)("a",{class:"table-image-link",href:e.image,target:"_blank"},(0,o.zw)((0,n.SU)(Fs)(e.image)),9,fr)]),(0,s._)("td",wr,(0,o.zw)((0,n.SU)(Vs)(e.size)),1),(0,s._)("td",null,[(0,s._)("abbr",yr,[(0,s._)("i",{onClick:a=>S(e),class:"bi bi-trash text-danger float-end"},null,8,kr)]),(0,s._)("abbr",Sr,[(0,s._)("i",{onClick:a=>k(e),class:"bi bi-arrow-up-square text-primary float-end me-4"},null,8,Dr)])])])))),128))])])])],64))}};const xr=(0,P.Z)(Cr,[["__scopeId","data-v-f17cc700"]]);var Ur=xr;const Hr={class:"mt-4"},zr=(0,s._)("h5",{class:"inline-h mb-4"},"Curriculum PDF",-1),Yr={class:"container-upload"},Lr=["onSubmit"],$r=(0,s._)("button",{class:"btn btn-primary btn-sm mt-3",type:"submit"},[(0,s.Uk)("Submit "),(0,s._)("i",{class:"bi bi-upload ms-3"})],-1),Pr={class:"mt-4 container-upload"},Nr={class:"table table-striped table-hover table-sm"},Or=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{style:{width:"72%"}},"File"),(0,s._)("th",{class:"pe-5",style:{width:"20%","text-align":"right"}},"Size"),(0,s._)("th",{style:{width:"8%","text-align":"right"}},"Actions")])],-1),Mr={style:{"font-size":"13px"}},Fr=["href"],Vr={class:"pe-5",style:{"text-align":"right"}},Zr={style:{cursor:"pointer"},title:"Delete"},Tr=["onClick"],Wr={style:{cursor:"pointer"},title:"Set as CV"},Er=["onClick"];var Ir={__name:"CVPerson",props:["person","callback"],setup(e){const a=e,l=u(),r=(0,n.iH)([]),c=(0,n.iH)(null),d=async()=>{if(c.value.files.length>0){const e=c.value.files[0].name;if("pdf"!=e.split(".").pop().toLowerCase())(0,Ye.Yz)(`${e} is not a pdf`,l.toastDanger);else{const e=new FormData;e.append("reffield",a.person.id),e.append("file",c.value.files[0]),0==a.person.pef_personCV.length&&e.append("isPDF",!0),await i.ZP.post("/api/v1/perople-files/",e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{console.log(e),a.callback(),(0,Ye.Yz)(`${Fs(e.data.file)} uploaded`,l.toastSuccess)})).catch((e=>{if(e.response){for(const a in e.response.data)r.value.push(`${a}: ${e.response.data[a]}`),(0,Ye.Yz)(`${a}: ${e.response.data[a]}`,l.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),c.value.value=""}}},p=async e=>{const t=new FormData;t.append("isPDF",!1);for(let n=0;n<a.person.pef_personCV.length;n++){const e=a.person.pef_personCV[n].id;await i.ZP.patch(`/api/v1/people-files/${e}/`,t,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{})).catch((e=>{if(e.response){for(const a in e.response.data)r.value.push(`${a}: ${e.response.data[a]}`),(0,Ye.Yz)(`${a}: ${e.response.data[a]}`,l.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))}))}const s=new FormData;s.append("isPDF",!0),await i.ZP.patch(`/api/v1/people-files/${e.id}/`,s,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{(0,Ye.Yz)("PDF changed successfully",l.toastSuccess)})).catch((e=>{if(e.response){for(const a in e.response.data)r.value.push(`${a}: ${e.response.data[a]}`),(0,Ye.Yz)(`${a}: ${e.response.data[a]}`,l.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),a.callback()},v=async e=>{await i.ZP["delete"](`/api/v1/people-files/${e.id}`).then((t=>{console.log(t),a.callback(),(0,Ye.Yz)(`${Fs(e.file)} deleted successfully`,l.toastSuccess)}))};return(a,l)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Hr,[zr,(0,s._)("div",Yr,[(0,s._)("form",{onSubmit:(0,t.iM)(d,["prevent"])},[(0,s._)("input",{class:"form-control",type:"file",ref_key:"inputFiles",ref:c},null,512),$r],40,Lr)])]),(0,s._)("div",Pr,[(0,s._)("table",Nr,[Or,(0,s._)("tbody",Mr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.person.pdf_personCV,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id},[(0,s._)("td",null,[(0,s._)("a",{class:"table-image-link",href:e.file,target:"_blank"},(0,o.zw)((0,n.SU)(Fs)(e.file)),9,Fr)]),(0,s._)("td",Vr,(0,o.zw)((0,n.SU)(Vs)(e.size)),1),(0,s._)("td",null,[(0,s._)("abbr",Zr,[(0,s._)("i",{onClick:a=>v(e),class:"bi bi-trash text-danger float-end"},null,8,Tr)]),(0,s._)("abbr",Wr,[(0,s._)("i",{onClick:a=>p(e),class:"bi bi-arrow-up-square text-primary float-end me-4"},null,8,Er)])])])))),128))])])])],64))}};const Jr=Ir;var Ar=Jr;const Rr=(0,s._)("h4",{class:"inline-h mb-4"},"Edit Person",-1),jr={class:"container-upload"},qr=["onSubmit"],Br={class:"row"},Kr={class:"col-md-6"},Gr={class:"form-group mb-3"},Xr=(0,s._)("label",{class:"mb-1"},"Name*",-1),Qr={class:"col-md-6"},eu={class:"form-group mb-3"},au=(0,s._)("label",{class:"mb-1"},"Email*",-1),lu={class:"row"},tu={class:"col-md-3"},su={class:"form-group mb-3"},nu=(0,s._)("label",{class:"mb-1"},"Role*",-1),ou={class:"col-md-8"},iu={class:"form-group mb-3"},ru=(0,s._)("label",{class:"mb-1"},"Affiliation",-1),uu={class:"col-md-1"},cu={class:"form-group mb-3"},du=(0,s._)("label",{class:"mb-1"},"Position*",-1),pu={class:"row"},vu={class:"col-md-4"},mu={class:"form-group mb-3"},gu=(0,s._)("label",{class:"mb-1"},"Scholar",-1),_u={class:"col-md-4"},bu={class:"form-group mb-3"},hu=(0,s._)("label",{class:"mb-1"},"Linkedin",-1),fu={class:"col-md-4"},wu={class:"form-group mb-3"},yu=(0,s._)("label",{class:"mb-1"},"Github",-1),ku={class:"form-group"},Su=(0,s._)("label",{class:"mb-1"},"Content",-1),Du={class:"form-group mb-3"},Cu=(0,s._)("label",{class:"me-3"},"Show in people page",-1),xu={class:"form-check form-check-inline"},Uu=(0,s._)("label",{class:"form-check-label"},"Yes",-1),Hu={class:"form-check form-check-inline"},zu=(0,s._)("label",{class:"form-check-label"},"No",-1),Yu={class:"mt-4",align:"right"},Lu=(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-primary ms-1"},"Edit Person ",-1),$u=(0,s._)("hr",{style:{"margin-top":"40px"}},null,-1),Pu=(0,s._)("hr",{style:{"margin-top":"40px"}},null,-1),Nu=(0,s._)("hr",{style:{"margin-top":"40px"}},null,-1),Ou=(0,s._)("hr",{style:{"margin-top":"40px"}},null,-1);var Mu={__name:"EditPerson",setup(e){const a=u(),l=c(),o=(0,p.tv)(),r=(0,p.yj)(),d=(0,n.iH)([]),v=(0,n.iH)([]),m=(0,n.iH)("No"),g=(0,n.iH)(""),_=(0,n.iH)(""),b=(0,n.iH)([]),h=async()=>{a.isLoading=!0,b.value=[];const e=r.params.slug;await i.ZP.get(`/api/v1/people/${e}`).then((e=>{d.value=e.data;const a=d.value.role.split("<br><small><em>");g.value=a[0],_.value=a[1].slice(0,-13)})).catch((e=>{console.log(e)})),null==d.value.content&&(d.value.content=""),"#"==d.value.role&&(d.value.role=""),"#"==d.value.email&&(d.value.email=""),0==v.value.length&&(v.value=d.value),v.value.images_person!=d.value.images_person&&(v.value.images_person=d.value.images_person),v.value.cover_person!=d.value.cover_person&&(v.value.cover_person=d.value.cover_person),0==v.value.show_in_page&&(m.value="No"),1==v.value.show_in_page&&(m.value="Yes"),a.isLoading=!1};(0,s.bv)((()=>{h()}));const f=async()=>{a.isLoading=!0;const e=r.params.slug;v.value.author=v.value.author[0].id,v.value.author_update=l.user.id,"Yes"==m.value&&(v.value.show_in_page=!0),"No"==m.value&&(v.value.show_in_page=!1),v.value.role=`${g.value}<br><small><em>${_.value}</em></small>`,b.value=[],await i.ZP.patch(`/api/v1/people/${e}/`,v.value).then((e=>{o.push("/settings/people"),(0,Ye.Yz)("person field edited successfully",a.toastSuccess)})).catch((e=>{if(e.response){for(const l in e.response.data)b.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),a.isLoading=!1};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[Rr,(0,s._)("div",jr,[(0,s._)("form",{onSubmit:(0,t.iM)(f,["prevent"])},[(0,s._)("div",Br,[(0,s._)("div",Kr,[(0,s._)("div",Gr,[Xr,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":a[0]||(a[0]=e=>v.value.name=e)},null,512),[[t.nr,v.value.name]])])]),(0,s._)("div",Qr,[(0,s._)("div",eu,[au,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"email","onUpdate:modelValue":a[1]||(a[1]=e=>v.value.email=e)},null,512),[[t.nr,v.value.email]])])])]),(0,s._)("div",lu,[(0,s._)("div",tu,[(0,s._)("div",su,[nu,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"role","onUpdate:modelValue":a[2]||(a[2]=e=>g.value=e)},null,512),[[t.nr,g.value]])])]),(0,s._)("div",ou,[(0,s._)("div",iu,[ru,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"role","onUpdate:modelValue":a[3]||(a[3]=e=>_.value=e)},null,512),[[t.nr,_.value]])])]),(0,s._)("div",uu,[(0,s._)("div",cu,[du,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"role","onUpdate:modelValue":a[4]||(a[4]=e=>v.value.position=e)},null,512),[[t.nr,v.value.position]])])])]),(0,s._)("div",pu,[(0,s._)("div",vu,[(0,s._)("div",mu,[gu,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"scholar","onUpdate:modelValue":a[5]||(a[5]=e=>v.value.link_scholar=e)},null,512),[[t.nr,v.value.link_scholar]])])]),(0,s._)("div",_u,[(0,s._)("div",bu,[hu,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"linkedin","onUpdate:modelValue":a[6]||(a[6]=e=>v.value.linkedin=e)},null,512),[[t.nr,v.value.linkedin]])])]),(0,s._)("div",fu,[(0,s._)("div",wu,[yu,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"role","onUpdate:modelValue":a[7]||(a[7]=e=>v.value.github=e)},null,512),[[t.nr,v.value.github]])])])]),(0,s._)("div",ku,[Su,(0,s.Wm)((0,n.SU)(Ms.Z),{modelValue:v.value.content,"onUpdate:modelValue":a[8]||(a[8]=e=>v.value.content=e),ref:"markdownEditor"},null,8,["modelValue"])]),(0,s._)("div",Du,[Cu,(0,s._)("div",xu,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"radio",value:"Yes","onUpdate:modelValue":a[9]||(a[9]=e=>m.value=e)},null,512),[[t.G2,m.value]]),Uu]),(0,s._)("div",Hu,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"radio",value:"No","onUpdate:modelValue":a[10]||(a[10]=e=>m.value=e)},null,512),[[t.G2,m.value]]),zu])]),(0,s._)("div",Yu,[(0,s.Wm)(l,{type:"button",class:"btn btn-sm btn-outline-secondary ms-1",to:"/settings/people"},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel ")])),_:1}),Lu])],40,qr)]),$u,(0,s.Wm)(tn,{model:d.value,callback:h,endpoint:"person-images",base_ref:"images_person"},null,8,["model"]),Pu,(0,s.Wm)(Ur,{person:d.value,callback:h},null,8,["person"]),Nu,(0,s.Wm)(Pn,{model:d.value,callback:h,endpoint:"person-cover","base-ref":"cover_person",width:1200,height:300,"aspect-ratio":4},null,8,["model"]),Ou,(0,s.Wm)(Ar,{person:d.value,callback:h},null,8,["person"])],64)}}};const Fu=Mu;var Vu=Fu,Zu=l(9810);const Tu=e=>((0,s.dD)("data-v-01201390"),e=e(),(0,s.Cn)(),e),Wu={class:"publication-container"},Eu={class:"monitor-view"},Iu={class:"row justify-content-between"},Ju=Tu((()=>(0,s._)("div",{class:"col col-md-4"},[(0,s._)("h4",{class:"head-title"},"Publications")],-1))),Au={class:"col col-md-5"},Ru={class:"multiselect-container"},ju={class:"multiselect-multiple-label"},qu={class:"mobile-view"},Bu=Tu((()=>(0,s._)("div",null,[(0,s._)("h4",{class:"head-title"},"Publications")],-1))),Ku={class:"multiselect-container"},Gu={class:"multiselect-multiple-label"},Xu=Tu((()=>(0,s._)("p",{class:"equal-authors"},[(0,s.Uk)("* "),(0,s._)("em",null,"Contributed equally to this work")],-1))),Qu={class:"pub-year"},ec={class:"pub-title text-primary"},ac={class:"monitor-view"},lc=["href"],tc=Tu((()=>(0,s._)("i",{class:"bi bi-file-pdf text-danger me-1"},null,-1))),sc=Tu((()=>(0,s._)("strong",{class:"text-dark"},"PDF",-1))),nc=[tc,sc],oc={class:"ms-1 me-1"},ic={class:"ms-1 me-1"},rc={class:"ms-1 me-1"},uc=["href"],cc=Tu((()=>(0,s._)("i",{class:"bi bi-link-45deg text-danger me-1"},null,-1))),dc=Tu((()=>(0,s._)("strong",{class:"text-dark"},"Link",-1))),pc=[cc,dc],vc={class:"ms-1 me-1"},mc={class:"ms-1 me-1"},gc=["onClick"],_c=Tu((()=>(0,s._)("i",{class:"bi bi-file-code text-danger me-1"},null,-1))),bc=Tu((()=>(0,s._)("strong",{class:"text-dark"},"BibTeX",-1))),hc=[_c,bc],fc={class:"ms-1 me-1"},wc=["onClick"],yc=Tu((()=>(0,s._)("i",{class:"bi bi-envelope text-danger me-1"},null,-1))),kc={class:"text-dark"},Sc={class:"mobile-view"},Dc=["href"],Cc=Tu((()=>(0,s._)("i",{class:"bi bi-file-pdf text-danger me-1"},null,-1))),xc=Tu((()=>(0,s._)("strong",{class:"text-dark"},"PDF",-1))),Uc=[Cc,xc],Hc={class:"ms-1 me-1"},zc={class:"ms-1 me-1"},Yc=["href"],Lc=Tu((()=>(0,s._)("i",{class:"bi bi-link-45deg text-danger me-1"},null,-1))),$c=Tu((()=>(0,s._)("strong",{class:"text-dark"},"Link",-1))),Pc=[Lc,$c],Nc={class:"ms-1 me-1"},Oc=["onClick"],Mc=Tu((()=>(0,s._)("i",{class:"bi bi-file-code text-danger me-1"},null,-1))),Fc=Tu((()=>(0,s._)("strong",{class:"text-dark"},"BibTeX",-1))),Vc=[Mc,Fc],Zc=["onClick"],Tc=Tu((()=>(0,s._)("i",{class:"bi bi-envelope text-danger me-1"},null,-1))),Wc={class:"text-dark"},Ec={class:"field-title"},Ic={class:"pub-year"},Jc={class:"pub-title text-primary"},Ac=["href"],Rc=Tu((()=>(0,s._)("i",{class:"bi bi-file-pdf text-danger me-1"},null,-1))),jc=Tu((()=>(0,s._)("strong",{class:"text-dark"},"PDF",-1))),qc=[Rc,jc],Bc={class:"ms-1 me-1"},Kc={class:"ms-1 me-1"},Gc={class:"ms-1 me-1"},Xc=["href"],Qc=Tu((()=>(0,s._)("i",{class:"bi bi-link-45deg text-danger me-1"},null,-1))),ed=Tu((()=>(0,s._)("strong",{class:"text-dark"},"Link",-1))),ad=[Qc,ed],ld={class:"ms-1 me-1"},td={class:"ms-1 me-1"},sd=["onClick"],nd=Tu((()=>(0,s._)("i",{class:"bi bi-file-code text-danger me-1"},null,-1))),od=Tu((()=>(0,s._)("strong",{class:"text-dark"},"BibTeX",-1))),id=[nd,od],rd={class:"ms-1 me-1"},ud=["onClick"],cd=Tu((()=>(0,s._)("i",{class:"bi bi-envelope text-danger me-1"},null,-1))),dd={class:"text-dark"},pd=Tu((()=>(0,s._)("div",{class:"equal-authors pb-4"},[(0,s.Uk)("* "),(0,s._)("em",null,"Contributed equally to this work")],-1)));var vd={__name:"Publications",setup(e){const a=u(),l=(0,n.iH)(!1),r=(0,n.iH)([]),c=(0,n.iH)([]),d=(0,n.iH)([]),p=(0,n.iH)([]),v=(0,n.iH)({mode:"multiple",hideSelected:!1,closeOnSelect:!1,value:[],options:{}}),m=async()=>{a.isLoading=!0,l.value=!0,await i.ZP.get("/api/v1/publications/").then((e=>{l.value=!1,r.value=e.data})).catch((e=>{console.log(e)}));for(let a=0;a<r.value.length;a++){r.value[a].pdf_publication.length>0?r.value[a].pdf=r.value[a].pdf_publication.filter((e=>1==e.isPDF))[0].file:r.value[a].pdf="";let e="10 "+r.value[a].year,l=new Date(e);r.value[a].fullYear=l.getFullYear()}let e=r.value.reduce(((e,a)=>{let l=e.findIndex((e=>e.year===a.fullYear));return l<0?e.push({year:a.fullYear,pub:[a]}):e[l].pub.push(a),e}),[]).sort(((e,a)=>a.year-e.year));for(let a=0;a<e.length;a++)e[a].pub=e[a].pub.sort(((e,a)=>new Date("10 "+a.year).getTime()-new Date("10 "+e.year).getTime()));d.value=e;let t=r.value.reduce(((e,a)=>{for(let l=0;l<a.field.length;l++){let t=e.findIndex((e=>e.field===a.field[l].title));t<0?e.push({field:a.field[l].title,pubs:[a]}):e[t].pubs.push(a)}return e}),[]).sort(((e,a)=>e.field.localeCompare(a.field)));for(let a=0;a<t.length;a++){let e=t[a].pubs.reduce(((e,a)=>{let l=e.findIndex((e=>e.year===a.fullYear));return l<0?e.push({year:a.fullYear,pub:[a]}):e[l].pub.push(a),e}),[]).sort(((e,a)=>a.year-e.year));t[a].pubs=e}for(let a=0;a<t.length;a++)for(let e=0;e<t[a].pubs.length;e++)t[a].pubs[e].pub=t[a].pubs[e].pub.sort(((e,a)=>new Date("10 "+a.year).getTime()-new Date("10 "+e.year).getTime()));c.value=t,a.isLoading=!1},g=async()=>{a.isLoading=!0,await i.ZP.get("/api/v1/research/").then((e=>{p.value=e.data})).catch((e=>{console.log(e)}));let e=p.value.map((e=>e.title)).sort(((e,a)=>e.localeCompare(a))),l=p.value.map((e=>e.title)).sort(((e,a)=>e.localeCompare(a)));for(var t=0;t<l.length;t++)v.value.options[l[t]]=e[t];a.isLoading=!1};(0,s.bv)((()=>{m(),g()}));const _=e=>{var l=document.createElement("textarea");l.value=e,l.setAttribute("readonly",""),l.style={position:"absolute",left:"-9999px"},document.body.appendChild(l),l.select(),document.execCommand("copy"),document.body.removeChild(l),(0,Ye.Yz)("BibTeX copied successfully",a.toastSuccess)},b=e=>{var l=document.createElement("textarea");l.value=e,l.setAttribute("readonly",""),l.style={position:"absolute",left:"-9999px"},document.body.appendChild(l),l.select(),document.execCommand("copy"),document.body.removeChild(l),(0,Ye.Yz)("Corresponding email copied successfully",a.toastSuccess)};return(e,a)=>((0,s.wg)(),(0,s.iD)("div",Wu,[(0,s._)("div",Eu,[(0,s._)("div",Iu,[Ju,(0,s._)("div",Au,[(0,s._)("div",Ru,[(0,s.Wm)((0,n.SU)(Zu.Z),(0,s.dG)({modelValue:v.value.value,"onUpdate:modelValue":a[0]||(a[0]=e=>v.value.value=e)},v.value,{placeholder:"Show publications by research field",class:"multiselect-blue"}),{multiplelabel:(0,s.w5)((({values:e})=>[(0,s._)("div",ju,[1==e.length?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,o.zw)(e[0].label),1)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,o.zw)(e.length)+" research fields selected ",1)],64))])])),_:1},16,["modelValue"])])])])]),(0,s._)("div",qu,[Bu,(0,s._)("div",null,[(0,s._)("div",Ku,[(0,s.Wm)((0,n.SU)(Zu.Z),(0,s.dG)({modelValue:v.value.value,"onUpdate:modelValue":a[1]||(a[1]=e=>v.value.value=e)},v.value,{placeholder:"Show publications by research field",class:"multiselect-blue"}),{multiplelabel:(0,s.w5)((({values:e})=>[(0,s._)("div",Gu,[1==e.length?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,o.zw)(e[0].label),1)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,o.zw)(e.length)+" research fields selected ",1)],64))])])),_:1},16,["modelValue"])])])]),Xu,0==v.value.value.length?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(d.value,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id,class:"mt-4"},[(0,s._)("div",Qu,(0,o.zw)(e.year),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.pub,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"pub-block",key:e.id},[(0,s._)("div",null,[(0,s._)("em",null,(0,o.zw)(e.authors),1)]),(0,s._)("div",ec,(0,o.zw)(e.title),1),(0,s._)("div",null,[(0,s._)("em",null,(0,o.zw)(e.magazine),1),(0,s.Uk)(" — "+(0,o.zw)(e.year)+" ",1),e.doi?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)("— "+(0,o.zw)(e.doi),1)],64)):(0,s.kq)("",!0)]),(0,s._)("div",ac,[(0,s.wy)((0,s._)("span",null,[(0,s._)("a",{href:e.pdf,target:"_blank"},nc,8,lc)],512),[[t.F8,e.pdf]]),(0,s.wy)((0,s._)("span",oc,"—",512),[[t.F8,e.pdf&&e.link]]),(0,s.wy)((0,s._)("span",ic,"—",512),[[t.F8,e.pdf&&e.bibtex&&!e.link]]),(0,s.wy)((0,s._)("span",rc,"—",512),[[t.F8,e.pdf&&e.corresponding&&!e.link&&!e.bibtex]]),(0,s.wy)((0,s._)("span",null,[(0,s._)("a",{href:e.link,target:"_blank"},pc,8,uc)],512),[[t.F8,e.link]]),(0,s.wy)((0,s._)("span",vc,"—",512),[[t.F8,e.link&&e.bibtex]]),(0,s.wy)((0,s._)("span",mc,"—",512),[[t.F8,e.link&&e.corresponding&&!e.bibtex]]),(0,s.wy)((0,s._)("span",null,[(0,s._)("abbr",{title:"Copy BibTeX",onClick:a=>_(e.bibtex)},hc,8,gc)],512),[[t.F8,e.bibtex]]),(0,s.wy)((0,s._)("span",fc,"—",512),[[t.F8,e.bibtex&&e.corresponding]]),(0,s.wy)((0,s._)("span",null,[(0,s._)("abbr",{title:"Copy Corresponding Author Email",onClick:a=>b(e.corresponding)},[yc,(0,s._)("strong",kc,(0,o.zw)(e.corresponding),1)],8,wc)],512),[[t.F8,e.corresponding]])]),(0,s._)("div",Sc,[(0,s._)("div",null,[(0,s.wy)((0,s._)("span",null,[(0,s._)("a",{href:e.pdf,target:"_blank"},Uc,8,Dc)],512),[[t.F8,e.pdf]]),(0,s.wy)((0,s._)("span",Hc,"—",512),[[t.F8,e.pdf&&e.link]]),(0,s.wy)((0,s._)("span",zc,"—",512),[[t.F8,e.pdf&&e.bibtex&&!e.link]]),(0,s.wy)((0,s._)("span",null,[(0,s._)("a",{href:e.link,target:"_blank"},Pc,8,Yc)],512),[[t.F8,e.link]]),(0,s.wy)((0,s._)("span",Nc,"—",512),[[t.F8,e.link&&e.bibtex]]),(0,s.wy)((0,s._)("span",null,[(0,s._)("abbr",{title:"Copy BibTeX",onClick:a=>_(e.bibtex)},Vc,8,Oc)],512),[[t.F8,e.bibtex]])]),(0,s._)("div",null,[(0,s.wy)((0,s._)("span",null,[(0,s._)("abbr",{title:"Copy Corresponding Author Email",onClick:a=>b(e.corresponding)},[Tc,(0,s._)("strong",Wc,(0,o.zw)(e.corresponding),1)],8,Zc)],512),[[t.F8,e.corresponding]])])])])))),128))])))),128)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[c.value.length?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(c.value,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.slug},[v.value.value.includes(e.field)?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",Ec,(0,o.zw)(e.field),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.pubs,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id},[(0,s._)("div",Ic,(0,o.zw)(e.year),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.pub,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"pub-block",key:e.id},[(0,s._)("div",null,[(0,s._)("em",null,(0,o.zw)(e.authors),1)]),(0,s._)("div",Jc,(0,o.zw)(e.title),1),(0,s._)("div",null,[(0,s._)("em",null,(0,o.zw)(e.magazine),1),(0,s.Uk)(" — "+(0,o.zw)(e.year)+" — "+(0,o.zw)(e.doi),1)]),(0,s.wy)((0,s._)("span",null,[(0,s._)("a",{href:e.pdf,target:"_blank"},qc,8,Ac)],512),[[t.F8,e.pdf]]),(0,s.wy)((0,s._)("span",Bc,"—",512),[[t.F8,e.pdf&&e.link]]),(0,s.wy)((0,s._)("span",Kc,"—",512),[[t.F8,e.pdf&&e.bibtex]]),(0,s.wy)((0,s._)("span",Gc,"—",512),[[t.F8,e.pdf&&e.corresponding]]),(0,s.wy)((0,s._)("span",null,[(0,s._)("a",{href:e.link,target:"_blank"},ad,8,Xc)],512),[[t.F8,e.link]]),(0,s.wy)((0,s._)("span",ld,"—",512),[[t.F8,e.link&&e.bibtex]]),(0,s.wy)((0,s._)("span",td,"—",512),[[t.F8,e.link&&e.corresponding]]),(0,s.wy)((0,s._)("span",null,[(0,s._)("abbr",{title:"Copy BibTeX",onClick:a=>_(e.bibtex)},id,8,sd)],512),[[t.F8,e.bibtex]]),(0,s.wy)((0,s._)("span",rd,"—",512),[[t.F8,e.bibtex&&e.corresponding]]),(0,s.wy)((0,s._)("span",null,[(0,s._)("abbr",{title:"Copy Corresponding Author Email",onClick:a=>b(e.corresponding)},[cd,(0,s._)("strong",dd,(0,o.zw)(e.corresponding),1)],8,ud)],512),[[t.F8,e.corresponding]])])))),128))])))),128))],64)):(0,s.kq)("",!0)])))),128)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)(" No publication associated to this research field ")],64))],64)),pd]))}};const md=(0,P.Z)(vd,[["__scopeId","data-v-01201390"]]);var gd=md;const _d={class:"mb-4"},bd={class:"row justify-content-between"},hd={class:"col-4"},fd=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="15">15</option><option value="20">20</option><option value="25">25</option>',5),wd=[fd],yd=(0,s._)("span",{class:"ms-2"},"publications fields per page",-1),kd={class:"col-4"},Sd={class:"table table-bordered"},Dd={style:{width:"39%"}},Cd={style:{width:"15%"}},xd={style:{width:"13%"}},Ud={style:{width:"15%"}},Hd={style:{width:"13%"}},zd=(0,s._)("th",{style:{width:"5%","text-align":"right"}},"Actions",-1),Yd={style:{cursor:"pointer"},title:"Delete"},Ld=["onClick"],$d={style:{cursor:"pointer"},title:"Edit"},Pd=["onClick"],Nd={class:"row py-3"},Od={class:"col-7"},Md={class:"col-5"};var Fd={__name:"TPublications",props:{publications:Object},emits:["publicationIdEdit","publicationIdDelete"],setup(e){const a=e,i=l(5743);let r=a.publications.map((e=>e));const u=(0,n.iH)("asc"),c=(0,n.iH)("title"),d=(0,n.iH)(1),p=(0,n.iH)(15),v=(0,n.iH)(15),m=(0,n.iH)(""),g=e=>{e===c.value&&(u.value="asc"===u.value?"desc":"asc"),c.value=e},_=e=>{d.value=e},b=()=>{p.value=v.value,d.value=1},h=(e,a)=>(""!==a.value&&(e=e.filter((e=>e.title.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.authors.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.magazine.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.author_update[0].username.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.author[0].username.toLowerCase().indexOf(a.value.toLowerCase())>=0))),e),f=(0,s.Fl)((()=>{let e=r;return e=h(e,m),e.sort(((e,a)=>{let l=1;return"desc"===u.value&&(l=-1),e[c.value]<a[c.value]?-1*l:e[c.value]>a[c.value]?1*l:0})).filter(((e,a)=>{let l=(d.value-1)*p.value,t=d.value*p.value;if(a>=l&&a<t)return!0}))})),w=(0,s.Fl)((()=>{let e=r;return e=h(e,m),Math.ceil(e.length/p.value)})),y=(0,s.Fl)((()=>{let e=r;return e=h(e,m),e.length}));(0,s.YP)((()=>m.value),(()=>{d.value=1}));const k=e=>{if(e)return i(String(e)).format("DD/MM/YY")};return(e,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",_d,[(0,s._)("div",bd,[(0,s._)("div",hd,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>v.value=e),onChange:b,class:"table-select px-1"},wd,544),[[t.bM,v.value]]),(0,s.Uk)(),yd]),(0,s._)("div",kd,[(0,s.wy)((0,s._)("input",{class:"float-end px-1",type:"search","onUpdate:modelValue":a[1]||(a[1]=e=>m.value=e),placeholder:"Search..."},null,512),[[t.nr,m.value]])])])]),(0,s._)("table",Sd,[(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",Dd,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[2]||(a[2]=e=>g("title"))}),(0,s.Uk)("Title")]),(0,s._)("th",Cd,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[3]||(a[3]=e=>g("author.username"))}),(0,s.Uk)("Created by")]),(0,s._)("th",xd,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[4]||(a[4]=e=>g("created_at"))}),(0,s.Uk)("Created at")]),(0,s._)("th",Ud,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[5]||(a[5]=e=>g("author_update.username"))}),(0,s.Uk)("Updated by")]),(0,s._)("th",Hd,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[6]||(a[6]=e=>g("updated_at"))}),(0,s.Uk)("Updated at")]),zd])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,n.SU)(f),(a=>((0,s.wg)(),(0,s.iD)("tr",{key:a.id},[(0,s._)("td",null,(0,o.zw)(a.title),1),(0,s._)("td",null,(0,o.zw)(a.author[0].username),1),(0,s._)("td",null,(0,o.zw)(k(a.created_at)),1),(0,s._)("td",null,(0,o.zw)(a.author_update[0].username),1),(0,s._)("td",null,(0,o.zw)(k(a.updated_at)),1),(0,s._)("td",null,[(0,s._)("abbr",Yd,[(0,s._)("i",{onClick:l=>e.$emit("publicationIdDelete",a),class:"bi bi-trash text-danger float-end"},null,8,Ld)]),(0,s._)("abbr",$d,[(0,s._)("i",{onClick:l=>e.$emit("publicationIdEdit",a.id),class:"bi bi-pencil-square text-warning me-3 float-end"},null,8,Pd)])])])))),128))])]),(0,s._)("div",Nd,[(0,s._)("div",Od,[1!=(0,n.SU)(y)?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,o.zw)((0,n.SU)(y))+" publications found ",1)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,o.zw)((0,n.SU)(y))+" publication found ",1)],64))]),(0,s._)("div",Md,[(0,s.Wm)((0,n.SU)(Nt.Z),{modelValue:d.value,"onUpdate:modelValue":[a[7]||(a[7]=e=>d.value=e),_],pages:(0,n.SU)(w),"range-size":1,"active-color":"#B1C3D7",class:"float-end"},null,8,["modelValue","pages"])])])],64))}};const Vd=Fd;var Zd=Vd;const Td={class:"mb-5"},Wd=(0,s._)("h4",{class:"inline-h"},"Publications",-1),Ed={key:0,class:"d-flex justify-content-center"},Id=(0,s._)("div",{class:"spinner-border",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")],-1),Jd=[Id];var Ad={__name:"PublicationsSettings",setup(e){const a=u(),l=(0,p.tv)(),t=(0,n.iH)(!1),o=(0,n.iH)([]),r=(0,n.iH)([]),c=(0,n.iH)(!1),d=async()=>{a.isLoading=!0,t.value=!0,await i.ZP.get("/api/v1/publications/").then((e=>{t.value=!1,o.value=e.data})).catch((e=>{console.log(e)})),a.isLoading=!1};(0,s.bv)((()=>{d()}));const v=e=>{r.value=e,c.value=!0},m=e=>{l.push(`/settings/publications/edit/${e}`)};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Td,[Wd,(0,s.Wm)(l,{class:"btn btn-sm btn-outline-primary px-4",style:{"text-align":"right",float:"right"},to:"/settings/publications/add"},{default:(0,s.w5)((()=>[(0,s.Uk)("Add publication ")])),_:1})]),t.value?((0,s.wg)(),(0,s.iD)("div",Ed,Jd)):((0,s.wg)(),(0,s.j4)(Zd,{key:1,publications:o.value,onPublicationIdEdit:m,onPublicationIdDelete:v},null,8,["publications"])),(0,s.Wm)(bs,{model:"publication",title:r.value.title,warning:"Warning! A deleted publication item cannot be recovered",identifier:r.value.id,callback:d,openDeleteModal:c.value,endpoint:"publications",onCloseModal:a[0]||(a[0]=e=>c.value=!1)},null,8,["title","identifier","openDeleteModal"])],64)}}};const Rd=Ad;var jd=Rd;const qd=(0,s._)("h4",{class:"inline-h mb-4"},"Add Publication",-1),Bd=["onSubmit"],Kd={class:"row g-3"},Gd={class:"col-md-12"},Xd=(0,s._)("label",null,"Title*",-1),Qd={class:"float-md-end mt-4 mb-4"},ep=(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-primary ms-1"},"Add ",-1);var ap={__name:"AddPublication",setup(e){const a=u(),l=c(),o=(0,p.tv)(),r=(0,n.iH)(""),d=(0,n.iH)([]),v=async()=>{a.isLoading=!0,d.value=[];const e={title:r.value,authors:"#",magazine:"#",doi:"#",year:"#",author:l.user.id,author_update:l.user.id};d.value.length||await i.ZP.post("/api/v1/publications/",e).then((e=>{o.push(`/settings/publications/edit/${e.data.id}`),(0,Ye.Yz)("Publication added successfully",a.toastSuccess)})).catch((e=>{if(e.response){for(const l in e.response.data)d.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),a.isLoading=!1};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[qd,(0,s._)("form",{onSubmit:(0,t.iM)(v,["prevent"])},[(0,s._)("div",Kd,[(0,s._)("div",Gd,[Xd,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e)},null,512),[[t.nr,r.value]])])]),(0,s._)("div",Qd,[(0,s.Wm)(l,{type:"button",class:"btn btn-sm btn-outline-secondary ms-1",to:"/settings/publications"},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1}),ep])],40,Bd)])}}};const lp=ap;var tp=lp;const sp={class:"mt-4"},np=(0,s._)("h5",{class:"inline-h mb-4"},"Publication PDF",-1),op={class:"container-upload"},ip=["onSubmit"],rp=(0,s._)("button",{class:"btn btn-primary btn-sm mt-3",type:"submit"},[(0,s.Uk)("Submit "),(0,s._)("i",{class:"bi bi-upload ms-3"})],-1),up={class:"mt-4 container-upload"},cp={class:"table table-striped table-hover table-sm"},dp=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{style:{width:"72%"}},"File"),(0,s._)("th",{class:"pe-5",style:{width:"20%","text-align":"right"}},"Size"),(0,s._)("th",{style:{width:"8%","text-align":"right"}},"Actions")])],-1),pp={style:{"font-size":"13px"}},vp=["href"],mp={class:"pe-5",style:{"text-align":"right"}},gp={style:{cursor:"pointer"},title:"Delete"},_p=["onClick"],bp={style:{cursor:"pointer"},title:"Set as PDF"},hp=["onClick"];var fp={__name:"PublicationPdf",props:["publication","callback"],setup(e){const a=e,l=u(),r=(0,n.iH)([]),c=(0,n.iH)(null),d=async()=>{if(c.value.files.length>0){const e=c.value.files[0].name;if("pdf"!=e.split(".").pop().toLowerCase())(0,Ye.Yz)(`${e} is not a pdf`,l.toastDanger);else{const e=new FormData;e.append("reffield",a.publication.id),e.append("file",c.value.files[0]),0==a.publication.pdf_publication.length&&e.append("isPDF",!0),await i.ZP.post("/api/v1/publication-files/",e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{console.log(e),a.callback(),(0,Ye.Yz)(`${Fs(e.data.file)} uploaded`,l.toastSuccess)})).catch((e=>{if(e.response){for(const a in e.response.data)r.value.push(`${a}: ${e.response.data[a]}`),(0,Ye.Yz)(`${a}: ${e.response.data[a]}`,l.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),c.value.value=""}}},p=async e=>{const t=new FormData;t.append("isPDF",!1);for(let n=0;n<a.publication.pdf_publication.length;n++){const e=a.publication.pdf_publication[n].id;await i.ZP.patch(`/api/v1/publication-files/${e}/`,t,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{})).catch((e=>{if(e.response){for(const a in e.response.data)r.value.push(`${a}: ${e.response.data[a]}`),(0,Ye.Yz)(`${a}: ${e.response.data[a]}`,l.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))}))}const s=new FormData;s.append("isPDF",!0),await i.ZP.patch(`/api/v1/publication-files/${e.id}/`,s,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{(0,Ye.Yz)("PDF changed successfully",l.toastSuccess)})).catch((e=>{if(e.response){for(const a in e.response.data)r.value.push(`${a}: ${e.response.data[a]}`),(0,Ye.Yz)(`${a}: ${e.response.data[a]}`,l.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),a.callback()},v=async e=>{await i.ZP["delete"](`/api/v1/publication-files/${e.id}`).then((t=>{console.log(t),a.callback(),(0,Ye.Yz)(`${Fs(e.file)} deleted successfully`,l.toastSuccess)}))};return(e,l)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",sp,[np,(0,s._)("div",op,[(0,s._)("form",{onSubmit:(0,t.iM)(d,["prevent"])},[(0,s._)("input",{class:"form-control",type:"file",ref_key:"inputFiles",ref:c},null,512),rp],40,ip)])]),(0,s._)("div",up,[(0,s._)("table",cp,[dp,(0,s._)("tbody",pp,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.publication.pdf_publication,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id},[(0,s._)("td",null,[(0,s._)("a",{class:"table-image-link",href:e.file,target:"_blank"},(0,o.zw)((0,n.SU)(Fs)(e.file)),9,vp)]),(0,s._)("td",mp,(0,o.zw)((0,n.SU)(Vs)(e.size)),1),(0,s._)("td",null,[(0,s._)("abbr",gp,[(0,s._)("i",{onClick:a=>v(e),class:"bi bi-trash text-danger float-end"},null,8,_p)]),(0,s._)("abbr",bp,[(0,s._)("i",{onClick:a=>p(e),class:"bi bi-arrow-up-square text-primary float-end me-4"},null,8,hp)])])])))),128))])])])],64))}};const wp=fp;var yp=wp;const kp=e=>((0,s.dD)("data-v-29090c60"),e=e(),(0,s.Cn)(),e),Sp=kp((()=>(0,s._)("h4",{class:"inline-h mb-4"},"Edit Publication",-1))),Dp={key:0,class:"container-upload"},Cp=["onSubmit"],xp={class:"form-group mb-3"},Up=kp((()=>(0,s._)("label",{class:"mb-1"},"Title*",-1))),Hp={class:"form-group mb-3"},zp=kp((()=>(0,s._)("label",{class:"mb-1"},[(0,s.Uk)("Authors* "),(0,s._)("small",{style:{"font-size":"10px"}},"(comma separated list of full names)")],-1))),Yp={class:"row"},Lp={class:"col-md-5"},$p={class:"form-group mb-3"},Pp=kp((()=>(0,s._)("label",{class:"mb-1"},"Magazine*",-1))),Np={class:"col-md-5"},Op={class:"form-group mb-3"},Mp=kp((()=>(0,s._)("label",{class:"mb-1"},"DOI",-1))),Fp={class:"col-md-2"},Vp={class:"form-group mb-3"},Zp=kp((()=>(0,s._)("label",{class:"mb-1"},[(0,s.Uk)("Year* "),(0,s._)("small",{style:{"font-size":"10px"}},"(es. Jan 2000)")],-1))),Tp={class:"row"},Wp={class:"col md-6"},Ep={class:"form-group mb-3"},Ip=kp((()=>(0,s._)("label",{class:"mb-1"},[(0,s.Uk)("Corresponding Author "),(0,s._)("small",{style:{"font-size":"10px"}},"(email)")],-1))),Jp={class:"form-group mb-3"},Ap=kp((()=>(0,s._)("label",{class:"mb-1"},"Link",-1))),Rp={class:"form-group mb-3"},jp=kp((()=>(0,s._)("label",{class:"mb-1"},"Related Research Fields",-1))),qp={class:"multiselect-multiple-label"},Bp={class:"col-md-6"},Kp={class:"form-group mb-3"},Gp=kp((()=>(0,s._)("label",{class:"mb-1"},"Bibtex",-1))),Xp={class:"mt-4",align:"right"},Qp=kp((()=>(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-primary ms-1"},"Edit Publication ",-1))),ev=kp((()=>(0,s._)("hr",{style:{"margin-top":"40px"}},null,-1)));var av={__name:"EditPublication",setup(e){const a=u(),l=c(),r=(0,p.tv)(),d=(0,p.yj)(),v=(0,n.iH)({}),m=(0,n.iH)([]),g=(0,n.iH)([]),_=(0,n.iH)([]),b=(0,n.iH)({mode:"multiple",hideSelected:!1,closeOnSelect:!1,value:[],options:{}}),h=(0,n.iH)(!1),f=(0,n.iH)(!1),w=async()=>{a.isLoading=!0,_.value=[];const e=d.params.id;await i.ZP.get(`/api/v1/publications/${e}`).then((e=>{v.value=e.data})).catch((e=>{console.log(e)})),"#"==v.value.authors&&(v.value.authors=""),"#"==v.value.magazine&&(v.value.magazine=""),"#"==v.value.doi&&(v.value.doi=""),"#"==v.value.year&&(v.value.year=""),b.value.value=v.value.field.map((e=>e.id)),0==m.value.length&&(m.value=v.value),m.value.pdf_publication!=v.value.pdf_publication&&(m.value.pdf_publication=v.value.pdf_publication),h.value=!0,a.isLoading=!1},y=async()=>{a.isLoading=!0,await i.ZP.get("/api/v1/research/").then((e=>{g.value=e.data})).catch((e=>{console.log(e)}));let e=g.value.map((e=>e.title)),l=g.value.map((e=>e.id));for(var t=0;t<l.length;t++)b.value.options[l[t]]=e[t];f.value=!0,a.isLoading=!1};(0,s.bv)((()=>{w(),y()}));const k=async()=>{a.isLoading=!0;const e=d.params.id;m.value.author=m.value.author[0].id,m.value.author_update=l.user.id,"no-field"==m.value.field&&(m.value.field=null),m.value.field=b.value.value,_.value=[],await i.ZP.patch(`/api/v1/publications/${e}/`,m.value).then((e=>{r.push("/settings/publications"),(0,Ye.Yz)("publication edited successfully",a.toastSuccess)})).catch((e=>{if(e.response){for(const l in e.response.data)_.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),a.isLoading=!1};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[Sp,h.value&&f.value?((0,s.wg)(),(0,s.iD)("div",Dp,[(0,s._)("form",{onSubmit:(0,t.iM)(k,["prevent"])},[(0,s._)("div",xp,[Up,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control input-size",style:{"font-size":"14px"},id:"title","onUpdate:modelValue":a[0]||(a[0]=e=>m.value.title=e)},null,512),[[t.nr,m.value.title]])]),(0,s._)("div",Hp,[zp,(0,s.wy)((0,s._)("textarea",{rows:"2",style:{"font-size":"14px"},class:"form-control","onUpdate:modelValue":a[1]||(a[1]=e=>m.value.authors=e)},null,512),[[t.nr,m.value.authors]])]),(0,s._)("div",Yp,[(0,s._)("div",Lp,[(0,s._)("div",$p,[Pp,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",style:{"font-size":"14px"},id:"magazine","onUpdate:modelValue":a[2]||(a[2]=e=>m.value.magazine=e)},null,512),[[t.nr,m.value.magazine]])])]),(0,s._)("div",Np,[(0,s._)("div",Op,[Mp,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",style:{"font-size":"14px"},id:"doi","onUpdate:modelValue":a[3]||(a[3]=e=>m.value.doi=e)},null,512),[[t.nr,m.value.doi]])])]),(0,s._)("div",Fp,[(0,s._)("div",Vp,[Zp,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",style:{"font-size":"14px"},id:"doi","onUpdate:modelValue":a[4]||(a[4]=e=>m.value.year=e)},null,512),[[t.nr,m.value.year]])])])]),(0,s._)("div",Tp,[(0,s._)("div",Wp,[(0,s._)("div",Ep,[Ip,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",style:{"font-size":"14px"},id:"link","onUpdate:modelValue":a[5]||(a[5]=e=>m.value.corresponding=e)},null,512),[[t.nr,m.value.corresponding]])]),(0,s._)("div",Jp,[Ap,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",style:{"font-size":"14px"},id:"link","onUpdate:modelValue":a[6]||(a[6]=e=>m.value.link=e)},null,512),[[t.nr,m.value.link]])]),(0,s._)("div",Rp,[jp,(0,s.Wm)((0,n.SU)(Zu.Z),(0,s.dG)({modelValue:b.value.value,"onUpdate:modelValue":a[7]||(a[7]=e=>b.value.value=e)},b.value,{placeholder:"",class:"multiselect-blue"}),{multiplelabel:(0,s.w5)((({values:e})=>[(0,s._)("div",qp,[1==e.length?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,o.zw)(e.length)+" field selected ",1)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,o.zw)(e.length)+" fields selected ",1)],64))])])),_:1},16,["modelValue"])])]),(0,s._)("div",Bp,[(0,s._)("div",Kp,[Gp,(0,s.wy)((0,s._)("textarea",{style:{height:"197px","font-size":"14px"},class:"form-control","onUpdate:modelValue":a[8]||(a[8]=e=>m.value.bibtex=e)},null,512),[[t.nr,m.value.bibtex]])])])]),(0,s._)("div",Xp,[(0,s.Wm)(l,{type:"button",class:"btn btn-sm btn-outline-secondary ms-1",to:"/settings/publications"},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel ")])),_:1}),Qp])],40,Cp)])):(0,s.kq)("",!0),ev,(0,s.Wm)(yp,{publication:v.value,callback:w},null,8,["publication"])])}}};const lv=(0,P.Z)(av,[["__scopeId","data-v-29090c60"]]);var tv=lv;const sv=e=>((0,s.dD)("data-v-2a71b2d7"),e=e(),(0,s.Cn)(),e),nv={class:"news-container"},ov=sv((()=>(0,s._)("h4",{class:"head-title"},"News",-1))),iv={class:"postcard__img_content",href:"#"},rv=["src"],uv={class:"postcard__text t-dark"},cv={class:"postcard__subtitle small"},dv={class:"author"},pv=sv((()=>(0,s._)("div",{class:"postcard__bar"},null,-1))),vv=["innerHTML"],mv=["innerHTML"],gv=["innerHTML"],_v={style:{display:"flex","justify-content":"center","margin-top":"80px"}};var bv={__name:"News",setup(e){const a=u(),r=l(5743),c=(0,n.iH)([]),d=(0,n.iH)(9),p=(0,n.iH)(1),v=((0,n.iH)(9),(0,n.iH)("")),m=((0,n.iH)("asc"),(0,n.iH)("title"),async()=>{a.isLoading=!0,await i.ZP.get("/api/v1/news/").then((e=>{c.value=e.data;for(let n=0;n<c.value.length;n++)c.value[n].contentMD=(0,X.TU)(c.value[n].content),c.value[n].cover_news.length>0?c.value[n].cover=c.value[n].cover_news.filter((e=>1==e.isCover))[0].image:c.value[n].cover="/media/website/news/cover_news.png";var a=new Date,l=String(a.getDate()).padStart(2,"0"),t=String(a.getMonth()+1).padStart(2,"0"),s=a.getFullYear();a=s+"-"+t+"-"+l,c.value=c.value.filter((e=>e.publicated_at<=a&""!=e.content))})).catch((e=>{console.log(e)})),a.isLoading=!1});(0,s.bv)((()=>{m()}));const g=e=>e%3==0&e%2==0?"blue even blue-even":e%3==0&e%2==1?"blue odd blue-odd":e%3==1&e%2==0?"red even red-even":e%3==1&e%2==1?"red odd red-odd":e%3==2&e%2==0?"orange even orange-even":e%3==2&e%2==1?"orange odd orange-odd":void 0,_=e=>{p.value=e},b=e=>e.split(" ").slice(0,14).join(" ").concat(" &#8230;"),h=e=>e.split(" ").slice(0,29).join(" ").concat(" &#8230;"),f=e=>e.split(" ").slice(0,59).join(" ").concat(" &#8230;"),w=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},y=(e,a)=>(""!==a.value&&(e=e.filter((e=>e.title.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.content.toLowerCase().indexOf(a.value.toLowerCase())>=0))),e),k=(0,s.Fl)((()=>{let e=c.value;return e=y(e,v),e.sort(((e,a)=>new Date(a.publicated_at).getTime()-new Date(e.publicated_at).getTime())).filter(((e,a)=>{let l=(p.value-1)*d.value,t=p.value*d.value;if(a>=l&&a<t)return!0}))})),S=(0,s.Fl)((()=>{let e=c.value;return e=y(e,v),Math.ceil(e.length/d.value)}));(0,s.YP)((()=>v.value),(()=>{p.value=1}));const D=e=>{if(e)return r(String(e)).format("DD MMM YY")};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",nv,[(0,s._)("div",null,[ov,(0,s.wy)((0,s._)("input",{class:"head-search",type:"search","onUpdate:modelValue":a[0]||(a[0]=e=>v.value=e),placeholder:"Search..."},null,512),[[t.nr,v.value]])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,n.SU)(k),((e,a)=>((0,s.wg)(),(0,s.iD)("div",{key:e.slug},[(0,s._)("div",{class:(0,o.C_)(["postcard",g(a)])},[(0,s._)("span",iv,[(0,s._)("img",{class:"postcard__img",src:e.cover,alt:"Image Title"},null,8,rv)]),(0,s._)("div",uv,[(0,s._)("h1",{class:(0,o.C_)({"postcard__title blue":a%3==0,"postcard__title red":a%3==1,"postcard__title orange":a%3==2})},[(0,s.Wm)(l,{to:{name:"NewsDetail",params:{slug:e.slug}}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.title),1)])),_:2},1032,["to"])],2),(0,s._)("div",cv,[(0,s._)("span",null,[(0,s.Uk)((0,o.zw)(D(e.publicated_at))+" | ",1),(0,s.wy)((0,s._)("span",{class:"author"},(0,o.zw)(e.author.full_name),513),[[t.F8,e.show_author&&e.author.full_name]]),(0,s.wy)((0,s._)("span",dv,"Team",512),[[t.F8,!e.show_author]])])]),pv,(0,s._)("div",{class:"postcard__preview-txt long",innerHTML:f(e.contentMD)},null,8,vv),(0,s._)("div",{class:"postcard__preview-txt medium",innerHTML:h(e.contentMD)},null,8,mv),(0,s._)("div",{class:"postcard__preview-txt short",innerHTML:b(e.contentMD)},null,8,gv)])],2)])))),128)),(0,s._)("div",_v,[(0,s.Wm)((0,n.SU)(Nt.Z),{modelValue:p.value,"onUpdate:modelValue":[a[1]||(a[1]=e=>p.value=e),_],pages:(0,n.SU)(S),"range-size":1,"active-color":"#f1f1f1",class:"float-end",onClick:w},null,8,["modelValue","pages"])])])}}};const hv=(0,P.Z)(bv,[["__scopeId","data-v-2a71b2d7"]]);var fv=hv;const wv={class:"news-container"},yv={class:"mb-3"},kv={class:"mb-3"},Sv={key:0},Dv={key:1},Cv=["innerHTML"],xv={key:1,style:{"font-size":"20px"}};var Uv={__name:"NewsDetail",setup(e){const a=u(),t=(0,p.yj)(),r=l(5743),c=(0,n.iH)({}),d=(0,n.iH)(!1),v=(0,n.iH)(!1),m=async()=>{a.isLoading=!0;const e=t.params.slug;await i.ZP.get(`/api/v1/news/${e}`).then((e=>{c.value=e.data,c.value.contentMD=(0,X.TU)(c.value.content),v.value=!0})).catch((e=>{console.log(e)})),d.value=!0,a.isLoading=!1};(0,s.bv)((()=>{m()}));const g=e=>{if(e)return r(String(e)).format("DD MMM YY")};return(e,a)=>((0,s.wg)(),(0,s.iD)("div",wv,[d.value?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[v.value?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("h2",yv,(0,o.zw)(c.value.title),1),(0,s._)("div",kv,[(0,s.Uk)((0,o.zw)(g(c.value.publicated_at))+" | ",1),c.value.show_author&&c.value.author.full_name?((0,s.wg)(),(0,s.iD)("span",Sv,(0,o.zw)(c.value.author.full_name),1)):((0,s.wg)(),(0,s.iD)("span",Dv,"Team"))]),(0,s._)("div",{class:"md-content",innerHTML:c.value.contentMD},null,8,Cv)],64)):((0,s.wg)(),(0,s.iD)("span",xv," 404: Page does not exist "))],64)):(0,s.kq)("",!0)]))}};const Hv=(0,P.Z)(Uv,[["__scopeId","data-v-09294b52"]]);var zv=Hv;const Yv={class:"mb-4"},Lv={class:"row justify-content-between"},$v={class:"col-4"},Pv=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="15">15</option><option value="20">20</option><option value="25">25</option>',5),Nv=[Pv],Ov=(0,s._)("span",{class:"ms-2"},"research fields per page",-1),Mv={class:"col-4"},Fv={class:"table table-bordered"},Vv={style:{width:"39%"}},Zv={style:{width:"15%"}},Tv={style:{width:"13%"}},Wv={style:{width:"15%"}},Ev={style:{width:"13%"}},Iv=(0,s._)("th",{style:{width:"5%","text-align":"right"}},"Actions",-1),Jv={style:{cursor:"pointer"},title:"Delete"},Av=["onClick"],Rv={style:{cursor:"pointer"},title:"Edit"},jv=["onClick"],qv={class:"row py-3"},Bv={class:"col-7"},Kv={class:"col-5"};var Gv={__name:"TNews",props:{allNews:Object,showSearch:Boolean},emits:["newsSlugEdit","newsSlugDelete"],setup(e){const a=e,i=l(5743);let r=a.allNews.map((e=>e));const u=(0,n.iH)("asc"),c=(0,n.iH)("title"),d=(0,n.iH)(1),p=(0,n.iH)(15),v=(0,n.iH)(15),m=(0,n.iH)(""),g=e=>{e===c.value&&(u.value="asc"===u.value?"desc":"asc"),c.value=e},_=e=>{d.value=e},b=()=>{p.value=v.value,d.value=1},h=(e,a)=>(""!==a.value&&(e=e.filter((e=>e.title.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.content.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.author[0].username.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.author_update[0].username.toLowerCase().indexOf(a.value.toLowerCase())>=0))),e),f=(0,s.Fl)((()=>{let e=r;return e=h(e,m),e.sort(((e,a)=>{let l=1;return"desc"===u.value&&(l=-1),e[c.value]<a[c.value]?-1*l:e[c.value]>a[c.value]?1*l:0})).filter(((e,a)=>{let l=(d.value-1)*p.value,t=d.value*p.value;if(a>=l&&a<t)return!0}))})),w=(0,s.Fl)((()=>{let e=r;return e=h(e,m),Math.ceil(e.length/p.value)})),y=(0,s.Fl)((()=>{let e=r;return e=h(e,m),e.length}));(0,s.YP)((()=>m.value),(()=>{d.value=1}));const k=e=>{if(e)return i(String(e)).format("DD/MM/YY")};return(e,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Yv,[(0,s._)("div",Lv,[(0,s._)("div",$v,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>v.value=e),onChange:b,class:"table-select px-1"},Nv,544),[[t.bM,v.value]]),(0,s.Uk)(),Ov]),(0,s._)("div",Mv,[(0,s.wy)((0,s._)("input",{class:"float-end px-1",type:"search","onUpdate:modelValue":a[1]||(a[1]=e=>m.value=e),placeholder:"Search..."},null,512),[[t.nr,m.value]])])])]),(0,s._)("table",Fv,[(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",Vv,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[2]||(a[2]=e=>g("title"))}),(0,s.Uk)("Title")]),(0,s._)("th",Zv,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[3]||(a[3]=e=>g("author"))}),(0,s.Uk)("Created by")]),(0,s._)("th",Tv,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[4]||(a[4]=e=>g("created_at"))}),(0,s.Uk)("Created at")]),(0,s._)("th",Wv,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[5]||(a[5]=e=>g("author_update"))}),(0,s.Uk)("Updated by")]),(0,s._)("th",Ev,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[6]||(a[6]=e=>g("updated_at"))}),(0,s.Uk)("Updated at")]),Iv])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,n.SU)(f),(a=>((0,s.wg)(),(0,s.iD)("tr",{key:a.slug},[(0,s._)("td",null,(0,o.zw)(a.title),1),(0,s._)("td",null,(0,o.zw)(a.author[0].username),1),(0,s._)("td",null,(0,o.zw)(k(a.created_at)),1),(0,s._)("td",null,(0,o.zw)(a.author_update[0].username),1),(0,s._)("td",null,(0,o.zw)(k(a.updated_at)),1),(0,s._)("td",null,[(0,s._)("abbr",Jv,[(0,s._)("i",{onClick:l=>e.$emit("newsSlugDelete",a),class:"bi bi-trash text-danger float-end"},null,8,Av)]),(0,s._)("abbr",Rv,[(0,s._)("i",{onClick:l=>e.$emit("newsSlugEdit",a.slug),class:"bi bi-pencil-square text-warning me-3 float-end"},null,8,jv)])])])))),128))])]),(0,s._)("div",qv,[(0,s._)("div",Bv,[1!=(0,n.SU)(y)?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,o.zw)((0,n.SU)(y))+" news found ",1)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,o.zw)((0,n.SU)(y))+" news field found ",1)],64))]),(0,s._)("div",Kv,[(0,s.Wm)((0,n.SU)(Nt.Z),{modelValue:d.value,"onUpdate:modelValue":[a[7]||(a[7]=e=>d.value=e),_],pages:(0,n.SU)(w),"range-size":1,"active-color":"#B1C3D7",class:"float-end"},null,8,["modelValue","pages"])])])],64))}};const Xv=Gv;var Qv=Xv;const em={class:"mb-5"},am=(0,s._)("h4",{class:"inline-h"},"News",-1),lm={key:0,class:"d-flex justify-content-center"},tm=(0,s._)("div",{class:"spinner-border",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")],-1),sm=[tm];var nm={__name:"NewsSettings",setup(e){const a=u(),l=(0,p.tv)(),t=(0,n.iH)(!1),o=(0,n.iH)([]),r=(0,n.iH)([]),c=(0,n.iH)(!1),d=async()=>{a.isLoading=!0,t.value=!0,await i.ZP.get("/api/v1/news/").then((e=>{t.value=!1,o.value=e.data})).catch((e=>{console.log(e)})),a.isLoading=!1};(0,s.bv)((()=>{d()}));const v=e=>{r.value=e,c.value=!0},m=e=>{l.push(`/settings/news/edit/${e}`)};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",em,[am,(0,s.Wm)(l,{class:"btn btn-sm btn-outline-primary px-4",style:{"text-align":"right",float:"right"},to:"/settings/news/add"},{default:(0,s.w5)((()=>[(0,s.Uk)("Add news ")])),_:1})]),t.value?((0,s.wg)(),(0,s.iD)("div",lm,sm)):((0,s.wg)(),(0,s.j4)(Qv,{key:1,allNews:o.value,onNewsSlugEdit:m,onNewsSlugDelete:v},null,8,["allNews"])),(0,s.Wm)(bs,{model:"news",title:r.value.title,warning:"Warning! A deleted news item cannot be recovered",identifier:r.value.slug,callback:d,openDeleteModal:c.value,endpoint:"news",onCloseModal:a[0]||(a[0]=e=>c.value=!1)},null,8,["title","identifier","openDeleteModal"])],64)}}};const om=nm;var im=om;const rm=(0,s._)("h4",{class:"inline-h mb-4"},"Add News",-1),um=["onSubmit"],cm={class:"row g-3"},dm={class:"col-md-12"},pm=(0,s._)("label",{class:"mb-1"},"Title*",-1),vm={class:"float-md-end mt-4 mb-4"},mm=(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-primary ms-1"},"Add ",-1);var gm={__name:"AddNews",setup(e){const a=u(),l=c(),o=(0,p.tv)(),r=(0,n.iH)(""),d=(0,n.iH)([]),v=async()=>{a.isLoading=!0,d.value=[];var e=new Date((new Date).setDate((new Date).getDate()+1)),t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();const s={title:r.value,content:"",author:l.user.id,author_update:l.user.id,publicated_at:t};d.value.length||await i.ZP.post("/api/v1/news/",s).then((e=>{o.push(`/settings/news/edit/${e.data.slug}`),(0,Ye.Yz)("News added successfully",a.toastSuccess)})).catch((e=>{if(e.response){for(const l in e.response.data)d.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),a.isLoading=!1};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[rm,(0,s._)("form",{onSubmit:(0,t.iM)(v,["prevent"])},[(0,s._)("div",cm,[(0,s._)("div",dm,[pm,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e)},null,512),[[t.nr,r.value]]),(0,s.Wm)(Ii,{input:r.value,inputLen:100,inputWarn:25},null,8,["input"])])]),(0,s._)("div",vm,[(0,s.Wm)(l,{type:"button",class:"btn btn-sm btn-outline-secondary ms-1",to:"/settings/news"},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1}),mm])],40,um)])}}};const _m=gm;var bm=_m;const hm=(0,s._)("h4",{class:"inline-h mb-4"},"Edit News",-1),fm={class:"container-upload"},wm=["onSubmit"],ym={class:"form-group mb-3"},km=(0,s._)("label",{class:"mb-1"},"Title*",-1),Sm={class:"form-group"},Dm=(0,s._)("label",{class:"mb-1"},"Content",-1),Cm={class:"row"},xm={class:"col-md-6"},Um=(0,s._)("label",{class:"mb-1"},"Publication date*",-1),Hm={class:"col-md-6"},zm=(0,s._)("label",{class:"mb-1"},"Show author",-1),Ym=(0,s._)("br",null,null,-1),Lm={class:"form-check form-check-inline"},$m=(0,s._)("label",{class:"form-check-label"},"Yes",-1),Pm={class:"form-check form-check-inline"},Nm=(0,s._)("label",{class:"form-check-label"},"No",-1),Om={class:"mt-4",align:"right"},Mm=(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-primary ms-1"},"Edit News ",-1),Fm=(0,s._)("hr",{style:{"margin-top":"40px"}},null,-1),Vm=(0,s._)("hr",{style:{"margin-top":"40px"}},null,-1);var Zm={__name:"EditNews",setup(e){const a=u(),l=c(),o=(0,p.tv)(),r=(0,p.yj)(),d=(0,n.iH)([]),v=(0,n.iH)([]),m=(0,n.iH)([]),g=(0,n.iH)("Yes"),_=(0,n.iH)(!1),b=async()=>{a.isLoading=!0,m.value=[];const e=r.params.slug;await i.ZP.get(`/api/v1/news/${e}`).then((e=>{d.value=e.data})).catch((e=>{console.log(e)})),0==v.value.length&&(v.value=d.value),v.value.images_news!=d.value.images_news&&(v.value.images_news=d.value.images_news),v.value.cover_news!=d.value.cover_news&&(v.value.cover_news=d.value.cover_news),0==v.value.show_author&&(g.value="No"),_.value=!0,a.isLoading=!1};(0,s.bv)((()=>{b()}));const h=async()=>{a.isLoading=!0;const e=r.params.slug;v.value.author=v.value.author[0].id,v.value.author_update=l.user.id,"Yes"==g.value&&(v.value.show_author=!0),"No"==g.value&&(v.value.show_author=!1),m.value=[],await i.ZP.patch(`/api/v1/news/${e}/`,v.value).then((e=>{o.push("/settings/news"),(0,Ye.Yz)("news edited successfully",a.toastSuccess)})).catch((e=>{if(e.response){for(const l in e.response.data)m.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),a.isLoading=!1};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[hm,(0,s._)("div",fm,[(0,s._)("form",{onSubmit:(0,t.iM)(h,["prevent"])},[(0,s._)("div",ym,[km,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":a[0]||(a[0]=e=>v.value.title=e)},null,512),[[t.nr,v.value.title]]),_.value?((0,s.wg)(),(0,s.j4)(Ii,{key:0,input:v.value.title,inputLen:100,inputWarn:25},null,8,["input"])):(0,s.kq)("",!0)]),(0,s._)("div",Sm,[Dm,(0,s.Wm)((0,n.SU)(Ms.Z),{modelValue:v.value.content,"onUpdate:modelValue":a[1]||(a[1]=e=>v.value.content=e),ref:"markdownEditor"},null,8,["modelValue"])]),(0,s._)("div",Cm,[(0,s._)("div",xm,[Um,(0,s.wy)((0,s._)("input",{type:"date",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=e=>v.value.publicated_at=e)},null,512),[[t.nr,v.value.publicated_at]])]),(0,s._)("div",Hm,[zm,Ym,(0,s._)("div",Lm,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"radio",value:"Yes","onUpdate:modelValue":a[3]||(a[3]=e=>g.value=e)},null,512),[[t.G2,g.value]]),$m]),(0,s._)("div",Pm,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"radio",value:"No","onUpdate:modelValue":a[4]||(a[4]=e=>g.value=e)},null,512),[[t.G2,g.value]]),Nm])])]),(0,s._)("div",Om,[(0,s.Wm)(l,{type:"button",class:"btn btn-sm btn-outline-secondary ms-1",to:"/settings/news"},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel ")])),_:1}),Mm])],40,wm)]),Fm,(0,s.Wm)(tn,{model:d.value,callback:b,endpoint:"news-images",base_ref:"images_news"},null,8,["model"]),Vm,(0,s.Wm)(Pn,{model:d.value,callback:b,endpoint:"news-cover","base-ref":"cover_news",width:300,height:300,"aspect-ratio":1},null,8,["model"])],64)}}};const Tm=Zm;var Wm=Tm;const Em={class:"mb-4"},Im={class:"row justify-content-between"},Jm={class:"col-4"},Am=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="15">15</option><option value="20">20</option><option value="25">25</option>',5),Rm=[Am],jm=(0,s._)("span",{class:"ms-2"},"research fields per page",-1),qm={class:"col-4"},Bm={class:"table table-bordered"},Km={style:{width:"15%"}},Gm={style:{width:"24%"}},Xm={style:{width:"15%"}},Qm={style:{width:"13%"}},eg={style:{width:"15%"}},ag={style:{width:"13%"}},lg=(0,s._)("th",{style:{width:"5%","text-align":"right"}},"Actions",-1),tg={style:{cursor:"pointer"},title:"Delete"},sg=["onClick"],ng={style:{cursor:"pointer"},title:"Edit"},og=["onClick"],ig={class:"row py-3"},rg={class:"col-7"},ug={class:"col-5"};var cg={__name:"TCarousel",props:{carousel:Object,showSearch:Boolean},emits:["carouselIdEdit","carouselIdDelete"],setup(e){const a=e,i=l(5743);let r=a.carousel.map((e=>e));const u=(0,n.iH)("asc"),c=(0,n.iH)("title"),d=(0,n.iH)(1),p=(0,n.iH)(15),v=(0,n.iH)(15),m=(0,n.iH)(""),g=e=>{e===c.value&&(u.value="asc"===u.value?"desc":"asc"),c.value=e},_=e=>{d.value=e},b=()=>{p.value=v.value,d.value=1},h=(e,a)=>(""!==a.value&&(e=e.filter((e=>e.show_in_home.toString().indexOf(a.value.toLowerCase())>=0||e.content.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.author[0].username.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.author_update[0].username.toLowerCase().indexOf(a.value.toLowerCase())>=0))),e),f=(0,s.Fl)((()=>{let e=r;return e=h(e,m),e.sort(((e,a)=>{let l=1;return"desc"===u.value&&(l=-1),e[c.value]<a[c.value]?-1*l:e[c.value]>a[c.value]?1*l:0})).filter(((e,a)=>{let l=(d.value-1)*p.value,t=d.value*p.value;if(a>=l&&a<t)return!0}))})),w=(0,s.Fl)((()=>{let e=r;return e=h(e,m),Math.ceil(e.length/p.value)})),y=(0,s.Fl)((()=>{let e=r;return e=h(e,m),e.length}));(0,s.YP)((()=>m.value),(()=>{d.value=1}));const k=e=>{if(e)return i(String(e)).format("DD/MM/YY")};return(e,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Em,[(0,s._)("div",Im,[(0,s._)("div",Jm,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>v.value=e),onChange:b,class:"table-select px-1"},Rm,544),[[t.bM,v.value]]),(0,s.Uk)(),jm]),(0,s._)("div",qm,[(0,s.wy)((0,s._)("input",{class:"float-end px-1",type:"search","onUpdate:modelValue":a[1]||(a[1]=e=>m.value=e),placeholder:"Search..."},null,512),[[t.nr,m.value]])])])]),(0,s._)("table",Bm,[(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",Km,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[2]||(a[2]=e=>g("id"))}),(0,s.Uk)("ID")]),(0,s._)("th",Gm,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[3]||(a[3]=e=>g("show_in_home"))}),(0,s.Uk)("In home")]),(0,s._)("th",Xm,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[4]||(a[4]=e=>g("author.username"))}),(0,s.Uk)("Created by")]),(0,s._)("th",Qm,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[5]||(a[5]=e=>g("created_at"))}),(0,s.Uk)("Created at")]),(0,s._)("th",eg,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[6]||(a[6]=e=>g("author_update.username"))}),(0,s.Uk)("Updated by")]),(0,s._)("th",ag,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[7]||(a[7]=e=>g("updated_at"))}),(0,s.Uk)("Updated at")]),lg])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,n.SU)(f),((a,l)=>((0,s.wg)(),(0,s.iD)("tr",{key:a.id},[(0,s._)("td",null,(0,o.zw)(l+1),1),(0,s._)("td",null,(0,o.zw)(a.show_in_home),1),(0,s._)("td",null,(0,o.zw)(a.author[0].username),1),(0,s._)("td",null,(0,o.zw)(k(a.created_at)),1),(0,s._)("td",null,(0,o.zw)(a.author_update[0].username),1),(0,s._)("td",null,(0,o.zw)(k(a.updated_at)),1),(0,s._)("td",null,[(0,s._)("abbr",tg,[(0,s._)("i",{onClick:l=>e.$emit("carouselIdDelete",a),class:"bi bi-trash text-danger float-end"},null,8,sg)]),(0,s._)("abbr",ng,[(0,s._)("i",{onClick:l=>e.$emit("carouselIdEdit",a.id),class:"bi bi-pencil-square text-warning me-3 float-end"},null,8,og)])])])))),128))])]),(0,s._)("div",ig,[(0,s._)("div",rg,[1!=(0,n.SU)(y)?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,o.zw)((0,n.SU)(y))+" carosuel items found ",1)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,o.zw)((0,n.SU)(y))+" carousel item found ",1)],64))]),(0,s._)("div",ug,[(0,s.Wm)((0,n.SU)(Nt.Z),{modelValue:d.value,"onUpdate:modelValue":[a[8]||(a[8]=e=>d.value=e),_],pages:(0,n.SU)(w),"range-size":1,"active-color":"#B1C3D7",class:"float-end"},null,8,["modelValue","pages"])])])],64))}};const dg=cg;var pg=dg;const vg={class:"mb-5"},mg=(0,s._)("h4",{class:"inline-h"},"Carousel",-1),gg={key:0,class:"d-flex justify-content-center"},_g=(0,s._)("div",{class:"spinner-border",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")],-1),bg=[_g];var hg={__name:"CarouselSettings",setup(e){const a=u(),l=(0,p.tv)(),t=(0,n.iH)(!1),o=(0,n.iH)([]),r=(0,n.iH)([]),c=(0,n.iH)(!1),d=async()=>{a.isLoading=!0,t.value=!0,await i.ZP.get("/api/v1/carousel/").then((e=>{t.value=!1,o.value=e.data})).catch((e=>{console.log(e)})),a.isLoading=!1};(0,s.bv)((()=>{d()}));const v=e=>{r.value=e,c.value=!0},m=e=>{l.push(`/settings/carousel/edit/${e}`)};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",vg,[mg,(0,s.Wm)(l,{class:"btn btn-sm btn-outline-primary px-4",style:{"text-align":"right",float:"right"},to:"/settings/carousel/add"},{default:(0,s.w5)((()=>[(0,s.Uk)("Add carousel item ")])),_:1})]),t.value?((0,s.wg)(),(0,s.iD)("div",gg,bg)):((0,s.wg)(),(0,s.j4)(pg,{key:1,carousel:o.value,onCarouselIdEdit:m,onCarouselIdDelete:v},null,8,["carousel"])),(0,s.Wm)(bs,{model:"carousel item",title:r.value.id,warning:"Warning! A deleted carousel item cannot be recovered",identifier:r.value.id,callback:d,openDeleteModal:c.value,endpoint:"carousel",onCloseModal:a[0]||(a[0]=e=>c.value=!1)},null,8,["title","identifier","openDeleteModal"])],64)}}};const fg=hg;var wg=fg;const yg=e=>((0,s.dD)("data-v-7e6e6f28"),e=e(),(0,s.Cn)(),e),kg=yg((()=>(0,s._)("h4",{class:"inline-h mb-4"},"Add Carousel Item",-1))),Sg=["onSubmit"],Dg={class:"row g-3"},Cg={class:"form-group mb-3"},xg=yg((()=>(0,s._)("label",{class:"mb-1"},"Related Research Fields or News",-1))),Ug={class:"float-md-end mt-4 mb-4"},Hg=yg((()=>(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-primary ms-1"},"Add ",-1)));var zg={__name:"AddCarousel",setup(e){const a=u(),l=c(),o=(0,p.tv)(),r=(0,n.iH)([]),d=(0,n.iH)(!1),v=(0,n.iH)([]),m=(0,n.iH)([]),g=(0,n.iH)(""),_=(0,n.iH)(""),b=(0,n.iH)({mode:"single",hideSelected:!1,closeOnSelect:!1,groups:!0,value:[],options:[{label:"Research Fields",options:{}},{label:"News",options:{}}]}),h=async()=>{a.isLoading=!0,await i.ZP.get("/api/v1/research/").then((e=>{v.value=e.data})).catch((e=>{console.log(e)}));let e=v.value.map((e=>e.title)),l=v.value.map((e=>e.slug));for(let a=0;a<l.length;a++)b.value.options[0].options[l[a]]=e[a];await i.ZP.get("/api/v1/news/").then((e=>{m.value=e.data})).catch((e=>{console.log(e)}));let t=m.value.map((e=>e.title)),s=m.value.map((e=>e.slug));for(let a=0;a<s.length;a++)b.value.options[1].options[s[a]]=t[a];d.value=!0,a.isLoading=!1};(0,s.bv)((()=>{h()}));const f=async()=>{a.isLoading=!0,r.value=[];const e=v.value.map((e=>e.slug)),t=m.value.map((e=>e.slug));e.includes(b.value.value)?g.value=v.value.filter((e=>e.slug==b.value.value))[0].id:g.value=null,t.includes(b.value.value)?_.value=m.value.filter((e=>e.slug==b.value.value))[0].id:_.value=null;const s={author:l.user.id,author_update:l.user.id,field:g.value,news:_.value};r.value.length||null!=s.field|null!=s.news&&await i.ZP.post("/api/v1/carousel/",s).then((e=>{o.push(`/settings/carousel/edit/${e.data.id}`),(0,Ye.Yz)("Carousel item added successfully",a.toastSuccess)})).catch((e=>{if(e.response){for(const l in e.response.data)r.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),g.value="",_.value="",a.isLoading=!1};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[kg,(0,s._)("form",{onSubmit:(0,t.iM)(f,["prevent"])},[(0,s._)("div",Dg,[(0,s._)("div",Cg,[xg,(0,s.Wm)((0,n.SU)(Zu.Z),(0,s.dG)({modelValue:b.value.value,"onUpdate:modelValue":a[0]||(a[0]=e=>b.value.value=e)},b.value,{placeholder:"Select",class:"multiselect-blue"}),null,16,["modelValue"])])]),(0,s._)("div",Ug,[(0,s.Wm)(l,{type:"button",class:"btn btn-sm btn-outline-secondary ms-1",to:"/settings/carousel"},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1}),Hg])],40,Sg)])}}};const Yg=(0,P.Z)(zg,[["__scopeId","data-v-7e6e6f28"]]);var Lg=Yg;const $g=e=>((0,s.dD)("data-v-e73f3b7a"),e=e(),(0,s.Cn)(),e),Pg=$g((()=>(0,s._)("h4",{class:"inline-h mb-4"},"Edit Carousel Item",-1))),Ng={key:0,class:"container-upload"},Og=["onSubmit"],Mg={class:"form-group mb-3"},Fg=$g((()=>(0,s._)("label",{class:"mb-1"},"Content*",-1))),Vg={class:"form-group mb-3"},Zg=$g((()=>(0,s._)("label",{class:"mb-1"},"Related Research Fields or News",-1))),Tg={class:"form-group mb-3"},Wg=$g((()=>(0,s._)("label",{class:"me-3"},"Show in home carousel",-1))),Eg={class:"form-check form-check-inline"},Ig=$g((()=>(0,s._)("label",{class:"form-check-label"},"Yes",-1))),Jg={class:"form-check form-check-inline"},Ag=$g((()=>(0,s._)("label",{class:"form-check-label"},"No",-1))),Rg={class:"mt-4",align:"right"},jg=$g((()=>(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-primary ms-1"},"Edit Carousel Item ",-1))),qg=$g((()=>(0,s._)("hr",{style:{"margin-top":"40px"}},null,-1)));var Bg={__name:"EditCarousel",setup(e){const a=u(),l=c(),o=(0,p.tv)(),r=(0,p.yj)(),d=(0,n.iH)([]),v=(0,n.iH)([]),m=(0,n.iH)([]),g=(0,n.iH)(!1),_=(0,n.iH)("No"),b=(0,n.iH)([]),h=(0,n.iH)([]),f=((0,n.iH)(""),(0,n.iH)(""),(0,n.iH)({mode:"single",hideSelected:!1,closeOnSelect:!1,groups:!0,value:[],options:[{label:"Research Fields",options:{}},{label:"News",options:{}}]})),w=async()=>{a.isLoading=!0,m.value=[];const e=r.params.id;await i.ZP.get(`/api/v1/carousel/${e}`).then((e=>{d.value=e.data})).catch((e=>{console.log(e)})),null!=d.value.field&&(f.value.value=d.value.field.slug),null!=d.value.news&&(f.value.value=d.value.news.slug),null==d.value.content&&(d.value.content=""),0==v.value.length&&(v.value=d.value),v.value.cover_carousel!=d.value.cover_carousel&&(v.value.cover_carousel=d.value.cover_carousel),0==v.value.show_in_home&&(_.value="No"),1==v.value.show_in_home&&(_.value="Yes"),a.isLoading=!1},y=async()=>{a.isLoading=!0,await i.ZP.get("/api/v1/research/").then((e=>{b.value=e.data})).catch((e=>{console.log(e)}));let e=b.value.map((e=>e.title)),l=b.value.map((e=>e.slug));for(let a=0;a<l.length;a++)f.value.options[0].options[l[a]]=e[a];await i.ZP.get("/api/v1/news/").then((e=>{h.value=e.data})).catch((e=>{console.log(e)}));let t=h.value.map((e=>e.title)),s=h.value.map((e=>e.slug));for(let a=0;a<s.length;a++)f.value.options[1].options[s[a]]=t[a];g.value=!0,a.isLoading=!1};(0,s.bv)((()=>{w(),y()}));const k=async()=>{a.isLoading=!0,m.value=[];const e=r.params.id;v.value.author=v.value.author[0].id,v.value.author_update=l.user.id,null==v.value.content&&(v.value.content=""),"Yes"==_.value&&(v.value.show_in_home=!0),"No"==_.value&&(v.value.show_in_home=!1);const t=b.value.map((e=>e.slug)),s=h.value.map((e=>e.slug));t.includes(f.value.value)?v.value.field=b.value.filter((e=>e.slug==f.value.value))[0].id:v.value.field=null,s.includes(f.value.value)?v.value.news=h.value.filter((e=>e.slug==f.value.value))[0].id:v.value.news=null,null!=v.value.field|null!=v.value.news?await i.ZP.patch(`/api/v1/carousel/${e}/`,v.value).then((e=>{o.push("/settings/carousel"),(0,Ye.Yz)("carousel item edited successfully",a.toastSuccess)})).catch((e=>{if(e.response){for(const l in e.response.data)m.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})):(0,Ye.Yz)("Carousel item must have related field or news",a.toastDanger),a.isLoading=!1};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[Pg,g.value?((0,s.wg)(),(0,s.iD)("div",Ng,[(0,s._)("form",{onSubmit:(0,t.iM)(k,["prevent"])},[(0,s._)("div",Mg,[Fg,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":a[0]||(a[0]=e=>v.value.content=e)},null,512),[[t.nr,v.value.content]]),(0,s.Wm)(Ii,{input:v.value.content,inputLen:100,inputWarn:25},null,8,["input"])]),(0,s._)("div",Vg,[Zg,(0,s.Wm)((0,n.SU)(Zu.Z),(0,s.dG)({modelValue:f.value.value,"onUpdate:modelValue":a[1]||(a[1]=e=>f.value.value=e)},f.value,{placeholder:"Select",class:"multiselect-blue"}),null,16,["modelValue"])]),(0,s._)("div",Tg,[Wg,(0,s._)("div",Eg,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"radio",value:"Yes","onUpdate:modelValue":a[2]||(a[2]=e=>_.value=e)},null,512),[[t.G2,_.value]]),Ig]),(0,s._)("div",Jg,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"radio",value:"No","onUpdate:modelValue":a[3]||(a[3]=e=>_.value=e)},null,512),[[t.G2,_.value]]),Ag])]),(0,s._)("div",Rg,[(0,s.Wm)(l,{type:"button",class:"btn btn-sm btn-outline-secondary ms-1",to:"/settings/carousel"},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel ")])),_:1}),jg])],40,Og)])):(0,s.kq)("",!0),qg,(0,s.Wm)(Pn,{model:d.value,callback:w,endpoint:"carousel-cover","base-ref":"cover_carousel",width:1680,height:400,"aspect-ratio":4.2},null,8,["model"])],64)}}};const Kg=(0,P.Z)(Bg,[["__scopeId","data-v-e73f3b7a"]]);var Gg=Kg;const Xg={class:"tools-container"},Qg={class:"card-container"},e_={class:"info"},a_={class:"title"},l_=["innerHTML"],t_={style:{"text-align":"center"}},s_=["href"];var n_={__name:"Tools",setup(e){const a=u(),l=(0,n.iH)(!1),t=(0,n.iH)([]),r=async()=>{a.isLoading=!0,l.value=!0,await i.ZP.get("/api/v1/tools/").then((e=>{l.value=!1,t.value=e.data,t.value=t.value.filter((e=>1==e.show_tool));for(let a=0;a<t.value.length;a++)t.value[a].contentMD=(0,X.TU)(t.value[a].content),t.value[a].cover_tool.length>0?t.value[a].cover=t.value[a].cover_tool.filter((e=>1==e.isCover))[0].image:t.value[a].cover="/media/website/tools/cover_tool.png"})).catch((e=>{console.log(e)})),a.isLoading=!1};return(0,s.bv)((()=>{r()})),(e,a)=>((0,s.wg)(),(0,s.iD)("div",Xg,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.value,(e=>((0,s.wg)(),(0,s.iD)("span",{key:e.id},[(0,s._)("div",Qg,[(0,s._)("div",{class:"card",style:(0,o.j5)({backgroundImage:"url("+e.cover+")"})},[(0,s._)("div",e_,[(0,s._)("h1",a_,(0,o.zw)(e.name),1),(0,s._)("div",{class:"description",innerHTML:e.contentMD},null,8,l_),(0,s._)("div",t_,[(0,s._)("a",{href:e.link,target:"_blank",class:"card__button"},"Open tool",8,s_)])])],4)])])))),128))]))}};const o_=(0,P.Z)(n_,[["__scopeId","data-v-050525db"]]);var i_=o_;const r_={class:"mb-4"},u_=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="15">15</option><option value="20">20</option><option value="25">25</option>',5),c_=[u_],d_={class:"table table-bordered"},p_={style:{width:"39%"}},v_={style:{width:"15%"}},m_={style:{width:"13%"}},g_={style:{width:"15%"}},__={style:{width:"13%"}},b_=(0,s._)("th",{style:{width:"5%","text-align":"right"}},"Actions",-1),h_={style:{cursor:"pointer"},title:"Delete"},f_=["onClick"],w_={style:{cursor:"pointer"},title:"Edit"},y_=["onClick"],k_={class:"row py-3"},S_={class:"col-7"},D_={class:"col-5"};var C_={__name:"TTools",props:{tools:Object},emits:["toolSlugEdit","toolSlugDelete"],setup(e){const a=e,i=l(5743);let r=a.tools.map((e=>e));const u=(0,n.iH)("asc"),c=(0,n.iH)("title"),d=(0,n.iH)(1),p=(0,n.iH)(15),v=(0,n.iH)(15),m=(0,n.iH)(""),g=e=>{e===c.value&&(u.value="asc"===u.value?"desc":"asc"),c.value=e},_=e=>{d.value=e},b=()=>{p.value=v.value,d.value=1},h=(e,a)=>(""!==a.value&&(e=e.filter((e=>e.name.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.content.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.author_update[0].username.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.author[0].username.toLowerCase().indexOf(a.value.toLowerCase())>=0))),e),f=(0,s.Fl)((()=>{let e=r;return e=h(e,m),e.sort(((e,a)=>{let l=1;return"desc"===u.value&&(l=-1),e[c.value]<a[c.value]?-1*l:e[c.value]>a[c.value]?1*l:0})).filter(((e,a)=>{let l=(d.value-1)*p.value,t=d.value*p.value;if(a>=l&&a<t)return!0}))})),w=(0,s.Fl)((()=>{let e=r;return e=h(e,m),Math.ceil(e.length/p.value)})),y=(0,s.Fl)((()=>{let e=r;return e=h(e,m),e.length}));(0,s.YP)((()=>m.value),(()=>{d.value=1}));const k=e=>{if(e)return i(String(e)).format("DD/MM/YY")};return(e,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",r_,[(0,s._)("label",null,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>v.value=e),onChange:b,class:"table-select px-1"},c_,544),[[t.bM,v.value]]),(0,s.Uk)(" tools per page ")]),(0,s.wy)((0,s._)("input",{class:"float-end px-1",type:"search","onUpdate:modelValue":a[1]||(a[1]=e=>m.value=e),placeholder:"Search..."},null,512),[[t.nr,m.value]])]),(0,s._)("table",d_,[(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",p_,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[2]||(a[2]=e=>g("name"))}),(0,s.Uk)("Name")]),(0,s._)("th",v_,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[3]||(a[3]=e=>g("author.username"))}),(0,s.Uk)("Created by")]),(0,s._)("th",m_,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[4]||(a[4]=e=>g("created_at"))}),(0,s.Uk)("Created at")]),(0,s._)("th",g_,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[5]||(a[5]=e=>g("author_update.username"))}),(0,s.Uk)("Updated by")]),(0,s._)("th",__,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[6]||(a[6]=e=>g("updated_at"))}),(0,s.Uk)("Updated at")]),b_])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,n.SU)(f),(a=>((0,s.wg)(),(0,s.iD)("tr",{key:a.slug},[(0,s._)("td",null,(0,o.zw)(a.name),1),(0,s._)("td",null,(0,o.zw)(a.author[0].username),1),(0,s._)("td",null,(0,o.zw)(k(a.created_at)),1),(0,s._)("td",null,(0,o.zw)(a.author_update[0].username),1),(0,s._)("td",null,(0,o.zw)(k(a.updated_at)),1),(0,s._)("td",null,[(0,s._)("abbr",h_,[(0,s._)("i",{onClick:l=>e.$emit("toolSlugDelete",a),class:"bi bi-trash text-danger float-end"},null,8,f_)]),(0,s._)("abbr",w_,[(0,s._)("i",{onClick:l=>e.$emit("toolSlugEdit",a.slug),class:"bi bi-pencil-square text-warning me-3 float-end"},null,8,y_)])])])))),128))])]),(0,s._)("div",k_,[(0,s._)("div",S_,[1!=(0,n.SU)(y)?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,o.zw)((0,n.SU)(y))+" tool found ",1)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,o.zw)((0,n.SU)(y))+" tools found ",1)],64))]),(0,s._)("div",D_,[(0,s.Wm)((0,n.SU)(Nt.Z),{modelValue:d.value,"onUpdate:modelValue":[a[7]||(a[7]=e=>d.value=e),_],pages:(0,n.SU)(w),"range-size":1,"active-color":"#B1C3D7",class:"float-end"},null,8,["modelValue","pages"])])])],64))}};const x_=C_;var U_=x_;const H_={class:"mb-5"},z_=(0,s._)("h4",{class:"inline-h"},"Tools",-1),Y_={key:0,class:"d-flex justify-content-center"},L_=(0,s._)("div",{class:"spinner-border",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")],-1),$_=[L_];var P_={__name:"ToolsSettings",setup(e){const a=u(),l=(c(),(0,p.tv)()),t=(0,n.iH)(!1),o=(0,n.iH)([]),r=(0,n.iH)([]),d=(0,n.iH)(!1),v=async()=>{a.isLoading=!0,t.value=!0,await i.ZP.get("/api/v1/tools/").then((e=>{t.value=!1,o.value=e.data})).catch((e=>{console.log(e)})),a.isLoading=!1};(0,s.bv)((()=>{v()}));const m=e=>{r.value=e,d.value=!0},g=e=>{l.push(`/settings/tools/edit/${e}`)};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",H_,[z_,(0,s.Wm)(l,{class:"btn btn-sm btn-outline-primary px-4",style:{"text-align":"right",float:"right"},to:"/settings/tools/add"},{default:(0,s.w5)((()=>[(0,s.Uk)("Add tool ")])),_:1})]),t.value?((0,s.wg)(),(0,s.iD)("div",Y_,$_)):((0,s.wg)(),(0,s.j4)(U_,{key:1,tools:o.value,onToolSlugEdit:g,onToolSlugDelete:m},null,8,["tools"])),(0,s.Wm)(bs,{model:"tool",title:r.value.name,warning:"Warning! A deleted tool item cannot be recovered",identifier:r.value.slug,callback:v,openDeleteModal:d.value,endpoint:"tools",onCloseModal:a[0]||(a[0]=e=>d.value=!1)},null,8,["title","identifier","openDeleteModal"])],64)}}};const N_=P_;var O_=N_;const M_=(0,s._)("h4",{class:"inline-h mb-4"},"Add Tool",-1),F_=["onSubmit"],V_={class:"row g-3"},Z_={class:"col-md-12"},T_=(0,s._)("label",null,"Name*",-1),W_={class:"float-md-end mt-4 mb-4"},E_=(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-primary ms-1"},"Add ",-1);var I_={__name:"AddTool",setup(e){const a=u(),l=c(),o=(0,p.tv)(),r=(0,n.iH)(""),d=(0,n.iH)([]),v=async()=>{a.isLoading=!0,d.value=[];const e={name:r.value,content:"",link:"#",author:l.user.id,author_update:l.user.id};d.value.length||await i.ZP.post("/api/v1/tools/",e).then((e=>{o.push(`/settings/tools/edit/${e.data.slug}`),(0,Ye.Yz)("Tool added successfully",a.toastSuccess)})).catch((e=>{if(e.response){for(const l in e.response.data)d.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),a.isLoading=!1};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[M_,(0,s._)("form",{onSubmit:(0,t.iM)(v,["prevent"])},[(0,s._)("div",V_,[(0,s._)("div",Z_,[T_,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e)},null,512),[[t.nr,r.value]]),(0,s.Wm)(Ii,{input:r.value,inputLen:150,inputWarn:25},null,8,["input"])])]),(0,s._)("div",W_,[(0,s.Wm)(l,{type:"button",class:"btn btn-sm btn-outline-secondary ms-1",to:"/settings/tools"},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1}),E_])],40,F_)])}}};const J_=I_;var A_=J_;const R_=(0,s._)("h4",{class:"inline-h mb-4"},"Edit Tool",-1),j_={class:"container-upload"},q_=["onSubmit"],B_={class:"form-group mb-3"},K_=(0,s._)("label",{class:"mb-1"},"Name*",-1),G_={class:"form-group"},X_=(0,s._)("label",{class:"mb-1"},"Content",-1),Q_={class:"row"},eb={class:"col-md-6"},ab=(0,s._)("label",{class:"mb-1"},"Link*",-1),lb={class:"col-md-6"},tb=(0,s._)("label",{class:"mb-1"},"Show tool",-1),sb=(0,s._)("br",null,null,-1),nb={class:"form-check form-check-inline"},ob=(0,s._)("label",{class:"form-check-label"},"Yes",-1),ib={class:"form-check form-check-inline"},rb=(0,s._)("label",{class:"form-check-label"},"No",-1),ub={class:"mt-4",align:"right"},cb=(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-primary ms-1"},"Edit Research Field ",-1),db=(0,s._)("hr",{style:{"margin-top":"40px"}},null,-1);var pb={__name:"EditTool",setup(e){const a=u(),l=c(),o=(0,p.tv)(),r=(0,p.yj)(),d=(0,n.iH)([]),v=(0,n.iH)([]),m=(0,n.iH)([]),g=(0,n.iH)("Yes"),_=(0,n.iH)(!1),b=async()=>{a.isLoading=!0,m.value=[];const e=r.params.slug;await i.ZP.get(`/api/v1/tools/${e}`).then((e=>{d.value=e.data})).catch((e=>{console.log(e)})),"#"==d.value.link&&(d.value.link=""),0==v.value.length&&(v.value=d.value),v.value.cover_tool!=d.value.cover_tool&&(v.value.cover_tool=d.value.cover_tool),0==v.value.show_tool&&(g.value="No"),_.value=!0,a.isLoading=!1};(0,s.bv)((()=>{b()}));const h=async()=>{a.isLoading=!0;const e=r.params.slug;v.value.author=v.value.author[0].id,v.value.author_update=l.user.id,"Yes"==g.value&&(v.value.show_tool=!0),"No"==g.value&&(v.value.show_tool=!1),m.value=[],""!=v.value.link?await i.ZP.patch(`/api/v1/tools/${e}/`,v.value).then((e=>{o.push("/settings/tools"),(0,Ye.Yz)("tool edited successfully",a.toastSuccess)})).catch((e=>{if(e.response){for(const l in e.response.data)m.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})):(0,Ye.Yz)("link is mandatory",a.toastDanger),a.isLoading=!1};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[R_,(0,s._)("div",j_,[(0,s._)("form",{onSubmit:(0,t.iM)(h,["prevent"])},[(0,s._)("div",B_,[K_,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":a[0]||(a[0]=e=>v.value.name=e)},null,512),[[t.nr,v.value.name]]),_.value?((0,s.wg)(),(0,s.j4)(Ii,{key:0,input:v.value.name,inputLen:100,inputWarn:25},null,8,["input"])):(0,s.kq)("",!0)]),(0,s._)("div",G_,[X_,_.value?((0,s.wg)(),(0,s.j4)(Ii,{key:0,input:v.value.content,inputLen:150,inputWarn:25},null,8,["input"])):(0,s.kq)("",!0),(0,s.Wm)((0,n.SU)(Ms.Z),{modelValue:v.value.content,"onUpdate:modelValue":a[1]||(a[1]=e=>v.value.content=e),ref:"markdownEditor"},null,8,["modelValue"])]),(0,s._)("div",Q_,[(0,s._)("div",eb,[ab,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=e=>v.value.link=e)},null,512),[[t.nr,v.value.link]])]),(0,s._)("div",lb,[tb,sb,(0,s._)("div",nb,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"radio",value:"Yes","onUpdate:modelValue":a[3]||(a[3]=e=>g.value=e)},null,512),[[t.G2,g.value]]),ob]),(0,s._)("div",ib,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"radio",value:"No","onUpdate:modelValue":a[4]||(a[4]=e=>g.value=e)},null,512),[[t.G2,g.value]]),rb])])]),(0,s._)("div",ub,[(0,s.Wm)(l,{type:"button",class:"btn btn-sm btn-outline-secondary ms-1",to:"/settings/tools"},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel ")])),_:1}),cb])],40,q_)]),db,(0,s.Wm)(Pn,{model:d.value,callback:b,endpoint:"tool-cover","base-ref":"cover_tool",width:300,height:300,"aspect-ratio":1},null,8,["model"])],64)}}};const vb=pb;var mb=vb;const gb=e=>((0,s.dD)("data-v-38b1fd1a"),e=e(),(0,s.Cn)(),e),_b={class:"contacts-container"},bb=gb((()=>(0,s._)("h1",null,"temporary page",-1))),hb=[bb];function fb(e,a){return(0,s.wg)(),(0,s.iD)("div",_b,hb)}const wb={},yb=(0,P.Z)(wb,[["render",fb],["__scopeId","data-v-38b1fd1a"]]);var kb=yb;const Sb=[{path:"/",name:"Home",component:ze},{path:"/signup",name:"SignUp",component:ta},{path:"/login",name:"Login",component:ya},{path:"/account",name:"Profile",component:hl,meta:{requireLogin:!0}},{path:"/reset-password",name:"ResetPassword",component:Ll},{path:"/reset-password/confirm/:uid/:token",name:"ResetPasswordConfirm",component:Rl},{path:"/settings",name:"Settings",component:rt,meta:{requireStaff:!0},children:[{path:"",name:"SettingsHome",component:_t},{path:"carousel",name:"CarouselSettings",component:wg},{path:"carousel/add",name:"AddCarousel",component:Lg},{path:"carousel/edit/:id",name:"EditCarousel",component:Gg},{path:"research-fields",name:"ResearchFieldsSettings",component:Cs},{path:"research-fields/add",name:"AddResearchField",component:Os},{path:"research-fields/edit/:slug",name:"EditResearchField",component:no},{path:"people",name:"PeopleSettings",component:Zi},{path:"people/add",name:"AddPerson",component:Qi},{path:"people/edit/:slug",name:"EditPerson",component:Vu},{path:"publications",name:"PublicationsSettings",component:jd},{path:"publications/add",name:"AddPublication",component:tp},{path:"publications/edit/:id",name:"EditPublication",component:tv},{path:"news",name:"NewsSettings",component:im},{path:"news/add",name:"AddNews",component:bm},{path:"news/edit/:slug",name:"EditNews",component:Wm},{path:"tools",name:"ToolsSettings",component:O_},{path:"tools/add",name:"AddTool",component:A_},{path:"tools/edit/:slug",name:"EditTool",component:mb}]},{path:"/research-fields",name:"ResearchFields",component:xt},{path:"/research-fields/:slug",name:"ResearchFieldDetail",component:Pt},{path:"/people",name:"People",component:fo},{path:"/people/:slug",name:"PersonDetail",component:oi},{path:"/publications",name:"Publications",component:gd},{path:"/news",name:"News",component:fv},{path:"/news/:slug",name:"NewsDetail",component:zv},{path:"/tools",name:"Tools",component:i_},{path:"/contacts",name:"Contacts",component:kb}],Db=(0,p.p7)({history:(0,p.PO)("/"),routes:Sb,scrollBehavior(){return{left:0,top:0}}});Db.beforeEach(((e,a,l)=>{const t=c();e.matched.some((e=>e.meta.requireStaff))&&!1===t.isAuthenticated?l("/"):l()}));var Cb=Db;const xb=(0,r.WB)();i.ZP.defaults.baseURL="https://printing.bio-groups.com",(0,t.ri)(G).use(xb).use(Cb,i.ZP).mount("#app")},2562:function(){}},a={};function l(t){var s=a[t];if(void 0!==s)return s.exports;var n=a[t]={exports:{}};return e[t].call(n.exports,n,n.exports,l),n.exports}l.m=e,function(){var e=[];l.O=function(a,t,s,n){if(!t){var o=1/0;for(c=0;c<e.length;c++){t=e[c][0],s=e[c][1],n=e[c][2];for(var i=!0,r=0;r<t.length;r++)(!1&n||o>=n)&&Object.keys(l.O).every((function(e){return l.O[e](t[r])}))?t.splice(r--,1):(i=!1,n<o&&(o=n));if(i){e.splice(c--,1);var u=s();void 0!==u&&(a=u)}}return a}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[t,s,n]}}(),function(){l.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(a,{a:a}),a}}(),function(){l.d=function(e,a){for(var t in a)l.o(a,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){l.p="/static/dist/"}(),function(){var e={143:0};l.O.j=function(a){return 0===e[a]};var a=function(a,t){var s,n,o=t[0],i=t[1],r=t[2],u=0;if(o.some((function(a){return 0!==e[a]}))){for(s in i)l.o(i,s)&&(l.m[s]=i[s]);if(r)var c=r(l)}for(a&&a(t);u<o.length;u++)n=o[u],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(c)},t=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))}();var t=l.O(void 0,[998],(function(){return l(8026)}));t=l.O(t)})();
//# sourceMappingURL=app.fc88d664.js.map