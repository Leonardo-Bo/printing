(function(){var e={6264:function(){},9833:function(e,a,l){"use strict";var t=l(9242),s=l(3396),n=l(4870),o=l(7139),i=l(70),r=l(1020);const u=(0,r.Q_)("ParamStore",{state:()=>({isLoading:!1,toastSuccess:{type:"success",position:"bottom-right",timeout:3e3,showIcon:!0},toastInfo:{type:"info",position:"bottom-right",timeout:3e3,showIcon:!0},toastDanger:{type:"danger",position:"bottom-right",timeout:5e3,showIcon:!0},toastDefault:{type:"default",position:"bottom-right",timeout:3e3,showIcon:!0},toastWarning:{type:"warning",position:"bottom-right",timeout:3e3,showIcon:!0},colors:{blue:3564683,red:15608876,yellow:16776960,green:65280,orange:16753920,gray:8355711}}),getters:{},actions:{setIsLoading(e){this.isLoading=e.isLoading}}}),c=(0,r.Q_)("UserStore",{state:()=>({isAuthenticated:!1,token:"",user:{id:null,username:"",email:"",fullname:""}}),actions:{initializeStore(){localStorage.getItem("token")?(this.token=localStorage.getItem("token"),this.isAuthenticated=!0,this.user.id=localStorage.getItem("user_id"),this.user.username=localStorage.getItem("user_username"),this.user.email=localStorage.getItem("user_email"),this.user.fullname=localStorage.getItem("user_fullname")):(this.token="",this.isAuthenticated=!1,this.user.id=null,this.user.username="",this.user.email="",this.user.fullname="")}}});l(7658);var d=l.p+"img/Logo.88cb4127.png",p=l(2483);const v=e=>((0,s.dD)("data-v-79a5f838"),e=e(),(0,s.Cn)(),e),m={class:"navbar",id:"navbar",ref:"navbar"},g={class:"nav-left"},_=v((()=>(0,s._)("img",{class:"img",src:d},null,-1))),b={class:"nav-center"},h=v((()=>(0,s._)("span",{class:"bar"},null,-1))),f=v((()=>(0,s._)("span",{class:"bar"},null,-1))),w=v((()=>(0,s._)("span",{class:"bar"},null,-1))),y=[h,f,w],k={class:"items"},S={class:"nav-right"},C=v((()=>(0,s._)("i",{class:"bi bi-person-fill ndd"},null,-1))),D=v((()=>(0,s._)("i",{class:"bi bi-three-dots-vertical ndd"},null,-1))),x=[C,D],U={class:"nav-dropdown ndd"},H=v((()=>(0,s._)("p",{class:"mb-2 mt-2 nav-dropdown-item"},[(0,s.Uk)(" Account "),(0,s._)("i",{class:"bi bi-person float-end"})],-1))),z=v((()=>(0,s._)("p",{class:"mb-2 mt-2 nav-dropdown-item"},[(0,s.Uk)(" Settings "),(0,s._)("i",{class:"bi bi-gear float-end"})],-1))),Y=v((()=>(0,s._)("i",{class:"bi bi-door-open float-end"},null,-1))),L={key:0,class:"half-size"};var $={__name:"Navbar",setup(e){u();const a=c(),l=(0,p.tv)(),o=(0,n.iH)(!1),r=(0,n.iH)(!1),d=()=>{r.value=!r.value};(0,s.bv)((()=>{document.addEventListener("click",v)})),(0,s.Jd)((()=>{document.removeEventListener("click",v)}));const v=e=>{const a=e.target.className;o.value&&!a.includes("ndd")&&(o.value=!1)},h=()=>{o.value=!o.value},f=()=>{console.log("logout"),i.ZP.defaults.headers.common.Authorization="",localStorage.removeItem("token"),localStorage.removeItem("user_id"),localStorage.removeItem("user_username"),localStorage.removeItem("user_email"),localStorage.removeItem("user_fullname"),a.token="",a.isAuthenticated=!1,a.user.id=null,a.user.username="",a.user.email="",a.user.fullname="",o.value=!1,l.push("/")};return(e,l)=>{const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",m,[(0,s._)("div",g,[(0,s.Wm)(i,{class:"logo ms-3",to:"/"},{default:(0,s.w5)((()=>[_])),_:1})]),(0,s._)("div",b,[(0,s._)("div",{class:"toggle-button",onClick:d},y),(0,s._)("div",k,[(0,s._)("ul",null,[(0,s._)("li",null,[(0,s.Wm)(i,{class:"nav-link",to:"/research-fields"},{default:(0,s.w5)((()=>[(0,s.Uk)(" RESEARCH ")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(i,{class:"nav-link",to:"/people"},{default:(0,s.w5)((()=>[(0,s.Uk)(" PEOPLE ")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(i,{class:"nav-link",to:"/tools"},{default:(0,s.w5)((()=>[(0,s.Uk)(" TOOLS ")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(i,{class:"nav-link",to:"/news"},{default:(0,s.w5)((()=>[(0,s.Uk)(" NEWS ")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(i,{class:"nav-link",to:"/publications"},{default:(0,s.w5)((()=>[(0,s.Uk)(" PUBLICATIONS ")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(i,{class:"nav-link",to:"/contacts"},{default:(0,s.w5)((()=>[(0,s.Uk)(" CONTACTS ")])),_:1})])])])]),(0,s._)("div",S,[(0,n.SU)(a).isAuthenticated?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"sign",onClick:h},x)):(0,s.kq)("",!0)])],512),(0,s.wy)((0,s._)("div",U,[(0,s.Wm)(i,{style:{"text-decoration":"none"},to:"/account",class:"nav-drop-active"},{default:(0,s.w5)((()=>[H])),_:1}),(0,s.Wm)(i,{style:{"text-decoration":"none"},to:"/settings",class:"nav-drop-active"},{default:(0,s.w5)((()=>[z])),_:1}),(0,s._)("p",{class:"mb-1 nav-dropdown-item",onClick:l[0]||(l[0]=e=>f())},[(0,s.Uk)("Logout "),Y])],512),[[t.F8,o.value]]),r.value?((0,s.wg)(),(0,s.iD)("div",L,[(0,s._)("ul",null,[(0,s._)("li",null,[(0,s.Wm)(i,{class:"nav-link",to:"/research-fields",onClick:d},{default:(0,s.w5)((()=>[(0,s.Uk)(" RESEARCH ")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(i,{class:"nav-link",to:"/people",onClick:d},{default:(0,s.w5)((()=>[(0,s.Uk)(" PEOPLE ")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(i,{class:"nav-link",to:"/tools",onClick:d},{default:(0,s.w5)((()=>[(0,s.Uk)(" TOOLS ")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(i,{class:"nav-link",to:"/news",onClick:d},{default:(0,s.w5)((()=>[(0,s.Uk)(" NEWS ")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(i,{class:"nav-link",to:"/publications",onClick:d},{default:(0,s.w5)((()=>[(0,s.Uk)(" PUBLICATIONS ")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(i,{class:"nav-link",to:"/contacts",onClick:d},{default:(0,s.w5)((()=>[(0,s.Uk)(" CONTACTS ")])),_:1})])])])):(0,s.kq)("",!0)],64)}}},P=l(89);const N=(0,P.Z)($,[["__scopeId","data-v-79a5f838"]]);var O=N;const M=e=>((0,s.dD)("data-v-7fb29791"),e=e(),(0,s.Cn)(),e),F={class:"footer"},V={class:"left"},Z=M((()=>(0,s._)("img",{class:"img",src:d},null,-1))),T=(0,s.uE)('<div class="center" data-v-7fb29791><h5 class="mb-3" data-v-7fb29791><strong data-v-7fb29791>Social links</strong></h5><p class="mb-1" data-v-7fb29791><i class="bi bi-twitter mx-2" data-v-7fb29791></i>Twitter</p><p class="mb-1" data-v-7fb29791><i class="bi bi-linkedin mx-2" data-v-7fb29791></i>Linkedin</p></div><div class="right" data-v-7fb29791><h5 class="mb-2" data-v-7fb29791><strong data-v-7fb29791>Contacts</strong></h5><span style="font-size:12px;" data-v-7fb29791><p class="ms-2" style="margin-bottom:1px;" data-v-7fb29791>Viale Regina Elena, 291</p><p class="ms-2" style="margin-bottom:1px;" data-v-7fb29791>00161 Roma</p><p class="ms-2" style="margin-bottom:1px;" data-v-7fb29791>Italy</p><p class="ms-2" data-v-7fb29791>email@example.com</p></span></div>',2);function W(e,a,l,t,n,o){const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",F,[(0,s._)("div",V,[(0,s.Wm)(i,{"exact-active-class":"link-home-footer",class:"link-home-footer",to:"/"},{default:(0,s.w5)((()=>[Z])),_:1})]),T])}var E=l(6264),I=l.n(E);const J=(0,P.Z)(I(),[["render",W],["__scopeId","data-v-7fb29791"]]);var A=J;const R={class:"main"},j=(0,s._)("div",{class:"lds-dual-ring"},null,-1),q=[j];var B={__name:"App",setup(e){const a=u(),l=c();return l.initializeStore(),l.token?i.ZP.defaults.headers.common.Authorization="Token "+l.token:i.ZP.defaults.headers.common.Authorization="",(e,l)=>{const t=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)((0,n.SU)(O)),(0,s._)("div",R,[(0,s._)("div",{class:(0,o.C_)(["is-loading-bar center-ring",{"is-loading":(0,n.SU)(a).isLoading}])},q,2),(0,s.Wm)(t)]),(0,s.Wm)((0,n.SU)(A))],64)}}};const K=B;var G=K,X=l(5068);const Q=e=>((0,s.dD)("data-v-fa9a5b10"),e=e(),(0,s.Cn)(),e),ee={key:0,class:"home-news-container"},ae={class:"postcard__img_content",href:"#"},le=["src"],te={class:"postcard__text t-dark"},se={class:"postcard__subtitle small"},ne={class:"author"},oe=Q((()=>(0,s._)("div",{class:"postcard__bar"},null,-1))),ie=["innerHTML"];var re={__name:"HomeNews",setup(e){const a=u(),l=(0,n.iH)([]),r=(0,n.iH)(!1),c=async()=>{a.isLoading=!0,await i.ZP.get("/api/v1/news/").then((e=>{l.value=e.data;for(let o=0;o<l.value.length;o++)l.value[o].contentMD=(0,X.TU)(l.value[o].content),l.value[o].cover_news.length>0?l.value[o].cover=l.value[o].cover_news.filter((e=>1==e.isCover))[0].image:l.value[o].cover="/media/website/news/cover_news.png";var a=new Date,t=String(a.getDate()).padStart(2,"0"),s=String(a.getMonth()+1).padStart(2,"0"),n=a.getFullYear();a=n+"-"+s+"-"+t,l.value=l.value.filter((e=>e.publicated_at<=a&""!=e.content)),l.value=l.value.sort(((e,a)=>new Date(a.publicated_at).getTime()-new Date(e.publicated_at).getTime())).slice(0,3),r.value=!0})).catch((e=>{console.log(e)})),a.isLoading=!1};(0,s.bv)((()=>{c()}));const d=e=>e%3==0&e%2==0?"blue even blue-even":e%3==0&e%2==1?"blue odd blue-odd":e%3==1&e%2==0?"red even red-even":e%3==1&e%2==1?"red odd red-odd":e%3==2&e%2==0?"orange even orange-even":e%3==2&e%2==1?"orange odd orange-odd":void 0,p=e=>e.slice(0,119).concat("&#8230;");return(e,a)=>{const n=(0,s.up)("router-link");return r.value?((0,s.wg)(),(0,s.iD)("div",ee,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value,((e,a)=>((0,s.wg)(),(0,s.iD)("div",{key:e.id},[(0,s._)("div",{class:(0,o.C_)(["postcard",d(a)])},[(0,s._)("span",ae,[(0,s._)("img",{class:"postcard__img",src:e.cover,alt:"Image Title"},null,8,le)]),(0,s._)("div",te,[(0,s._)("h1",{class:(0,o.C_)({"postcard__title blue":a%3==0,"postcard__title red":a%3==1,"postcard__title orange":a%3==2})},[(0,s.Wm)(n,{to:{name:"NewsDetail",params:{slug:e.slug}}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.title),1)])),_:2},1032,["to"])],2),(0,s._)("div",se,[(0,s._)("span",null,[(0,s.Uk)((0,o.zw)(e.publicated_at)+" | ",1),(0,s.wy)((0,s._)("span",{class:"author"},(0,o.zw)(e.author.full_name),513),[[t.F8,e.show_author&&e.author.full_name]]),(0,s.wy)((0,s._)("span",ne,"Team",512),[[t.F8,!e.show_author]])])]),oe,(0,s._)("div",{class:"postcard__preview-txt medium",innerHTML:p(e.contentMD)},null,8,ie)])],2)])))),128))])):(0,s.kq)("",!0)}}};const ue=(0,P.Z)(re,[["__scopeId","data-v-fa9a5b10"]]);var ce=ue,de=l(2166);const pe=e=>((0,s.dD)("data-v-1f71b76e"),e=e(),(0,s.Cn)(),e),ve={id:"homeCarousel",class:"carousel slide mt-1 mb-5","data-bs-ride":"carousel"},me={class:"carousel-indicators"},ge=["data-bs-slide-to"],_e={class:"carousel-inner"},be={id:"caption-panel",class:"carousel-caption"},he=pe((()=>(0,s._)("span",{class:"carousel-control-prev-icon","aria-hidden":"true"},null,-1))),fe=pe((()=>(0,s._)("span",{class:"visually-hidden"},"Previous",-1))),we=[he,fe],ye=pe((()=>(0,s._)("span",{class:"carousel-control-next-icon","aria-hidden":"true"},null,-1))),ke=pe((()=>(0,s._)("span",{class:"visually-hidden"},"Next",-1))),Se=[ye,ke];var Ce={__name:"HomeCarousel",setup(e){const a=u(),l=(0,n.iH)([]),t=(0,n.iH)(null),r=(0,n.iH)(!1),c=(0,n.iH)(!1),d=async()=>{a.isLoading=!0,r.value=!0,await i.ZP.get("/api/v1/carousel/").then((e=>{r.value=!1,l.value=e.data})).catch((e=>{console.log(e)}));for(let e=0;e<l.value.length;e++)null!=l.value[e].field&&(l.value[e].title=l.value[e].field.title,l.value[e].slug=l.value[e].field.slug,l.value[e].type="field"),null!=l.value[e].news&&(l.value[e].title=l.value[e].news.title,l.value[e].slug=l.value[e].news.slug,l.value[e].type="news"),l.value[e].cover=l.value[e].cover_carousel.filter((e=>1==e.isCover))[0].image;c.value=!0,a.isLoading=!1},p=()=>{t.value.next()},v=()=>{t.value.prev()};return(0,s.bv)((()=>{let e=document.querySelector("#homeCarousel");t.value=new de.lr(e,{interval:12e3}),d()})),(e,a)=>{const t=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",ve,[(0,s._)("div",me,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value,((e,a)=>((0,s.wg)(),(0,s.iD)("button",{key:e.id,type:"button","data-bs-target":"#carouselCaptions","data-bs-slide-to":a,class:(0,o.C_)({active:!a}),"aria-current":"true"},null,10,ge)))),128))]),(0,s._)("div",_e,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.value,((e,a)=>((0,s.wg)(),(0,s.iD)("div",{key:e.id,class:(0,o.C_)(["carousel-item",{active:0==a}])},[(0,s._)("div",{class:"header",style:(0,o.j5)({backgroundImage:"url("+e.cover+")"})},null,4),(0,s._)("div",be,[(0,s._)("h5",null,(0,o.zw)(e.title),1),(0,s._)("p",null,(0,o.zw)(e.content),1),"field"==e.type?((0,s.wg)(),(0,s.j4)(t,{key:0,to:{name:"ResearchFieldDetail",params:{slug:e.slug}},class:"btn btn-sm btn-dark float-end"},{default:(0,s.w5)((()=>[(0,s.Uk)("READ MORE")])),_:2},1032,["to"])):(0,s.kq)("",!0),"news"==e.type?((0,s.wg)(),(0,s.j4)(t,{key:1,to:{name:"NewsDetail",params:{slug:e.slug}},class:"btn btn-sm btn-dark float-end"},{default:(0,s.w5)((()=>[(0,s.Uk)("READ MORE")])),_:2},1032,["to"])):(0,s.kq)("",!0)])],2)))),128))]),(0,s._)("button",{class:"carousel-control-prev",type:"button","data-bs-target":"#carouselCaptions",onClick:a[0]||(a[0]=e=>v())},we),(0,s._)("button",{class:"carousel-control-next",type:"button","data-bs-target":"#carouselCaptions",onClick:a[1]||(a[1]=e=>p())},Se)])}}};const De=(0,P.Z)(Ce,[["__scopeId","data-v-1f71b76e"]]);var xe=De,Ue={__name:"Home",setup(e){return(e,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(xe),(0,s.Wm)(ce)],64))}};const He=Ue;var ze=He,Ye=l(3508);const Le=e=>((0,s.dD)("data-v-16b529fa"),e=e(),(0,s.Cn)(),e),$e={key:0,class:"container"},Pe={class:"row d-flex flex-column justify-content-center align-items-center mt-5 mb-5"},Ne={class:"card col-md-4 pt-3 pb-3 card-login-signup"},Oe={class:"md-12"},Me=Le((()=>(0,s._)("h5",{class:"text-center"},"SIGN UP",-1))),Fe=Le((()=>(0,s._)("hr",null,null,-1))),Ve=["onSubmit"],Ze={class:"form-group mb-2"},Te=Le((()=>(0,s._)("label",{class:"fl-sign"},[(0,s._)("i",{class:"bi bi-person"}),(0,s.Uk)(" Username: ")],-1))),We={class:"form-group mb-2"},Ee=Le((()=>(0,s._)("label",{class:"fl-sign"},[(0,s._)("i",{class:"bi bi-envelope"}),(0,s.Uk)(" Email: ")],-1))),Ie={class:"form-group mb-2"},Je=Le((()=>(0,s._)("label",{class:"fl-sign"},[(0,s._)("i",{class:"bi bi-key"}),(0,s.Uk)(" Password: ")],-1))),Ae={class:"input-group"},Re={class:"form-group mb-2"},je=Le((()=>(0,s._)("label",{class:"fl-sign"},[(0,s._)("i",{class:"bi bi-key"}),(0,s.Uk)(" Repeat Password: ")],-1))),qe={class:"input-group"},Be=Le((()=>(0,s._)("div",{class:"d-grid gap-2 col-12 mx-auto pb-2 mt-5"},[(0,s._)("button",{class:"btn btn-success",type:"submit"},"Send Request")],-1))),Ke=Le((()=>(0,s._)("span",{style:{color:"#dcdee0"}},"Do you already have an account? ",-1))),Ge={key:1,class:"container"},Xe=Le((()=>(0,s._)("div",{class:"row d-flex flex-column justify-content-center align-items-center"},[(0,s._)("h1",{style:{"text-align":"center","margin-top":"150px"}},"You are already logged in")],-1))),Qe=[Xe],ea=(0,s.uE)('<div class="modal" id="signUpConfirm_modal" tabindex="-1" data-v-16b529fa><div class="modal-dialog modal-lg modal-dialog-centered" data-v-16b529fa><div class="modal-content" data-v-16b529fa><div class="modal-header" data-v-16b529fa><h5 class="modal-title" data-v-16b529fa>Your registration request was successful</h5></div><div class="modal-body" data-v-16b529fa><p class="mb-1" data-v-16b529fa>An email will arrive when the administrator activates your account.</p><p style="font-size:12px;" data-v-16b529fa>This page can be closed.</p></div></div></div></div>',1);var aa={__name:"SignUp",setup(e){const a=u(),l=c(),o=(0,n.iH)([]),r=(0,n.iH)(null),d=()=>{r.value=new de.u_(document.getElementById("signUpConfirm_modal"),{}),r.value.show()},p=(0,n.iH)(""),v=(0,n.iH)(""),m=(0,n.iH)(""),g=(0,n.iH)(""),_=()=>{if(a.isLoading=!0,o.value=[],""==p.value&&((0,Ye.Yz)("missing username",a.toastDanger),o.value.push(1)),""==v.value&&((0,Ye.Yz)("missing email",a.toastDanger),o.value.push(1)),""==m.value&&((0,Ye.Yz)("missing password",a.toastDanger),o.value.push(1)),m.value!=g.value&&((0,Ye.Yz)("the two password fields didn't match",a.toastDanger),o.value.push(1)),!o.value.length){var e=/^[A-Za-z0-9]+$/;if(e.test(p.value)){const e={username:p.value,email:v.value,password:m.value,re_password:g.value};i.ZP.post("/api/v1/users/",e).then((e=>{console.log(e),p.value="",v.value="",m.value="",g.value="",d()})).catch((e=>{if(e.response){for(const l in e.response.data)o.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))}))}else(0,Ye.Yz)("username must contain only alphanumeric characters",a.toastDanger)}a.isLoading=!1};return(e,a)=>{const o=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,n.SU)(l).isAuthenticated?((0,s.wg)(),(0,s.iD)("div",Ge,Qe)):((0,s.wg)(),(0,s.iD)("div",$e,[(0,s._)("div",Pe,[(0,s._)("div",Ne,[(0,s._)("div",Oe,[Me,Fe,(0,s._)("form",{onSubmit:(0,t.iM)(_,["prevent"])},[(0,s._)("div",Ze,[Te,(0,s.wy)((0,s._)("input",{type:"text",name:"username",id:"id_username",class:"form-control shadow-none fc-sign","onUpdate:modelValue":a[0]||(a[0]=e=>p.value=e)},null,512),[[t.nr,p.value]])]),(0,s._)("div",We,[Ee,(0,s.wy)((0,s._)("input",{type:"email",name:"email",id:"id_email",class:"form-control shadow-none fc-sign","onUpdate:modelValue":a[1]||(a[1]=e=>v.value=e)},null,512),[[t.nr,v.value]])]),(0,s._)("div",Ie,[Je,(0,s._)("div",Ae,[(0,s.wy)((0,s._)("input",{type:"password",name:"password1",id:"id_password1",class:"form-control shadow-none fc-sign","onUpdate:modelValue":a[2]||(a[2]=e=>m.value=e)},null,512),[[t.nr,m.value]])])]),(0,s._)("div",Re,[je,(0,s._)("div",qe,[(0,s.wy)((0,s._)("input",{type:"password",name:"password2",id:"id_password2",class:"form-control shadow-none fc-sign","onUpdate:modelValue":a[3]||(a[3]=e=>g.value=e)},null,512),[[t.nr,g.value]])])]),Be],40,Ve),(0,s._)("small",null,[Ke,(0,s.Wm)(o,{class:"ml-2",to:"/login"},{default:(0,s.w5)((()=>[(0,s.Uk)("Login")])),_:1})])])])])])),ea],64)}}};const la=(0,P.Z)(aa,[["__scopeId","data-v-16b529fa"]]);var ta=la;const sa=e=>((0,s.dD)("data-v-ef928d64"),e=e(),(0,s.Cn)(),e),na={key:0,class:"container"},oa={class:"row d-flex flex-column justify-content-center align-items-center mt-5 mb-5"},ia={class:"card col-md-4 pt-3 pb-3 card-login-signup"},ra={class:"md-12"},ua=sa((()=>(0,s._)("h5",{class:"text-center"},"LOGIN",-1))),ca=sa((()=>(0,s._)("hr",null,null,-1))),da=["onSubmit"],pa={class:"form-group mb-2"},va=sa((()=>(0,s._)("label",{class:"fl-sign"},[(0,s._)("i",{class:"bi bi-person"}),(0,s.Uk)(" Username: ")],-1))),ma={class:"form-group mb-2"},ga=sa((()=>(0,s._)("label",{class:"fl-sign"},[(0,s._)("i",{class:"bi bi-key"}),(0,s.Uk)(" Password: ")],-1))),_a={class:"input-group"},ba=sa((()=>(0,s._)("div",{class:"d-grid gap-2 col-12 mx-auto pb-2 mt-4"},[(0,s._)("button",{class:"btn btn-success",type:"submit"},"Login")],-1))),ha=sa((()=>(0,s._)("span",{style:{color:"#dcdee0"}},"Don't have an account yet? ",-1)));var fa={__name:"Login",setup(e){const a=u(),l=c(),o=(0,p.tv)(),r=(0,n.iH)([]),d=(0,n.iH)(""),v=(0,n.iH)(""),m=async()=>{if(a.isLoading=!0,r.value=[],""===d.value&&((0,Ye.Yz)("missing username",a.toastDanger),r.value.push(1)),""===v.value&&((0,Ye.Yz)("missing password",a.toastDanger),r.value.push(1)),!r.value.length){i.ZP.defaults.headers.common.Authorization="",localStorage.removeItem("token");const e={username:d.value,password:v.value};await i.ZP.post("/api/v1/token/login/",e).then((e=>{const a=e.data.auth_token;l.token=a,i.ZP.defaults.headers.common.Authorization="Token "+a,localStorage.setItem("token",a),o.push("/")})).catch((e=>{if(e.response){for(const l in e.response.data)r.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),await i.ZP.get("/api/v1/users/me").then((e=>{l.isAuthenticated=!0,l.user.id=e.data.id,l.user.username=e.data.username,l.user.email=e.data.email,l.user.fullname=e.data.full_name,localStorage.setItem("user_username",e.data.username),localStorage.setItem("user_id",e.data.id),localStorage.setItem("user_email",e.data.email),localStorage.setItem("user_fullname",e.data.full_name)})).catch((e=>{console.log(e)}))}a.isLoading=!1};return(e,a)=>{const o=(0,s.up)("router-link");return(0,n.SU)(l).isAuthenticated?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",na,[(0,s._)("div",oa,[(0,s._)("div",ia,[(0,s._)("div",ra,[ua,ca,(0,s._)("form",{onSubmit:(0,t.iM)(m,["prevent"])},[(0,s._)("div",pa,[va,(0,s.wy)((0,s._)("input",{type:"text",name:"username",id:"id_username",class:"form-control shadow-none fc-sign","onUpdate:modelValue":a[0]||(a[0]=e=>d.value=e)},null,512),[[t.nr,d.value]])]),(0,s._)("div",ma,[ga,(0,s._)("div",_a,[(0,s.wy)((0,s._)("input",{type:"password",name:"password1",id:"id_password1",class:"form-control shadow-none fc-sign","onUpdate:modelValue":a[1]||(a[1]=e=>v.value=e)},null,512),[[t.nr,v.value]])])]),(0,s._)("small",null,[(0,s.Wm)(o,{to:"/reset-password",class:"py-0 forgot-pwd"},{default:(0,s.w5)((()=>[(0,s.Uk)("Forgot password?")])),_:1})]),ba],40,da),(0,s._)("small",null,[ha,(0,s.Wm)(o,{class:"ml-2",to:"/signup"},{default:(0,s.w5)((()=>[(0,s.Uk)("Request registration")])),_:1})])])])])]))}}};const wa=(0,P.Z)(fa,[["__scopeId","data-v-ef928d64"]]);var ya=wa;const ka=e=>((0,s.dD)("data-v-1e201b42"),e=e(),(0,s.Cn)(),e),Sa={class:"warning-dim"},Ca={key:1,style:{"font-size":"20px"}},Da={class:"container-profile"},xa={class:"mb-5"},Ua={class:"row"},Ha={class:"col col-md-4 offset-md-2"},za={class:"card h-100"},Ya=ka((()=>(0,s._)("div",{class:"card-header"},[(0,s._)("strong",null,"Personal informations")],-1))),La={class:"card-body"},$a=["onSubmit"],Pa={class:"row g-3"},Na={class:"col-md-12"},Oa=ka((()=>(0,s._)("label",null,"Username*",-1))),Ma={class:"col-md-12"},Fa=ka((()=>(0,s._)("label",null,"Email*",-1))),Va={class:"col-md-12"},Za=ka((()=>(0,s._)("label",null,"Full name",-1))),Ta=ka((()=>(0,s._)("div",{class:"mt-3 float-end"},[(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-secondary"},"Edit profile")],-1))),Wa={class:"col col-md-4"},Ea={class:"card"},Ia=ka((()=>(0,s._)("div",{class:"card-header"},[(0,s._)("strong",null,"Settings")],-1))),Ja={class:"card-body"},Aa={class:"d-grid gap-2"},Ra={key:1,style:{"font-size":"20px"}},ja={class:"modal fade",id:"edit_passwordModal",tabindex:"-1","aria-hidden":"true","data-bs-backdrop":"static"},qa={class:"modal-dialog modal-lg"},Ba={class:"modal-content bg-light"},Ka=ka((()=>(0,s._)("div",{class:"modal-header"},[(0,s._)("h6",{class:"modal-title"},"Edit password"),(0,s._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Ga=["onSubmit"],Xa={class:"modal-body"},Qa={class:"row g-3"},el={class:"col-md-12"},al=ka((()=>(0,s._)("label",null,"Current password*",-1))),ll={class:"col-md-12"},tl=ka((()=>(0,s._)("label",null,"New password*",-1))),sl={class:"col-md-12"},nl=ka((()=>(0,s._)("label",null,"Repeat new password*",-1))),ol=ka((()=>(0,s._)("div",{class:"modal-footer"},[(0,s._)("div",{class:"mt-3 float-end"},[(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-primary"},"Edit password")])],-1))),il={class:"modal fade",id:"delete_profileModal",tabindex:"-1","aria-hidden":"true","data-bs-backdrop":"static"},rl={class:"modal-dialog modal-lg"},ul={class:"modal-content bg-light"},cl=ka((()=>(0,s._)("div",{class:"modal-header"},[(0,s._)("h6",{class:"modal-title"},"Delete user account"),(0,s._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),dl=["onSubmit"],pl={class:"modal-body"},vl={class:"col-md-6 mt-4"},ml=ka((()=>(0,s._)("label",null,"Enter your password*",-1))),gl=ka((()=>(0,s._)("div",{class:"modal-footer"},[(0,s._)("button",{type:"button",class:"btn btn-sm btn-outline-secondary","data-bs-dismiss":"modal"},"Cancel"),(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-danger"},"Delete Account")],-1)));var _l={__name:"Profile",setup(e){const a=u(),l=c(),r=(0,p.tv)(),d=(0,n.iH)([]),v=(0,n.iH)([]),m=(0,n.iH)([]),g=(0,n.iH)({}),_=(0,n.iH)(!1),b=(0,n.iH)(null),h=(0,n.iH)(null),f=(0,n.iH)(""),w=(0,n.iH)(""),y=(0,n.iH)(""),k=(0,n.iH)("");(0,s.bv)((()=>{D()}));const S=()=>{b.value=new de.u_(document.getElementById("edit_passwordModal"),{}),b.value.show()},C=()=>{h.value=new de.u_(document.getElementById("delete_profileModal"),{}),h.value.show()},D=async()=>{a.isLoading=!0,await i.ZP.get("/api/v1/users/me").then((e=>{g.value=e.data,_.value=!0})).catch((e=>{console.log(e)})),a.isLoading=!1},x=async()=>{a.isLoading=!0;var e=/^[A-Za-z0-9]+$/;e.test(g.value.username)?(l.user.username=g.value.username,l.user.fullname=g.value.full_name,d.value=[],await i.ZP.patch("/api/v1/users/me/",g.value).then((e=>{(0,Ye.Yz)("profile edited successfully",a.toastSuccess)})).catch((e=>{if(e.response){for(const l in e.response.data)d.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))}))):(0,Ye.Yz)("username must contain only alphanumeric characters",a.toastDanger)},U=async()=>{a.isLoading=!0,v.value=[];const e={current_password:f.value,new_password:w.value,re_new_password:y.value};await i.ZP.post("/api/v1/users/set_password/",e).then((e=>{b.value.hide(),(0,Ye.Yz)("password edited successfully",a.toastSuccess)})).catch((e=>{if(e.response){for(const l in e.response.data)v.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),f.value="",w.value="",y.value="",a.isLoading=!1},H=async()=>{a.isLoading=!0,m.value=[],await i.ZP["delete"]("api/v1/users/me/",{data:{current_password:k.value}}).then((e=>{h.value.hide(),(0,Ye.Yz)("profile deleted successfully",a.toastSuccess)})).catch((e=>{if(e.response){for(const l in e.response.data)m.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),m.value.length||(i.ZP.defaults.headers.common.Authorization="",localStorage.removeItem("token"),localStorage.removeItem("user_username"),localStorage.removeItem("user_id"),localStorage.removeItem("user_fullname"),l.token="",l.isAuthenticated=!1,l.user.id=null,l.user.username="",l.user.email="",l.user.fullname="",r.push("/")),a.isLoading=!1};return(e,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Sa,[_.value?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)(" Your device is not large enough to view this content ")],64)):((0,s.wg)(),(0,s.iD)("span",Ca," 403: You are not authorized to be here "))]),(0,s._)("div",Da,[_.value?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("h2",xa,"Hello "+(0,o.zw)(g.value.username),1),(0,s._)("div",Ua,[(0,s._)("div",Ha,[(0,s._)("div",za,[Ya,(0,s._)("div",La,[(0,s._)("form",{onSubmit:(0,t.iM)(x,["prevent"])},[(0,s._)("div",Pa,[(0,s._)("div",Na,[Oa,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-sm",id:"username","onUpdate:modelValue":a[0]||(a[0]=e=>g.value.username=e)},null,512),[[t.nr,g.value.username]])]),(0,s._)("div",Ma,[Fa,(0,s.wy)((0,s._)("input",{type:"email",class:"form-control form-control-sm",id:"email","onUpdate:modelValue":a[1]||(a[1]=e=>g.value.email=e)},null,512),[[t.nr,g.value.email]])]),(0,s._)("div",Va,[Za,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control form-control-sm",id:"first_name","onUpdate:modelValue":a[2]||(a[2]=e=>g.value.full_name=e)},null,512),[[t.nr,g.value.full_name]])])]),Ta],40,$a)])])]),(0,s._)("div",Wa,[(0,s._)("div",Ea,[Ia,(0,s._)("div",Ja,[(0,s._)("div",Aa,[(0,s._)("button",{class:"btn btn-outline-secondary btn-sm mx-3",onClick:a[3]||(a[3]=e=>S())}," Change password "),(0,s._)("button",{class:"btn btn-outline-secondary mt-4 btn-sm mx-3",onClick:a[4]||(a[4]=e=>C())}," Delete account ")])])])])])],64)):((0,s.wg)(),(0,s.iD)("span",Ra," 403: You are not authorized to be here "))]),(0,s._)("div",ja,[(0,s._)("div",qa,[(0,s._)("div",Ba,[Ka,(0,s._)("form",{onSubmit:(0,t.iM)(U,["prevent"])},[(0,s._)("div",Xa,[(0,s._)("div",Qa,[(0,s._)("div",el,[al,(0,s.wy)((0,s._)("input",{type:"password",class:"form-control form-control-sm","onUpdate:modelValue":a[5]||(a[5]=e=>f.value=e)},null,512),[[t.nr,f.value]])]),(0,s._)("div",ll,[tl,(0,s.wy)((0,s._)("input",{type:"password",class:"form-control form-control-sm","onUpdate:modelValue":a[6]||(a[6]=e=>w.value=e)},null,512),[[t.nr,w.value]])]),(0,s._)("div",sl,[nl,(0,s.wy)((0,s._)("input",{type:"password",class:"form-control form-control-sm","onUpdate:modelValue":a[7]||(a[7]=e=>y.value=e)},null,512),[[t.nr,y.value]])])])]),ol],40,Ga)])])]),(0,s._)("div",il,[(0,s._)("div",rl,[(0,s._)("div",ul,[cl,(0,s._)("form",{onSubmit:(0,t.iM)(H,["prevent"])},[(0,s._)("div",pl,[(0,s.Uk)(" Warning! You are deleting your account. "),(0,s._)("div",vl,[ml,(0,s.wy)((0,s._)("input",{type:"password",class:"form-control form-control-sm","onUpdate:modelValue":a[8]||(a[8]=e=>k.value=e)},null,512),[[t.nr,k.value]])])]),gl],40,dl)])])])],64))}};const bl=(0,P.Z)(_l,[["__scopeId","data-v-1e201b42"]]);var hl=bl;const fl={class:"container"},wl={class:"row d-flex flex-column min-vh-100 justify-content-center align-items-center"},yl={class:"card col-md-4 pt-3 pb-3 card-login-signup"},kl={class:"md-12"},Sl=(0,s._)("h5",{class:"text-center"},"RESET PASSWORD",-1),Cl=(0,s._)("hr",null,null,-1),Dl=["onSubmit"],xl={class:"form-group mb-3"},Ul=(0,s._)("label",{class:"form-label mb-0"},[(0,s._)("i",{class:"bi bi-person"}),(0,s.Uk)(" Email: ")],-1),Hl=(0,s._)("div",{class:"d-grid gap-2 col-12 mx-auto pb-2 mt-5"},[(0,s._)("button",{class:"btn btn-primary",type:"submit"},"Send request")],-1);var zl={__name:"ResetPassword",setup(e){const a=u(),l=(0,n.iH)(""),o=(0,n.iH)([]),r=async()=>{a.isLoading=!0,o.value=[],o.value.length||(await i.ZP.post("/api/v1/users/reset_password/",{email:l.value}).then((e=>{alert("Your request has been sent.\nYou will receive an email with your password reset form.")})).catch((e=>{if(e.response){for(const l in e.response.data)o.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),l.value=""),a.isLoading=!1};return(e,a)=>((0,s.wg)(),(0,s.iD)("div",fl,[(0,s._)("div",wl,[(0,s._)("div",yl,[(0,s._)("div",kl,[Sl,Cl,(0,s._)("form",{onSubmit:(0,t.iM)(r,["prevent"])},[(0,s._)("div",xl,[Ul,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control fc-login-signup","onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e)},null,512),[[t.nr,l.value]])]),Hl],40,Dl)])])])]))}};const Yl=zl;var Ll=Yl;const $l={class:"container"},Pl={class:"row d-flex flex-column min-vh-100 justify-content-center align-items-center"},Nl={class:"card col-md-4 pt-3 pb-3 card-login-signup"},Ol={class:"md-12"},Ml=(0,s._)("h5",{class:"text-center"},"RESET PASSWORD",-1),Fl=(0,s._)("hr",null,null,-1),Vl=["onSubmit"],Zl={class:"form-group mb-3"},Tl=(0,s._)("label",{class:"form-label mb-0"},[(0,s._)("i",{class:"bi bi-key"}),(0,s.Uk)(" New password: ")],-1),Wl={class:"form-group mb-3"},El=(0,s._)("label",{class:"form-label mb-0"},[(0,s._)("i",{class:"bi bi-key"}),(0,s.Uk)(" Repeat new password: ")],-1),Il=(0,s._)("div",{class:"d-grid gap-2 col-12 mx-auto pb-2 mt-5"},[(0,s._)("button",{class:"btn btn-primary",type:"submit"},"Confirm")],-1);var Jl={__name:"ResetPasswordConfirm",setup(e){const a=u(),l=(0,p.yj)(),o=(0,p.tv)(),r=(0,n.iH)(""),c=(0,n.iH)(""),d=(0,n.iH)([]),v=async()=>{if(a.isLoading=!0,d.value=[],!d.value.length){const e={uid:l.params.uid,token:l.params.token,new_password:r.value,re_new_password:c.value};await i.ZP.post("/api/v1/users/reset_password_confirm/",e).then((e=>{(0,Ye.Yz)("Password reset successfully",a.toastSuccess),o.push("/login")})).catch((e=>{if(e.response){for(const l in e.response.data)this.errors.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),r.value="",c.value=""}a.isLoading=!1};return(e,a)=>((0,s.wg)(),(0,s.iD)("div",$l,[(0,s._)("div",Pl,[(0,s._)("div",Nl,[(0,s._)("div",Ol,[Ml,Fl,(0,s._)("form",{onSubmit:(0,t.iM)(v,["prevent"])},[(0,s._)("div",Zl,[Tl,(0,s.wy)((0,s._)("input",{type:"password",class:"form-control fc-login-signup","onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e)},null,512),[[t.nr,r.value]])]),(0,s._)("div",Wl,[El,(0,s.wy)((0,s._)("input",{type:"password",class:"form-control fc-login-signup","onUpdate:modelValue":a[1]||(a[1]=e=>c.value=e)},null,512),[[t.nr,c.value]])]),Il],40,Vl)])])])]))}};const Al=Jl;var Rl=Al;const jl=e=>((0,s.dD)("data-v-cdf5555a"),e=e(),(0,s.Cn)(),e),ql=jl((()=>(0,s._)("div",{class:"warning-dim"}," Your device is not large enough to view this content ",-1))),Bl={class:"container-settings"},Kl={id:"settingsSidebar",class:"sidebar"},Gl=(0,s.uE)('<div class="col col-md-10" data-v-cdf5555a><i class="bi bi-chevron-double-right ps-1" data-v-cdf5555a></i></div><div class="col col-md-2" style="margin:0;padding:0;" data-v-cdf5555a><div class="sidebar-item" data-v-cdf5555a>.</div><hr style="margin:2px;width:0px;" data-v-cdf5555a><div class="sidebar-item" data-v-cdf5555a>.</div><div class="sidebar-item" data-v-cdf5555a>.</div><div class="sidebar-item" data-v-cdf5555a>.</div><div class="sidebar-item" data-v-cdf5555a>.</div><div class="sidebar-item" data-v-cdf5555a>.</div><div class="sidebar-item" data-v-cdf5555a>.</div></div>',2),Xl=[Gl],Ql={key:1,class:"row d-flex align-items-center"},et={class:"col col-md-10"},at=jl((()=>(0,s._)("hr",{style:{margin:"2px"}},null,-1))),lt={class:"col col-md-2"},tt=jl((()=>(0,s._)("i",{class:"bi bi-chevron-double-left"},null,-1))),st=[tt],nt={id:"settingsMain",class:"content-settings mt-4"};var ot={__name:"Settings",setup(e){const a=(0,n.iH)(!0),l=(0,n.iH)(!0),o=()=>{document.getElementById("settingsSidebar").style.width="250px",document.getElementById("settingsMain").style.marginLeft="250px",a.value=!0,setTimeout((()=>{l.value=!0}),1e3)},i=()=>{document.getElementById("settingsSidebar").style.width="25px",document.getElementById("settingsMain").style.marginLeft="25px",a.value=!1,l.value=!1};return(e,n)=>{const r=(0,s.up)("router-link"),u=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[ql,(0,s._)("div",Bl,[(0,s._)("div",Kl,[a.value?((0,s.wg)(),(0,s.iD)("div",Ql,[(0,s._)("div",et,[(0,s.Wm)(r,{to:"/settings",class:"sidebar-item"},{default:(0,s.w5)((()=>[(0,s.Uk)("SETTINGS")])),_:1}),at,(0,s.Wm)(r,{to:"/settings/carousel",class:"sidebar-item"},{default:(0,s.w5)((()=>[(0,s.Uk)("Carousel")])),_:1}),(0,s.Wm)(r,{to:"/settings/research-fields",class:"sidebar-item"},{default:(0,s.w5)((()=>[(0,s.Uk)("Research")])),_:1}),(0,s.Wm)(r,{to:"/settings/people",class:"sidebar-item"},{default:(0,s.w5)((()=>[(0,s.Uk)("People")])),_:1}),(0,s.Wm)(r,{to:"/settings/tools",class:"sidebar-item"},{default:(0,s.w5)((()=>[(0,s.Uk)("Tools")])),_:1}),(0,s.Wm)(r,{to:"/settings/news",class:"sidebar-item"},{default:(0,s.w5)((()=>[(0,s.Uk)("News")])),_:1}),(0,s.Wm)(r,{to:"/settings/publications",class:"sidebar-item"},{default:(0,s.w5)((()=>[(0,s.Uk)("Publications")])),_:1})]),(0,s._)("div",lt,[(0,s.wy)((0,s._)("div",{onClick:i},st,512),[[t.F8,l.value]])])])):((0,s.wg)(),(0,s.iD)("div",{key:0,class:"row d-flex align-items-center",onClick:o},Xl))]),(0,s._)("div",nt,[(0,s.Wm)(u)])])],64)}}};const it=(0,P.Z)(ot,[["__scopeId","data-v-cdf5555a"]]);var rt=it;const ut=e=>((0,s.dD)("data-v-94bdcc84"),e=e(),(0,s.Cn)(),e),ct={class:"settings-home"},dt=ut((()=>(0,s._)("i",{style:{"font-size":"200px"},class:"bi bi-gear"},null,-1))),pt=[dt];function vt(e,a){return(0,s.wg)(),(0,s.iD)("div",ct,pt)}const mt={},gt=(0,P.Z)(mt,[["render",vt],["__scopeId","data-v-94bdcc84"]]);var _t=gt;const bt={class:"fields-container"},ht={class:"card"},ft={class:"card__thumb"},wt=["src"],yt={class:"card__caption"},kt={class:"card__title"},St=["innerHTML"];var Ct={__name:"Fields",setup(e){const a=u(),l=(0,n.iH)(!1),r=(0,n.iH)([]),c=async()=>{a.isLoading=!0,l.value=!0,await i.ZP.get("/api/v1/research/").then((e=>{l.value=!1,r.value=e.data;for(let a=0;a<r.value.length;a++)r.value[a].contentMD=(0,X.TU)(r.value[a].content),r.value[a].cover_research.length>0?r.value[a].cover=r.value[a].cover_research.filter((e=>1==e.isCover))[0].image:r.value[a].cover="/media/website/research/cover_field.png";r.value=r.value.filter((e=>!0===e.show_in_page)).sort(((e,a)=>e.position-a.position))})).catch((e=>{console.log(e)})),a.isLoading=!1};(0,s.bv)((()=>{c()}));const d=e=>e.split(" ").slice(0,14).join(" ").concat(" &#8230;");return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",bt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.value,(e=>((0,s.wg)(),(0,s.iD)("span",{key:e.id},[(0,s.wy)((0,s._)("div",ht,[(0,s._)("figure",ft,[(0,s._)("img",{src:e.cover,class:"card__image"},null,8,wt),(0,s._)("figcaption",yt,[(0,s._)("h2",kt,(0,o.zw)(e.title),1),(0,s._)("div",{class:"card__snippet",innerHTML:d(e.contentMD)},null,8,St),(0,s.Wm)(l,{to:{name:"ResearchFieldDetail",params:{slug:e.slug}},class:"card__button"},{default:(0,s.w5)((()=>[(0,s.Uk)("Read more")])),_:2},1032,["to"])])])],512),[[t.F8,e.content]])])))),128))])}}};const Dt=(0,P.Z)(Ct,[["__scopeId","data-v-353cc434"]]);var xt=Dt;const Ut={class:"field-container"},Ht={class:"mb-3"},zt=["innerHTML"],Yt={key:1,style:{"font-size":"20px"}};var Lt={__name:"FieldDetail",setup(e){const a=u(),l=(0,p.yj)(),t=(0,n.iH)({}),r=(0,n.iH)(!1),c=async()=>{a.isLoading=!0;const e=l.params.slug;await i.ZP.get(`/api/v1/research/${e}`).then((e=>{t.value=e.data,t.value.contentMD=(0,X.TU)(t.value.content),r.value=!0})).catch((e=>{console.log(e)})),a.isLoading=!1};return(0,s.bv)((()=>{c()})),(e,a)=>((0,s.wg)(),(0,s.iD)("div",Ut,[r.value?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("h2",Ht,(0,o.zw)(t.value.title),1),(0,s._)("div",{class:"md-content",innerHTML:t.value.contentMD},null,8,zt)],64)):((0,s.wg)(),(0,s.iD)("span",Yt," 404: Page does not exist "))]))}};const $t=(0,P.Z)(Lt,[["__scopeId","data-v-7969535d"]]);var Pt=$t,Nt=l(4806);const Ot={class:"mb-4"},Mt={class:"row justify-content-between"},Ft={class:"col-4"},Vt=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="15">15</option><option value="20">20</option><option value="25">25</option>',5),Zt=[Vt],Tt=(0,s._)("span",{class:"ms-2"},"research fields per page",-1),Wt={class:"col-4"},Et={class:"table table-bordered"},It={style:{width:"34%"}},Jt={style:{width:"5%"}},At={style:{width:"15%"}},Rt={style:{width:"13%"}},jt={style:{width:"15%"}},qt={style:{width:"13%"}},Bt=(0,s._)("th",{style:{width:"5%","text-align":"right"}},"Actions",-1),Kt={style:{cursor:"pointer"},title:"Delete"},Gt=["onClick"],Xt={style:{cursor:"pointer"},title:"Edit"},Qt=["onClick"],es={class:"row py-3"},as={class:"col-7"},ls={class:"col-5"};var ts={__name:"TResearchFields",props:{research_fields:Object,showSearch:Boolean},emits:["fieldSlugEdit","fieldSlugDelete"],setup(e){const a=e,i=l(5743);let r=a.research_fields.map((e=>e));const u=(0,n.iH)("asc"),c=(0,n.iH)("title"),d=(0,n.iH)(1),p=(0,n.iH)(15),v=(0,n.iH)(15),m=(0,n.iH)(""),g=e=>{e===c.value&&(u.value="asc"===u.value?"desc":"asc"),c.value=e},_=e=>{d.value=e},b=()=>{p.value=v.value,d.value=1},h=(e,a)=>(""!==a.value&&(e=e.filter((e=>e.title.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.position.toString().indexOf(a.value.toLowerCase())>=0||e.content.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.author[0].username.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.author_update[0].username.toLowerCase().indexOf(a.value.toLowerCase())>=0))),e),f=(0,s.Fl)((()=>{let e=r;return e=h(e,m),e.sort(((e,a)=>{let l=1;return"desc"===u.value&&(l=-1),e[c.value]<a[c.value]?-1*l:e[c.value]>a[c.value]?1*l:0})).filter(((e,a)=>{let l=(d.value-1)*p.value,t=d.value*p.value;if(a>=l&&a<t)return!0}))})),w=(0,s.Fl)((()=>{let e=r;return e=h(e,m),Math.ceil(e.length/p.value)})),y=(0,s.Fl)((()=>{let e=r;return e=h(e,m),e.length}));(0,s.YP)((()=>m.value),(()=>{d.value=1}));const k=e=>{if(e)return i(String(e)).format("DD/MM/YY")};return(e,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Ot,[(0,s._)("div",Mt,[(0,s._)("div",Ft,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>v.value=e),onChange:b,class:"table-select px-1"},Zt,544),[[t.bM,v.value]]),(0,s.Uk)(),Tt]),(0,s._)("div",Wt,[(0,s.wy)((0,s._)("input",{class:"float-end px-1",type:"search","onUpdate:modelValue":a[1]||(a[1]=e=>m.value=e),placeholder:"Search..."},null,512),[[t.nr,m.value]])])])]),(0,s._)("table",Et,[(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",It,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[2]||(a[2]=e=>g("title"))}),(0,s.Uk)("Title")]),(0,s._)("th",Jt,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[3]||(a[3]=e=>g("position"))}),(0,s.Uk)("#")]),(0,s._)("th",At,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[4]||(a[4]=e=>g("author"))}),(0,s.Uk)("Created by")]),(0,s._)("th",Rt,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[5]||(a[5]=e=>g("created_at"))}),(0,s.Uk)("Created at")]),(0,s._)("th",jt,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[6]||(a[6]=e=>g("author_update"))}),(0,s.Uk)("Updated by")]),(0,s._)("th",qt,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[7]||(a[7]=e=>g("updated_at"))}),(0,s.Uk)("Updated at")]),Bt])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,n.SU)(f),(a=>((0,s.wg)(),(0,s.iD)("tr",{key:a.slug},[(0,s._)("td",null,(0,o.zw)(a.title),1),(0,s._)("td",null,(0,o.zw)(a.position),1),(0,s._)("td",null,(0,o.zw)(a.author[0].username),1),(0,s._)("td",null,(0,o.zw)(k(a.created_at)),1),(0,s._)("td",null,(0,o.zw)(a.author_update[0].username),1),(0,s._)("td",null,(0,o.zw)(k(a.updated_at)),1),(0,s._)("td",null,[(0,s._)("abbr",Kt,[(0,s._)("i",{onClick:l=>e.$emit("fieldSlugDelete",a),class:"bi bi-trash text-danger float-end"},null,8,Gt)]),(0,s._)("abbr",Xt,[(0,s._)("i",{onClick:l=>e.$emit("fieldSlugEdit",a.slug),class:"bi bi-pencil-square text-warning me-3 float-end"},null,8,Qt)])])])))),128))])]),(0,s._)("div",es,[(0,s._)("div",as,[1!=(0,n.SU)(y)?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,o.zw)((0,n.SU)(y))+" research fields found ",1)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,o.zw)((0,n.SU)(y))+" research field found ",1)],64))]),(0,s._)("div",ls,[(0,s.Wm)((0,n.SU)(Nt.Z),{modelValue:d.value,"onUpdate:modelValue":[a[8]||(a[8]=e=>d.value=e),_],pages:(0,n.SU)(w),"range-size":1,"active-color":"#B1C3D7",class:"float-end"},null,8,["modelValue","pages"])])])],64))}};const ss=ts;var ns=ss;const os={class:"modal fade",id:"delete_modal",tabindex:"-1","aria-hidden":"true","data-bs-backdrop":"static"},is={class:"modal-dialog modal-lg"},rs={class:"modal-content bg-light"},us={class:"modal-header"},cs={class:"modal-title"},ds=["onSubmit"],ps={class:"modal-body"},vs={class:"modal-footer"},ms=(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-danger"},"Delete",-1);var gs={__name:"DeleteModal",props:{model:String,title:String,warning:String,identifier:[String,Number],callback:Function,openDeleteModal:Boolean,endpoint:String},emits:["closeModal"],setup(e,{emit:a}){const l=e,r=u(),c=(0,n.iH)(null);(0,s.YP)((()=>l.openDeleteModal),(()=>{l.openDeleteModal&&(c.value=new de.u_(document.getElementById("delete_modal"),{}),c.value.show())}));const d=async()=>{r.isLoading=!0,await i.ZP["delete"](`/api/v1/${l.endpoint}/${l.identifier}`).then((e=>{c.value.hide(),(0,Ye.Yz)(`${l.model} deleted successfully`,r.toastSuccess),l.callback()})).catch((e=>{console.log(e)})),a("closeModal"),r.isLoading=!1};return(a,n)=>((0,s.wg)(),(0,s.iD)("div",os,[(0,s._)("div",is,[(0,s._)("div",rs,[(0,s._)("div",us,[(0,s._)("h6",cs,"Delete "+(0,o.zw)(l.title),1),(0,s._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:n[0]||(n[0]=e=>a.$emit("closeModal"))})]),(0,s._)("form",{onSubmit:(0,t.iM)(d,["prevent"])},[(0,s._)("div",ps,(0,o.zw)(e.warning),1),(0,s._)("div",vs,[(0,s._)("button",{type:"button",class:"btn btn-sm btn-outline-secondary","data-bs-dismiss":"modal",onClick:n[1]||(n[1]=e=>a.$emit("closeModal"))},"Cancel"),ms])],40,ds)])])]))}};const _s=gs;var bs=_s;const hs={class:"mb-5"},fs=(0,s._)("h4",{class:"inline-h"},"Research Fields",-1),ws={key:0,class:"d-flex justify-content-center"},ys=(0,s._)("div",{class:"spinner-border",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")],-1),ks=[ys];var Ss={__name:"FieldsSettings",setup(e){const a=u(),l=(c(),(0,p.tv)()),t=(0,n.iH)(!1),o=(0,n.iH)([]),r=(0,n.iH)([]),d=(0,n.iH)(!1),v=async()=>{a.isLoading=!0,t.value=!0,await i.ZP.get("/api/v1/research/").then((e=>{t.value=!1,o.value=e.data})).catch((e=>{console.log(e)})),a.isLoading=!1};(0,s.bv)((()=>{v()}));const m=e=>{r.value=e,d.value=!0},g=e=>{l.push(`/settings/research-fields/edit/${e}`)};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",hs,[fs,(0,s.Wm)(l,{class:"btn btn-sm btn-outline-primary px-4",style:{"text-align":"right",float:"right"},to:"/settings/research-fields/add"},{default:(0,s.w5)((()=>[(0,s.Uk)("Add research field ")])),_:1})]),t.value?((0,s.wg)(),(0,s.iD)("div",ws,ks)):((0,s.wg)(),(0,s.j4)(ns,{key:1,research_fields:o.value,onFieldSlugEdit:g,onFieldSlugDelete:m},null,8,["research_fields"])),(0,s.Wm)(bs,{model:"research field",title:r.value.title,warning:"Warning! A deleted news item cannot be recovered",identifier:r.value.slug,callback:v,openDeleteModal:d.value,endpoint:"research",onCloseModal:a[0]||(a[0]=e=>d.value=!1)},null,8,["title","identifier","openDeleteModal"])],64)}}};const Cs=Ss;var Ds=Cs;const xs=(0,s._)("h4",{class:"inline-h mb-4"},"Add Research Field",-1),Us=["onSubmit"],Hs={class:"row g-3"},zs={class:"col-md-12"},Ys=(0,s._)("label",null,"Title*",-1),Ls={class:"float-md-end mt-4 mb-4"},$s=(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-primary ms-1"},"Add ",-1);var Ps={__name:"AddField",setup(e){const a=u(),l=c(),o=(0,p.tv)(),r=(0,n.iH)(""),d=(0,n.iH)([]),v=async()=>{a.isLoading=!0,d.value=[];const e={title:r.value,content:"",author:l.user.id,author_update:l.user.id};d.value.length||await i.ZP.post("/api/v1/research/",e).then((e=>{console.log(e),o.push(`/settings/research-fields/edit/${e.data.slug}`),(0,Ye.Yz)("Research Field added successfully",a.toastSuccess)})).catch((e=>{if(e.response){for(const l in e.response.data)d.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),a.isLoading=!1};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[xs,(0,s._)("form",{onSubmit:(0,t.iM)(v,["prevent"])},[(0,s._)("div",Hs,[(0,s._)("div",zs,[Ys,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e)},null,512),[[t.nr,r.value]])])]),(0,s._)("div",Ls,[(0,s.Wm)(l,{type:"button",class:"btn btn-sm btn-outline-secondary ms-1",to:"/settings/research-fields"},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1}),$s])],40,Us)])}}};const Ns=Ps;var Os=Ns,Ms=l(5505);function Fs(e){return e.split("/").at(-1)}function Vs(e){let a;return e<512e3?(e/=1024,a="kB"):e<4194304e3?(e/=1048576,a="MB"):(e/=1073741824,a="GB"),Math.round(10*e)/10+a}const Zs={class:"mt-4"},Ts=(0,s._)("h5",{class:"inline-h mb-4"},"Content images",-1),Ws={class:"container-upload"},Es=["onSubmit"],Is=(0,s._)("button",{class:"btn btn-primary btn-sm mt-3",type:"submit"},[(0,s.Uk)("Submit "),(0,s._)("i",{class:"bi bi-upload ms-3"})],-1),Js={class:"mt-4 container-upload"},As={class:"table table-striped table-hover table-sm"},Rs=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{style:{width:"72%"}},"Image"),(0,s._)("th",{class:"pe-5",style:{width:"20%","text-align":"right"}},"Size"),(0,s._)("th",{style:{width:"8%","text-align":"right"}},"Actions")])],-1),js={style:{"font-size":"13px"}},qs=["href"],Bs={class:"pe-5",style:{"text-align":"right"}},Ks={style:{cursor:"pointer"},title:"Delete"},Gs=["onClick"],Xs={style:{cursor:"pointer"},title:"Copy link"},Qs=["onClick"];var en={__name:"ImagesComponent",props:["model","callback","endpoint","base_ref"],setup(e){const a=e,l=u(),r=(0,n.iH)(null),c=[],d=async()=>{for(let e=0;e<r.value.files.length;e++){const t=new FormData;t.append("reffield",a.model.id),t.append("image",r.value.files[e]),await i.ZP.post(`/api/v1/${a.endpoint}/`,t,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{a.callback(),(0,Ye.Yz)(`${Fs(e.data.image)} uploaded`,l.toastSuccess)})).catch((e=>{if(e.response){for(const a in e.response.data)c.value.push(`${a}: ${e.response.data[a]}`),(0,Ye.Yz)(`${a}: ${e.response.data[a]}`,l.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))}))}r.value.value=""},p=async e=>{await i.ZP["delete"](`/api/v1/${a.endpoint}/${e.id}`).then((t=>{a.callback(),(0,Ye.Yz)(`${Fs(e.image)} deleted successfully`,l.toastSuccess)}))};return(l,i)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Zs,[Ts,(0,s._)("div",Ws,[(0,s._)("form",{onSubmit:(0,t.iM)(d,["prevent"])},[(0,s._)("input",{class:"form-control",type:"file",ref_key:"inputImages",ref:r,multiple:""},null,512),Is],40,Es)])]),(0,s._)("div",Js,[(0,s._)("table",As,[Rs,(0,s._)("tbody",js,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.model[a.base_ref],(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id},[(0,s._)("td",null,[(0,s._)("a",{class:"table-image-link",href:e.image,target:"_blank"},(0,o.zw)((0,n.SU)(Fs)(e.image)),9,qs)]),(0,s._)("td",Bs,(0,o.zw)((0,n.SU)(Vs)(e.size)),1),(0,s._)("td",null,[(0,s._)("abbr",Ks,[(0,s._)("i",{onClick:a=>p(e),class:"bi bi-trash text-danger float-end"},null,8,Gs)]),(0,s._)("abbr",Xs,[(0,s._)("i",{onClick:a=>l.copyImage(e.image),class:"bi bi-files text-primary float-end me-4"},null,8,Qs)])])])))),128))])])])],64))}};const an=en;var ln=an,tn=l(6260);const sn=e=>((0,s.dD)("data-v-3049e59c"),e=e(),(0,s.Cn)(),e),nn={class:"mt-4"},on=sn((()=>(0,s._)("h5",{class:"inline-h mb-4"},"Cover",-1))),rn={class:"container-upload"},un={class:"row mt-2"},cn={class:"col-md-6 px-5"},dn={class:"crop-area-cover"},pn={class:"image-settings-div"},vn={class:"mt-3"},mn=["onClick"],gn=["onClick"],_n={class:"col-md-6"},bn={class:"cover-preview-area"},hn=sn((()=>(0,s._)("p",null,"Preview",-1))),fn={key:0,class:"cover-preview"},wn={class:"mt-4 container-upload"},yn={class:"table table-striped table-hover table-sm"},kn=sn((()=>(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{style:{width:"72%"}},"Cover"),(0,s._)("th",{class:"pe-5",style:{width:"20%","text-align":"right"}},"Size"),(0,s._)("th",{style:{width:"8%","text-align":"right"}},"Actions")])],-1))),Sn={style:{"font-size":"13px"}},Cn=["href"],Dn={class:"pe-5",style:{"text-align":"right"}},xn={style:{cursor:"pointer"},title:"Delete"},Un=["onClick"],Hn={style:{cursor:"pointer"},title:"Set as cover"},zn=["onClick"];var Yn={__name:"CoverComponent",props:["model","callback","endpoint","baseRef","width","height","aspectRatio"],setup(e){const a=e,l=u(),r=(0,n.iH)(null),c=(0,n.iH)(null),d=[],p=(0,n.iH)(""),v=((0,n.iH)(""),(0,n.iH)(null),(0,n.iH)("")),m=(0,n.iH)(0),g=(0,n.iH)(0),_=(0,n.iH)(""),b=e=>{v.value=e.target.files[0];const a=v.value;if(void 0==a&&(p.value="",m.value=0,g.value=0,_.value=""),void 0!=a){if(_.value=a.type,-1===a.type.indexOf("image/"))return void(0,Ye.Yz)("Invalid file type selected. Select an image",l.toastDanger);if("function"===typeof FileReader){const e=new FileReader;e.onload=a=>{p.value=a.target.result,(0,s.Y3)((()=>{r.value.replace(a.target.result)}));var l=new Image;l.onload=()=>{m.value=l.width,g.value=l.height},l.src=e.result},e.readAsDataURL(a)}else this.createToast("Sorry, FileReader API not supported",l.toastDanger)}},h=(e,a)=>{r.value.move(e,a)},f=()=>{r.value.reset()},w=e=>{r.value.relativeZoom(e)},y=async()=>{r.value.getCroppedCanvas({width:a.width,height:a.height}).toBlob((e=>{const t=new FormData;t.append("reffield",a.model.id),t.append("image",e,v.value.name),0==a.model[a.baseRef].length&&t.append("isCover",!0),i.ZP.post(`/api/v1/${a.endpoint}/`,t,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{a.callback(),(0,Ye.Yz)(`${Fs(e.data.image)} uploaded`,l.toastSuccess)})).catch((e=>{if(e.response){for(const a in e.response.data)d.value.push(`${a}: ${e.response.data[a]}`),(0,Ye.Yz)(`${a}: ${e.response.data[a]}`,l.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))}))}),_.value),c.value.value="",p.value="",m.value=0,g.value=0,_.value=""},k=async e=>{const t=new FormData;t.append("isCover",!1);for(let n=0;n<a.model[a.baseRef].length;n++){const e=a.model[a.baseRef][n].id;await i.ZP.patch(`/api/v1/${a.endpoint}/${e}/`,t,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{})).catch((e=>{if(e.response){for(const a in e.response.data)d.value.push(`${a}: ${e.response.data[a]}`),(0,Ye.Yz)(`${a}: ${e.response.data[a]}`,l.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))}))}const s=new FormData;s.append("isCover",!0),await i.ZP.patch(`/api/v1/${a.endpoint}/${e.id}/`,s,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{console.log(e),(0,Ye.Yz)("Cover changed successfully",l.toastSuccess)})).catch((e=>{if(e.response){for(const a in e.response.data)d.value.push(`${a}: ${e.response.data[a]}`),(0,Ye.Yz)(`${a}: ${e.response.data[a]}`,l.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),a.callback()},S=async e=>{await i.ZP["delete"](`/api/v1/${a.endpoint}/${e.id}`).then((t=>{a.callback(),(0,Ye.Yz)(`${Fs(e.image)} deleted successfully`,l.toastSuccess)}))};return(e,l)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",nn,[on,(0,s._)("div",rn,[(0,s._)("input",{class:"form-control",ref_key:"inputCover",ref:c,type:"file",name:"image",onChange:b},null,544),(0,s._)("div",un,[(0,s._)("div",cn,[(0,s._)("div",dn,[(0,s.wy)((0,s._)("span",null," Image too small ",512),[[t.F8,""!=p.value&&(g.value<a.height||m.value<a.width)]]),(0,s.wy)((0,s._)("span",null,[(0,s.Wm)((0,n.SU)(tn.Z),{ref_key:"cropper",ref:r,"aspect-ratio":a.aspectRatio,src:p.value,cropBoxResizable:!1,preview:".cover-preview",dragMode:"none"},null,8,["aspect-ratio","src"])],512),[[t.F8,g.value>=a.height&&m.value>=a.width]])]),(0,s._)("div",pn,[(0,s._)("i",{class:"bi bi-zoom-in image-settings",onClick:l[0]||(l[0]=(0,t.iM)((e=>w(.2)),["prevent"]))}),(0,s._)("i",{class:"bi bi-zoom-out image-settings",onClick:l[1]||(l[1]=(0,t.iM)((e=>w(-.2)),["prevent"]))}),(0,s._)("i",{class:"bi bi-chevron-left image-settings",onClick:l[2]||(l[2]=(0,t.iM)((e=>h(-10,0)),["prevent"]))}),(0,s._)("i",{class:"bi bi-chevron-right image-settings",onClick:l[3]||(l[3]=(0,t.iM)((e=>h(10,0)),["prevent"]))}),(0,s._)("i",{class:"bi bi-chevron-up image-settings",onClick:l[4]||(l[4]=(0,t.iM)((e=>h(0,-10)),["prevent"]))}),(0,s._)("i",{class:"bi bi-chevron-down image-settings",onClick:l[5]||(l[5]=(0,t.iM)((e=>h(0,10)),["prevent"]))})]),(0,s._)("div",vn,[(0,s._)("button",{class:"btn btn-primary",style:{width:"170px","margin-right":"5px"},onClick:(0,t.iM)(f,["prevent"])},"Reset ",8,mn),(0,s._)("button",{class:"btn btn-primary",style:{width:"170px","margin-left":"5px"},onClick:(0,t.iM)(y,["prevent"])},"Crop & Update ",8,gn)])]),(0,s._)("div",_n,[(0,s._)("div",bn,[hn,g.value>=a.height&&m.value>=a.width?((0,s.wg)(),(0,s.iD)("div",fn)):(0,s.kq)("",!0)])])])])]),(0,s._)("div",wn,[(0,s._)("table",yn,[kn,(0,s._)("tbody",Sn,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.model[a.baseRef],(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id},[(0,s._)("td",null,[(0,s._)("a",{class:"table-image-link",href:e.image,target:"_blank"},(0,o.zw)((0,n.SU)(Fs)(e.image)),9,Cn)]),(0,s._)("td",Dn,(0,o.zw)((0,n.SU)(Vs)(e.size)),1),(0,s._)("td",null,[(0,s._)("abbr",xn,[(0,s._)("i",{onClick:a=>S(e),class:"bi bi-trash text-danger float-end"},null,8,Un)]),(0,s._)("abbr",Hn,[(0,s._)("i",{onClick:a=>k(e),class:"bi bi-arrow-up-square text-primary float-end me-4"},null,8,zn)])])])))),128))])])])],64))}};const Ln=(0,P.Z)(Yn,[["__scopeId","data-v-3049e59c"]]);var $n=Ln;const Pn=e=>((0,s.dD)("data-v-1a83cee4"),e=e(),(0,s.Cn)(),e),Nn=Pn((()=>(0,s._)("h4",{class:"inline-h mb-4"},"Edit Research Field",-1))),On={class:"container-upload"},Mn=["onSubmit"],Fn={class:"row"},Vn={class:"col-md-11"},Zn={class:"form-group mb-3"},Tn=Pn((()=>(0,s._)("label",{class:"mb-1"},"Title*",-1))),Wn={class:"col-md-1"},En={class:"form-group mb-3"},In=Pn((()=>(0,s._)("label",{class:"mb-1"},"Position*",-1))),Jn={class:"form-group"},An=Pn((()=>(0,s._)("label",{class:"mb-1"},"Content (at least 15 words)",-1))),Rn={class:"form-group mb-3"},jn=Pn((()=>(0,s._)("label",{class:"me-3"},"Show in research fields page",-1))),qn={class:"form-check form-check-inline"},Bn=Pn((()=>(0,s._)("label",{class:"form-check-label"},"Yes",-1))),Kn={class:"form-check form-check-inline"},Gn=Pn((()=>(0,s._)("label",{class:"form-check-label"},"No",-1))),Xn={class:"mt-4",align:"right"},Qn=Pn((()=>(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-primary ms-1"},"Edit Research Field ",-1))),eo=Pn((()=>(0,s._)("hr",{style:{"margin-top":"40px"}},null,-1))),ao=Pn((()=>(0,s._)("hr",{style:{"margin-top":"40px"}},null,-1)));var lo={__name:"EditField",setup(e){const a=u(),l=c(),o=(0,p.tv)(),r=(0,p.yj)(),d=(0,n.iH)([]),v=(0,n.iH)([]),m=(0,n.iH)("No"),g=(0,n.iH)([]),_=async()=>{a.isLoading=!0,g.value=[];const e=r.params.slug;await i.ZP.get(`/api/v1/research/${e}`).then((e=>{d.value=e.data})).catch((e=>{console.log(e)})),0==v.value.length&&(v.value=d.value),v.value.images_research!=d.value.images_research&&(v.value.images_research=d.value.images_research),v.value.cover_research!=d.value.cover_research&&(v.value.cover_research=d.value.cover_research),0==v.value.show_in_page&&(m.value="No"),1==v.value.show_in_page&&(m.value="Yes"),a.isLoading=!1};(0,s.bv)((()=>{_()}));const b=async()=>{a.isLoading=!0;const e=r.params.slug;v.value.author=v.value.author[0].id,v.value.author_update=l.user.id,"Yes"==m.value&&(v.value.show_in_page=!0),"No"==m.value&&(v.value.show_in_page=!1),g.value=[],await i.ZP.patch(`/api/v1/research/${e}/`,v.value).then((e=>{o.push("/settings/research-fields"),(0,Ye.Yz)("research field edited successfully",a.toastSuccess)})).catch((e=>{if(e.response){for(const l in e.response.data)g.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),a.isLoading=!1};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[Nn,(0,s._)("div",On,[(0,s._)("form",{onSubmit:(0,t.iM)(b,["prevent"])},[(0,s._)("div",Fn,[(0,s._)("div",Vn,[(0,s._)("div",Zn,[Tn,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":a[0]||(a[0]=e=>v.value.title=e)},null,512),[[t.nr,v.value.title]])])]),(0,s._)("div",Wn,[(0,s._)("div",En,[In,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"email","onUpdate:modelValue":a[1]||(a[1]=e=>v.value.position=e)},null,512),[[t.nr,v.value.position]])])])]),(0,s._)("div",Jn,[An,(0,s.Wm)((0,n.SU)(Ms.Z),{modelValue:v.value.content,"onUpdate:modelValue":a[2]||(a[2]=e=>v.value.content=e),ref:"markdownEditor"},null,8,["modelValue"])]),(0,s._)("div",Rn,[jn,(0,s._)("div",qn,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"radio",value:"Yes","onUpdate:modelValue":a[3]||(a[3]=e=>m.value=e)},null,512),[[t.G2,m.value]]),Bn]),(0,s._)("div",Kn,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"radio",value:"No","onUpdate:modelValue":a[4]||(a[4]=e=>m.value=e)},null,512),[[t.G2,m.value]]),Gn])]),(0,s._)("div",Xn,[(0,s.Wm)(l,{type:"button",class:"btn btn-sm btn-outline-secondary ms-1",to:"/settings/research-fields"},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel ")])),_:1}),Qn])],40,Mn)]),eo,(0,s.Wm)(ln,{model:d.value,callback:_,endpoint:"research-images",base_ref:"images_research"},null,8,["model"]),ao,(0,s.Wm)($n,{model:d.value,callback:_,endpoint:"research-cover","base-ref":"cover_research",width:300,height:450,"aspect-ratio":2/3},null,8,["model"])],64)}}};const to=(0,P.Z)(lo,[["__scopeId","data-v-1a83cee4"]]);var so=to;const no=e=>((0,s.dD)("data-v-3d4863fb"),e=e(),(0,s.Cn)(),e),oo={class:"container"},io={class:"card-profile"},ro={class:"our-team"},uo={class:"picture"},co=["src"],po={class:"team-content"},vo={class:"name"},mo={class:"title"},go=no((()=>(0,s._)("strong",null,"VIEW FULL PROFILE",-1)));var _o={__name:"People",setup(e){const a=u(),l=(0,n.iH)(!1),t=(0,n.iH)([]),r=async()=>{a.isLoading=!0,l.value=!0,await i.ZP.get("/api/v1/people/").then((e=>{l.value=!1,t.value=e.data;for(let a=0;a<t.value.length;a++)t.value[a].pic_person.length>0?t.value[a].pic=t.value[a].pic_person.filter((e=>1==e.isPic))[0].image:t.value[a].pic="/media/website/people/pic_default.png";t.value=t.value.filter((e=>!0===e.show_in_page)).sort(((e,a)=>e.position-a.position))})).catch((e=>{console.log(e)})),a.isLoading=!1};return(0,s.bv)((()=>{r()})),(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",oo,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.value,(e=>((0,s.wg)(),(0,s.iD)("span",{key:e.id},[(0,s._)("div",io,[(0,s._)("div",ro,[(0,s._)("div",uo,[(0,s._)("img",{class:"img-fluid",src:e.pic},null,8,co)]),(0,s._)("div",po,[(0,s._)("h4",vo,(0,o.zw)(e.name),1),(0,s._)("h5",mo,(0,o.zw)(e.role),1)]),(0,s.Wm)(l,{to:{name:"PersonDetail",params:{slug:e.slug}},class:"profile-link"},{default:(0,s.w5)((()=>[go])),_:2},1032,["to"])])])])))),128))])}}};const bo=(0,P.Z)(_o,[["__scopeId","data-v-3d4863fb"]]);var ho=bo,fo=l.p+"img/scholar.15525474.svg",wo=l.p+"img/cv.8a2e6898.svg",yo=l.p+"img/github.1dcec4f4.svg",ko=l.p+"img/linkedin.345e4805.svg";const So=e=>((0,s.dD)("data-v-e48f05a8"),e=e(),(0,s.Cn)(),e),Co={class:"person-container"},Do={class:"row"},xo={class:"left col-lg-4"},Uo={class:"photo-left"},Ho=["src"],zo={class:"center col-lg-3"},Yo={class:"profile-name"},Lo={class:"profile-role"},$o={class:"col-lg-5 ccol"},Po={class:"row d-flex justify-content-end"},No={class:"right-email col-lg-auto"},Oo={class:"float-end text-secondary",style:{"margin-top":"5px","font-size":"20px"}},Mo={class:"profile-email"},Fo={class:"right-links col-lg-auto"},Vo={class:"float-end text-secondary",style:{"margin-top":"5px","font-size":"20px"}},Zo={style:{cursor:"pointer"},title:"Scholar"},To=["href"],Wo=So((()=>(0,s._)("img",{src:fo,style:{width:"30px","margin-right":"15px"}},null,-1))),Eo=[Wo],Io={style:{cursor:"pointer"},title:"Curriculum"},Jo=["href"],Ao=So((()=>(0,s._)("img",{src:wo,style:{width:"24px","margin-right":"15px"}},null,-1))),Ro=[Ao],jo={style:{cursor:"pointer"},title:"Github"},qo=["href"],Bo=So((()=>(0,s._)("img",{src:yo,style:{width:"30px","margin-right":"15px"}},null,-1))),Ko=[Bo],Go={style:{cursor:"pointer"},title:"Linkedin"},Xo=["href"],Qo=So((()=>(0,s._)("img",{src:ko,style:{width:"30px"}},null,-1))),ei=[Qo],ai=["innerHTML"],li={key:1,style:{"font-size":"20px"}};var ti={__name:"Person",setup(e){const a=u(),l=(0,p.yj)(),r=(0,n.iH)({}),c=(0,n.iH)(!1),d=async()=>{a.isLoading=!0;const e=l.params.slug;await i.ZP.get(`/api/v1/people/${e}`).then((e=>{r.value=e.data,c.value=!0,null!=r.value.content?r.value.contentMD=(0,X.TU)(r.value.content):r.value.contentMD="",r.value.pic_person.length>0?r.value.pic=r.value.pic_person.filter((e=>1==e.isPic))[0].image:r.value.pic="/media/website/people/pic_default.png",r.value.cover_person.length>0?r.value.cover=r.value.cover_person.filter((e=>1==e.isCover))[0].image:r.value.cover="/media/website/people/cover_person.jpg",r.value.pdf_personCV.length>0?r.value.pdf=r.value.pdf_personCV.filter((e=>1==e.isPDF))[0].file:r.value.pdf=""})).catch((e=>{console.log(e)})),a.isLoading=!1};return(0,s.bv)((()=>{d()})),(e,a)=>((0,s.wg)(),(0,s.iD)("div",Co,[c.value?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",{class:"header",style:(0,o.j5)({backgroundImage:"url("+r.value.cover+")"})},null,4),(0,s._)("div",null,[(0,s._)("div",Do,[(0,s._)("div",xo,[(0,s._)("div",Uo,[(0,s._)("img",{class:"photo",src:r.value.pic},null,8,Ho)])]),(0,s._)("div",zo,[(0,s._)("div",Yo,(0,o.zw)(r.value.name),1),(0,s._)("div",Lo,(0,o.zw)(r.value.role),1)]),(0,s._)("div",$o,[(0,s._)("div",Po,[(0,s._)("div",No,[(0,s._)("div",Oo,[(0,s._)("span",Mo,(0,o.zw)(r.value.email),1)])]),(0,s._)("div",Fo,[(0,s._)("div",Vo,[(0,s.wy)((0,s._)("span",null,[(0,s._)("abbr",Zo,[(0,s._)("a",{href:r.value.link_scholar,target:"_blank"},Eo,8,To)])],512),[[t.F8,r.value.link_scholar]]),(0,s.wy)((0,s._)("span",null,[(0,s._)("abbr",Io,[(0,s._)("a",{href:r.value.pdf,target:"_blank"},Ro,8,Jo)])],512),[[t.F8,r.value.pdf]]),(0,s.wy)((0,s._)("span",null,[(0,s._)("abbr",jo,[(0,s._)("a",{href:r.value.github,target:"_blank"},Ko,8,qo)])],512),[[t.F8,r.value.github]]),(0,s.wy)((0,s._)("span",null,[(0,s._)("abbr",Go,[(0,s._)("a",{href:r.value.linkedin,target:"_blank"},ei,8,Xo)])],512),[[t.F8,r.value.linkedin]])])])])])])]),(0,s._)("div",{class:"md-content",innerHTML:r.value.contentMD},null,8,ai)],64)):((0,s.wg)(),(0,s.iD)("span",li," 404: Page does not exist "))]))}};const si=(0,P.Z)(ti,[["__scopeId","data-v-e48f05a8"]]);var ni=si;const oi={class:"mb-4"},ii={class:"row justify-content-between"},ri={class:"col-4"},ui=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="15">15</option><option value="20">20</option><option value="25">25</option>',5),ci=[ui],di=(0,s._)("span",{class:"ms-2"},"research people per page",-1),pi={class:"col-4"},vi={class:"table table-bordered"},mi={style:{width:"34%"}},gi={style:{width:"5%"}},_i={style:{width:"15%"}},bi={style:{width:"13%"}},hi={style:{width:"15%"}},fi={style:{width:"13%"}},wi=(0,s._)("th",{style:{width:"5%","text-align":"right"}},"Actions",-1),yi={style:{cursor:"pointer"},title:"Delete"},ki=["onClick"],Si={style:{cursor:"pointer"},title:"Edit"},Ci=["onClick"],Di={class:"row py-3"},xi={class:"col-7"},Ui={class:"col-5"};var Hi={__name:"TPeople",props:{people:Object,showSearch:Boolean},emits:["personSlugEdit","personSlugDelete"],setup(e){const a=e,i=l(5743);let r=a.people.map((e=>e));const u=(0,n.iH)("asc"),c=(0,n.iH)("title"),d=(0,n.iH)(1),p=(0,n.iH)(15),v=(0,n.iH)(15),m=(0,n.iH)(""),g=e=>{e===c.value&&(u.value="asc"===u.value?"desc":"asc"),c.value=e},_=e=>{d.value=e},b=()=>{p.value=v.value,d.value=1},h=(e,a)=>(""!==a.value&&(e=e.filter((e=>e.name.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.position.toString().indexOf(a.value.toLowerCase())>=0||e.content.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.email.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.role.toLowerCase().indexOf(a.value.toLowerCase())>=0))),e),f=(0,s.Fl)((()=>{let e=r;return e=h(e,m),e.sort(((e,a)=>{let l=1;return"desc"===u.value&&(l=-1),e[c.value]<a[c.value]?-1*l:e[c.value]>a[c.value]?1*l:0})).filter(((e,a)=>{let l=(d.value-1)*p.value,t=d.value*p.value;if(a>=l&&a<t)return!0}))})),w=(0,s.Fl)((()=>{let e=r;return e=h(e,m),Math.ceil(e.length/p.value)})),y=(0,s.Fl)((()=>{let e=r;return e=h(e,m),e.length}));(0,s.YP)((()=>m.value),(()=>{d.value=1}));const k=e=>{if(e)return i(String(e)).format("DD/MM/YY")};return(e,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",oi,[(0,s._)("div",ii,[(0,s._)("div",ri,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>v.value=e),onChange:b,class:"table-select px-1"},ci,544),[[t.bM,v.value]]),(0,s.Uk)(),di]),(0,s._)("div",pi,[(0,s.wy)((0,s._)("input",{class:"float-end px-1",type:"search","onUpdate:modelValue":a[1]||(a[1]=e=>m.value=e),placeholder:"Search..."},null,512),[[t.nr,m.value]])])])]),(0,s._)("table",vi,[(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",mi,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[2]||(a[2]=e=>g("name"))}),(0,s.Uk)("Name")]),(0,s._)("th",gi,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[3]||(a[3]=e=>g("position"))}),(0,s.Uk)("#")]),(0,s._)("th",_i,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[4]||(a[4]=e=>g("author.username"))}),(0,s.Uk)("Created by")]),(0,s._)("th",bi,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[5]||(a[5]=e=>g("created_at"))}),(0,s.Uk)("Created at")]),(0,s._)("th",hi,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[6]||(a[6]=e=>g("author_update.username"))}),(0,s.Uk)("Updated by")]),(0,s._)("th",fi,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[7]||(a[7]=e=>g("updated_at"))}),(0,s.Uk)("Updated at")]),wi])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,n.SU)(f),(a=>((0,s.wg)(),(0,s.iD)("tr",{key:a.slug},[(0,s._)("td",null,(0,o.zw)(a.name),1),(0,s._)("td",null,(0,o.zw)(a.position),1),(0,s._)("td",null,(0,o.zw)(a.author[0].username),1),(0,s._)("td",null,(0,o.zw)(k(a.created_at)),1),(0,s._)("td",null,(0,o.zw)(a.author_update[0].username),1),(0,s._)("td",null,(0,o.zw)(k(a.updated_at)),1),(0,s._)("td",null,[(0,s._)("abbr",yi,[(0,s._)("i",{onClick:l=>e.$emit("personSlugDelete",a),class:"bi bi-trash text-danger float-end"},null,8,ki)]),(0,s._)("abbr",Si,[(0,s._)("i",{onClick:l=>e.$emit("personSlugEdit",a.slug),class:"bi bi-pencil-square text-warning me-3 float-end"},null,8,Ci)])])])))),128))])]),(0,s._)("div",Di,[(0,s._)("div",xi,[1!=(0,n.SU)(y)?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,o.zw)((0,n.SU)(y))+" people found ",1)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,o.zw)((0,n.SU)(y))+" person found ",1)],64))]),(0,s._)("div",Ui,[(0,s.Wm)((0,n.SU)(Nt.Z),{modelValue:d.value,"onUpdate:modelValue":[a[8]||(a[8]=e=>d.value=e),_],pages:(0,n.SU)(w),"range-size":1,"active-color":"#B1C3D7",class:"float-end"},null,8,["modelValue","pages"])])])],64))}};const zi=Hi;var Yi=zi;const Li={class:"mb-5"},$i=(0,s._)("h4",{class:"inline-h"},"People",-1),Pi={key:0,class:"d-flex justify-content-center"},Ni=(0,s._)("div",{class:"spinner-border",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")],-1),Oi=[Ni];var Mi={__name:"PeopleSettings",setup(e){const a=u(),l=(0,p.tv)(),t=(0,n.iH)(!1),o=(0,n.iH)([]),r=(0,n.iH)([]),c=(0,n.iH)(!1),d=async()=>{a.isLoading=!0,t.value=!0,await i.ZP.get("/api/v1/people/").then((e=>{t.value=!1,o.value=e.data})).catch((e=>{console.log(e)})),a.isLoading=!1};(0,s.bv)((()=>{d()}));const v=e=>{r.value=e,c.value=!0},m=e=>{l.push(`/settings/people/edit/${e}`)};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Li,[$i,(0,s.Wm)(l,{class:"btn btn-sm btn-outline-primary px-4",style:{"text-align":"right",float:"right"},to:"/settings/people/add"},{default:(0,s.w5)((()=>[(0,s.Uk)("Add person ")])),_:1})]),t.value?((0,s.wg)(),(0,s.iD)("div",Pi,Oi)):((0,s.wg)(),(0,s.j4)(Yi,{key:1,people:o.value,onPersonSlugEdit:m,onPersonSlugDelete:v},null,8,["people"])),(0,s.Wm)(bs,{model:"person",title:r.value.name,warning:"Warning! A deleted person item cannot be recovered",identifier:r.value.slug,callback:d,openDeleteModal:c.value,endpoint:"people",onCloseModal:a[0]||(a[0]=e=>c.value=!1)},null,8,["title","identifier","openDeleteModal"])],64)}}};const Fi=Mi;var Vi=Fi;function Zi(e,a,l,t,n,i){return(0,s.wg)(),(0,s.iD)("div",{class:(0,o.C_)(["check-char",{"check-warning":i.charactersRemaining<=this.inputWarn}])},(0,o.zw)(i.charactersRemaining)+" characters remaining ",3)}var Ti={name:"CharCount",props:["input","inputLen","inputWarn"],computed:{charactersRemaining:function(){return this.inputLen-this.input.length}}};const Wi=(0,P.Z)(Ti,[["render",Zi],["__scopeId","data-v-3b05edf4"]]);var Ei=Wi;const Ii=(0,s._)("h4",{class:"inline-h mb-4"},"Add Person",-1),Ji=["onSubmit"],Ai={class:"row g-3"},Ri={class:"col-md-12"},ji=(0,s._)("label",null,"Name*",-1),qi={class:"float-md-end mt-4 mb-4"},Bi=(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-primary ms-1"},"Add ",-1);var Ki={__name:"AddPerson",setup(e){const a=u(),l=c(),o=(0,p.tv)(),r=(0,n.iH)(""),d=(0,n.iH)([]),v=async()=>{a.isLoading=!0,d.value=[];const e={name:r.value,email:"#",role:"#",author:l.user.id,author_update:l.user.id};d.value.length||await i.ZP.post("/api/v1/people/",e).then((e=>{o.push(`/settings/people/edit/${e.data.slug}`),(0,Ye.Yz)("Person added successfully",a.toastSuccess)})).catch((e=>{if(e.response){for(const l in e.response.data)d.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),a.isLoading=!1};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[Ii,(0,s._)("form",{onSubmit:(0,t.iM)(v,["prevent"])},[(0,s._)("div",Ai,[(0,s._)("div",Ri,[ji,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e)},null,512),[[t.nr,r.value]])])]),(0,s._)("div",qi,[(0,s.Wm)(l,{type:"button",class:"btn btn-sm btn-outline-secondary ms-1",to:"/settings/people"},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1}),Bi])],40,Ji)])}}};const Gi=Ki;var Xi=Gi;const Qi=e=>((0,s.dD)("data-v-f17cc700"),e=e(),(0,s.Cn)(),e),er={class:"mt-4"},ar=Qi((()=>(0,s._)("h5",{class:"inline-h mb-4"},"Pic profile",-1))),lr={class:"container-upload"},tr={class:"row mt-2"},sr={class:"col-md-8 px-5"},nr={class:"crop-area-pic"},or={class:"image-settings-div"},ir={class:"mt-3"},rr=["onClick"],ur=["onClick"],cr={class:"col-md-4"},dr={class:"pic-preview-area"},pr=Qi((()=>(0,s._)("p",null,"Preview",-1))),vr={key:0,class:"pic-preview"},mr={class:"mt-4 container-upload"},gr={class:"table table-striped table-hover table-sm"},_r=Qi((()=>(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{style:{width:"72%"}},"Pic"),(0,s._)("th",{class:"pe-5",style:{width:"20%","text-align":"right"}},"Size"),(0,s._)("th",{style:{width:"8%","text-align":"right"}},"Actions")])],-1))),br={style:{"font-size":"13px"}},hr=["href"],fr={class:"pe-5",style:{"text-align":"right"}},wr={style:{cursor:"pointer"},title:"Delete"},yr=["onClick"],kr={style:{cursor:"pointer"},title:"Set as pic"},Sr=["onClick"];var Cr={__name:"PicPerson",props:["person","callback"],setup(e){const a=e,l=u(),r=(0,n.iH)(null),c=(0,n.iH)(null),d=[],p=(0,n.iH)(""),v=((0,n.iH)(""),(0,n.iH)(null),(0,n.iH)("")),m=(0,n.iH)(0),g=(0,n.iH)(0),_=(0,n.iH)(""),b=e=>{v.value=e.target.files[0];const a=v.value;if(void 0==a&&(p.value="",m.value=0,g.value=0,_.value=""),void 0!=a){if(_.value=a.type,-1===a.type.indexOf("image/"))return void(0,Ye.Yz)("Invalid file type selected. Select an image",l.toastDanger);if("function"===typeof FileReader){const e=new FileReader;e.onload=a=>{p.value=a.target.result,(0,s.Y3)((()=>{r.value.replace(a.target.result)}));var l=new Image;l.onload=()=>{m.value=l.width,g.value=l.height},l.src=e.result},e.readAsDataURL(a)}else this.createToast("Sorry, FileReader API not supported",l.toastDanger)}},h=(e,a)=>{r.value.move(e,a)},f=()=>{r.value.reset()},w=e=>{r.value.relativeZoom(e)},y=async()=>{r.value.getCroppedCanvas({width:300,height:300}).toBlob((e=>{const t=new FormData;t.append("reffield",a.person.id),t.append("image",e,v.value.name),0==a.person.pic_person.length&&t.append("isPic",!0),i.ZP.post("/api/v1/person-pic/",t,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{a.callback(),(0,Ye.Yz)(`${Fs(e.data.image)} uploaded`,l.toastSuccess)})).catch((e=>{if(e.response){for(const a in e.response.data)d.value.push(`${a}: ${e.response.data[a]}`),(0,Ye.Yz)(`${a}: ${e.response.data[a]}`,l.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))}))}),_.value),c.value.value="",p.value="",m.value=0,g.value=0,_.value=""},k=async e=>{const t=new FormData;t.append("isPic",!1);for(let n=0;n<a.person.pic_person.length;n++){const e=a.person.pic_person[n].id;await i.ZP.patch(`/api/v1/person-pic/${e}/`,t,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{})).catch((e=>{if(e.response){for(const a in e.response.data)d.value.push(`${a}: ${e.response.data[a]}`),(0,Ye.Yz)(`${a}: ${e.response.data[a]}`,l.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))}))}const s=new FormData;s.append("isPic",!0),await i.ZP.patch(`/api/v1/person-pic/${e.id}/`,s,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{console.log(e),(0,Ye.Yz)("Pic changed successfully",l.toastSuccess)})).catch((e=>{if(e.response){for(const a in e.response.data)d.value.push(`${a}: ${e.response.data[a]}`),(0,Ye.Yz)(`${a}: ${e.response.data[a]}`,l.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),a.callback()},S=async e=>{await i.ZP["delete"](`/api/v1/person-pic/${e.id}`).then((t=>{a.callback(),(0,Ye.Yz)(`${Fs(e.image)} deleted successfully`,l.toastSuccess)}))};return(a,l)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",er,[ar,(0,s._)("div",lr,[(0,s._)("input",{class:"form-control",ref_key:"inputPic",ref:c,type:"file",name:"image",onChange:b},null,544),(0,s._)("div",tr,[(0,s._)("div",sr,[(0,s._)("div",nr,[(0,s.wy)((0,s._)("span",null," Image too small ",512),[[t.F8,""!=p.value&&(g.value<300||m.value<300)]]),(0,s.wy)((0,s._)("span",null,[(0,s.Wm)((0,n.SU)(tn.Z),{ref_key:"cropper",ref:r,"aspect-ratio":1,src:p.value,cropBoxResizable:!1,preview:".pic-preview",dragMode:"none"},null,8,["src"])],512),[[t.F8,g.value>300&&m.value>300]])]),(0,s._)("div",or,[(0,s._)("i",{class:"bi bi-zoom-in image-settings",onClick:l[0]||(l[0]=(0,t.iM)((e=>w(.2)),["prevent"]))}),(0,s._)("i",{class:"bi bi-zoom-out image-settings",onClick:l[1]||(l[1]=(0,t.iM)((e=>w(-.2)),["prevent"]))}),(0,s._)("i",{class:"bi bi-chevron-left image-settings",onClick:l[2]||(l[2]=(0,t.iM)((e=>h(-10,0)),["prevent"]))}),(0,s._)("i",{class:"bi bi-chevron-right image-settings",onClick:l[3]||(l[3]=(0,t.iM)((e=>h(10,0)),["prevent"]))}),(0,s._)("i",{class:"bi bi-chevron-up image-settings",onClick:l[4]||(l[4]=(0,t.iM)((e=>h(0,-10)),["prevent"]))}),(0,s._)("i",{class:"bi bi-chevron-down image-settings",onClick:l[5]||(l[5]=(0,t.iM)((e=>h(0,10)),["prevent"]))})]),(0,s._)("div",ir,[(0,s._)("button",{class:"btn btn-primary",style:{width:"170px","margin-right":"5px"},onClick:(0,t.iM)(f,["prevent"])},"Reset ",8,rr),(0,s._)("button",{class:"btn btn-primary",style:{width:"170px","margin-left":"5px"},onClick:(0,t.iM)(y,["prevent"])},"Crop & Update ",8,ur)])]),(0,s._)("div",cr,[(0,s._)("div",dr,[pr,g.value>=300&&m.value>=300?((0,s.wg)(),(0,s.iD)("div",vr)):(0,s.kq)("",!0)])])])])]),(0,s._)("div",mr,[(0,s._)("table",gr,[_r,(0,s._)("tbody",br,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.person.pic_person,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id},[(0,s._)("td",null,[(0,s._)("a",{class:"table-image-link",href:e.image,target:"_blank"},(0,o.zw)((0,n.SU)(Fs)(e.image)),9,hr)]),(0,s._)("td",fr,(0,o.zw)((0,n.SU)(Vs)(e.size)),1),(0,s._)("td",null,[(0,s._)("abbr",wr,[(0,s._)("i",{onClick:a=>S(e),class:"bi bi-trash text-danger float-end"},null,8,yr)]),(0,s._)("abbr",kr,[(0,s._)("i",{onClick:a=>k(e),class:"bi bi-arrow-up-square text-primary float-end me-4"},null,8,Sr)])])])))),128))])])])],64))}};const Dr=(0,P.Z)(Cr,[["__scopeId","data-v-f17cc700"]]);var xr=Dr;const Ur={class:"mt-4"},Hr=(0,s._)("h5",{class:"inline-h mb-4"},"Curriculum PDF",-1),zr={class:"container-upload"},Yr=["onSubmit"],Lr=(0,s._)("button",{class:"btn btn-primary btn-sm mt-3",type:"submit"},[(0,s.Uk)("Submit "),(0,s._)("i",{class:"bi bi-upload ms-3"})],-1),$r={class:"mt-4 container-upload"},Pr={class:"table table-striped table-hover table-sm"},Nr=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{style:{width:"72%"}},"File"),(0,s._)("th",{class:"pe-5",style:{width:"20%","text-align":"right"}},"Size"),(0,s._)("th",{style:{width:"8%","text-align":"right"}},"Actions")])],-1),Or={style:{"font-size":"13px"}},Mr=["href"],Fr={class:"pe-5",style:{"text-align":"right"}},Vr={style:{cursor:"pointer"},title:"Delete"},Zr=["onClick"],Tr={style:{cursor:"pointer"},title:"Set as CV"},Wr=["onClick"];var Er={__name:"CVPerson",props:["person","callback"],setup(e){const a=e,l=u(),r=(0,n.iH)([]),c=(0,n.iH)(null),d=async()=>{if(c.value.files.length>0){const e=c.value.files[0].name;if("pdf"!=e.split(".").pop().toLowerCase())(0,Ye.Yz)(`${e} is not a pdf`,l.toastDanger);else{const e=new FormData;e.append("reffield",a.person.id),e.append("file",c.value.files[0]),0==a.person.pef_personCV.length&&e.append("isPDF",!0),await i.ZP.post("/api/v1/perople-files/",e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{console.log(e),a.callback(),(0,Ye.Yz)(`${Fs(e.data.file)} uploaded`,l.toastSuccess)})).catch((e=>{if(e.response){for(const a in e.response.data)r.value.push(`${a}: ${e.response.data[a]}`),(0,Ye.Yz)(`${a}: ${e.response.data[a]}`,l.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),c.value.value=""}}},p=async e=>{const t=new FormData;t.append("isPDF",!1);for(let n=0;n<a.person.pef_personCV.length;n++){const e=a.person.pef_personCV[n].id;await i.ZP.patch(`/api/v1/people-files/${e}/`,t,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{})).catch((e=>{if(e.response){for(const a in e.response.data)r.value.push(`${a}: ${e.response.data[a]}`),(0,Ye.Yz)(`${a}: ${e.response.data[a]}`,l.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))}))}const s=new FormData;s.append("isPDF",!0),await i.ZP.patch(`/api/v1/people-files/${e.id}/`,s,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{(0,Ye.Yz)("PDF changed successfully",l.toastSuccess)})).catch((e=>{if(e.response){for(const a in e.response.data)r.value.push(`${a}: ${e.response.data[a]}`),(0,Ye.Yz)(`${a}: ${e.response.data[a]}`,l.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),a.callback()},v=async e=>{await i.ZP["delete"](`/api/v1/people-files/${e.id}`).then((t=>{console.log(t),a.callback(),(0,Ye.Yz)(`${Fs(e.file)} deleted successfully`,l.toastSuccess)}))};return(a,l)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Ur,[Hr,(0,s._)("div",zr,[(0,s._)("form",{onSubmit:(0,t.iM)(d,["prevent"])},[(0,s._)("input",{class:"form-control",type:"file",ref_key:"inputFiles",ref:c},null,512),Lr],40,Yr)])]),(0,s._)("div",$r,[(0,s._)("table",Pr,[Nr,(0,s._)("tbody",Or,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.person.pdf_personCV,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id},[(0,s._)("td",null,[(0,s._)("a",{class:"table-image-link",href:e.file,target:"_blank"},(0,o.zw)((0,n.SU)(Fs)(e.file)),9,Mr)]),(0,s._)("td",Fr,(0,o.zw)((0,n.SU)(Vs)(e.size)),1),(0,s._)("td",null,[(0,s._)("abbr",Vr,[(0,s._)("i",{onClick:a=>v(e),class:"bi bi-trash text-danger float-end"},null,8,Zr)]),(0,s._)("abbr",Tr,[(0,s._)("i",{onClick:a=>p(e),class:"bi bi-arrow-up-square text-primary float-end me-4"},null,8,Wr)])])])))),128))])])])],64))}};const Ir=Er;var Jr=Ir;const Ar=(0,s._)("h4",{class:"inline-h mb-4"},"Edit Person",-1),Rr={class:"container-upload"},jr=["onSubmit"],qr={class:"row"},Br={class:"col-md-4"},Kr={class:"form-group mb-3"},Gr=(0,s._)("label",{class:"mb-1"},"Name*",-1),Xr={class:"col-md-4"},Qr={class:"form-group mb-3"},eu=(0,s._)("label",{class:"mb-1"},"Email*",-1),au={class:"col-md-3"},lu={class:"form-group mb-3"},tu=(0,s._)("label",{class:"mb-1"},"Role*",-1),su={class:"col-md-1"},nu={class:"form-group mb-3"},ou=(0,s._)("label",{class:"mb-1"},"Position*",-1),iu={class:"row"},ru={class:"col-md-4"},uu={class:"form-group mb-3"},cu=(0,s._)("label",{class:"mb-1"},"Scholar",-1),du={class:"col-md-4"},pu={class:"form-group mb-3"},vu=(0,s._)("label",{class:"mb-1"},"Linkedin",-1),mu={class:"col-md-4"},gu={class:"form-group mb-3"},_u=(0,s._)("label",{class:"mb-1"},"Github",-1),bu={class:"form-group"},hu=(0,s._)("label",{class:"mb-1"},"Content",-1),fu={class:"form-group mb-3"},wu=(0,s._)("label",{class:"me-3"},"Show in people page",-1),yu={class:"form-check form-check-inline"},ku=(0,s._)("label",{class:"form-check-label"},"Yes",-1),Su={class:"form-check form-check-inline"},Cu=(0,s._)("label",{class:"form-check-label"},"No",-1),Du={class:"mt-4",align:"right"},xu=(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-primary ms-1"},"Edit Person ",-1),Uu=(0,s._)("hr",{style:{"margin-top":"40px"}},null,-1),Hu=(0,s._)("hr",{style:{"margin-top":"40px"}},null,-1),zu=(0,s._)("hr",{style:{"margin-top":"40px"}},null,-1),Yu=(0,s._)("hr",{style:{"margin-top":"40px"}},null,-1);var Lu={__name:"EditPerson",setup(e){const a=u(),l=c(),o=(0,p.tv)(),r=(0,p.yj)(),d=(0,n.iH)([]),v=(0,n.iH)([]),m=(0,n.iH)("No"),g=(0,n.iH)([]),_=async()=>{a.isLoading=!0,g.value=[];const e=r.params.slug;await i.ZP.get(`/api/v1/people/${e}`).then((e=>{d.value=e.data})).catch((e=>{console.log(e)})),null==d.value.content&&(d.value.content=""),"#"==d.value.role&&(d.value.role=""),"#"==d.value.email&&(d.value.email=""),0==v.value.length&&(v.value=d.value),v.value.images_person!=d.value.images_person&&(v.value.images_person=d.value.images_person),v.value.cover_person!=d.value.cover_person&&(v.value.cover_person=d.value.cover_person),0==v.value.show_in_page&&(m.value="No"),1==v.value.show_in_page&&(m.value="Yes"),a.isLoading=!1};(0,s.bv)((()=>{_()}));const b=async()=>{a.isLoading=!0;const e=r.params.slug;v.value.author=v.value.author[0].id,v.value.author_update=l.user.id,"Yes"==m.value&&(v.value.show_in_page=!0),"No"==m.value&&(v.value.show_in_page=!1),g.value=[],await i.ZP.patch(`/api/v1/people/${e}/`,v.value).then((e=>{o.push("/settings/people"),(0,Ye.Yz)("person field edited successfully",a.toastSuccess)})).catch((e=>{if(e.response){for(const l in e.response.data)g.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),a.isLoading=!1};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[Ar,(0,s._)("div",Rr,[(0,s._)("form",{onSubmit:(0,t.iM)(b,["prevent"])},[(0,s._)("div",qr,[(0,s._)("div",Br,[(0,s._)("div",Kr,[Gr,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":a[0]||(a[0]=e=>v.value.name=e)},null,512),[[t.nr,v.value.name]])])]),(0,s._)("div",Xr,[(0,s._)("div",Qr,[eu,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"email","onUpdate:modelValue":a[1]||(a[1]=e=>v.value.email=e)},null,512),[[t.nr,v.value.email]])])]),(0,s._)("div",au,[(0,s._)("div",lu,[tu,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"role","onUpdate:modelValue":a[2]||(a[2]=e=>v.value.role=e)},null,512),[[t.nr,v.value.role]])])]),(0,s._)("div",su,[(0,s._)("div",nu,[ou,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"role","onUpdate:modelValue":a[3]||(a[3]=e=>v.value.position=e)},null,512),[[t.nr,v.value.position]])])])]),(0,s._)("div",iu,[(0,s._)("div",ru,[(0,s._)("div",uu,[cu,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"scholar","onUpdate:modelValue":a[4]||(a[4]=e=>v.value.link_scholar=e)},null,512),[[t.nr,v.value.link_scholar]])])]),(0,s._)("div",du,[(0,s._)("div",pu,[vu,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"linkedin","onUpdate:modelValue":a[5]||(a[5]=e=>v.value.linkedin=e)},null,512),[[t.nr,v.value.linkedin]])])]),(0,s._)("div",mu,[(0,s._)("div",gu,[_u,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"role","onUpdate:modelValue":a[6]||(a[6]=e=>v.value.github=e)},null,512),[[t.nr,v.value.github]])])])]),(0,s._)("div",bu,[hu,(0,s.Wm)((0,n.SU)(Ms.Z),{modelValue:v.value.content,"onUpdate:modelValue":a[7]||(a[7]=e=>v.value.content=e),ref:"markdownEditor"},null,8,["modelValue"])]),(0,s._)("div",fu,[wu,(0,s._)("div",yu,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"radio",value:"Yes","onUpdate:modelValue":a[8]||(a[8]=e=>m.value=e)},null,512),[[t.G2,m.value]]),ku]),(0,s._)("div",Su,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"radio",value:"No","onUpdate:modelValue":a[9]||(a[9]=e=>m.value=e)},null,512),[[t.G2,m.value]]),Cu])]),(0,s._)("div",Du,[(0,s.Wm)(l,{type:"button",class:"btn btn-sm btn-outline-secondary ms-1",to:"/settings/people"},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel ")])),_:1}),xu])],40,jr)]),Uu,(0,s.Wm)(ln,{model:d.value,callback:_,endpoint:"person-images",base_ref:"images_person"},null,8,["model"]),Hu,(0,s.Wm)(xr,{person:d.value,callback:_},null,8,["person"]),zu,(0,s.Wm)($n,{model:d.value,callback:_,endpoint:"person-cover","base-ref":"cover_person",width:1200,height:300,"aspect-ratio":4},null,8,["model"]),Yu,(0,s.Wm)(Jr,{person:d.value,callback:_},null,8,["person"])],64)}}};const $u=Lu;var Pu=$u,Nu=l(9810);const Ou=e=>((0,s.dD)("data-v-01201390"),e=e(),(0,s.Cn)(),e),Mu={class:"publication-container"},Fu={class:"monitor-view"},Vu={class:"row justify-content-between"},Zu=Ou((()=>(0,s._)("div",{class:"col col-md-4"},[(0,s._)("h4",{class:"head-title"},"Publications")],-1))),Tu={class:"col col-md-5"},Wu={class:"multiselect-container"},Eu={class:"multiselect-multiple-label"},Iu={class:"mobile-view"},Ju=Ou((()=>(0,s._)("div",null,[(0,s._)("h4",{class:"head-title"},"Publications")],-1))),Au={class:"multiselect-container"},Ru={class:"multiselect-multiple-label"},ju=Ou((()=>(0,s._)("p",{class:"equal-authors"},[(0,s.Uk)("* "),(0,s._)("em",null,"Contributed equally to this work")],-1))),qu={class:"pub-year"},Bu={class:"pub-title text-primary"},Ku={class:"monitor-view"},Gu=["href"],Xu=Ou((()=>(0,s._)("i",{class:"bi bi-file-pdf text-danger me-1"},null,-1))),Qu=Ou((()=>(0,s._)("strong",{class:"text-dark"},"PDF",-1))),ec=[Xu,Qu],ac={class:"ms-1 me-1"},lc={class:"ms-1 me-1"},tc={class:"ms-1 me-1"},sc=["href"],nc=Ou((()=>(0,s._)("i",{class:"bi bi-link-45deg text-danger me-1"},null,-1))),oc=Ou((()=>(0,s._)("strong",{class:"text-dark"},"Link",-1))),ic=[nc,oc],rc={class:"ms-1 me-1"},uc={class:"ms-1 me-1"},cc=["onClick"],dc=Ou((()=>(0,s._)("i",{class:"bi bi-file-code text-danger me-1"},null,-1))),pc=Ou((()=>(0,s._)("strong",{class:"text-dark"},"BibTeX",-1))),vc=[dc,pc],mc={class:"ms-1 me-1"},gc=["onClick"],_c=Ou((()=>(0,s._)("i",{class:"bi bi-envelope text-danger me-1"},null,-1))),bc={class:"text-dark"},hc={class:"mobile-view"},fc=["href"],wc=Ou((()=>(0,s._)("i",{class:"bi bi-file-pdf text-danger me-1"},null,-1))),yc=Ou((()=>(0,s._)("strong",{class:"text-dark"},"PDF",-1))),kc=[wc,yc],Sc={class:"ms-1 me-1"},Cc={class:"ms-1 me-1"},Dc=["href"],xc=Ou((()=>(0,s._)("i",{class:"bi bi-link-45deg text-danger me-1"},null,-1))),Uc=Ou((()=>(0,s._)("strong",{class:"text-dark"},"Link",-1))),Hc=[xc,Uc],zc={class:"ms-1 me-1"},Yc=["onClick"],Lc=Ou((()=>(0,s._)("i",{class:"bi bi-file-code text-danger me-1"},null,-1))),$c=Ou((()=>(0,s._)("strong",{class:"text-dark"},"BibTeX",-1))),Pc=[Lc,$c],Nc=["onClick"],Oc=Ou((()=>(0,s._)("i",{class:"bi bi-envelope text-danger me-1"},null,-1))),Mc={class:"text-dark"},Fc={class:"field-title"},Vc={class:"pub-year"},Zc={class:"pub-title text-primary"},Tc=["href"],Wc=Ou((()=>(0,s._)("i",{class:"bi bi-file-pdf text-danger me-1"},null,-1))),Ec=Ou((()=>(0,s._)("strong",{class:"text-dark"},"PDF",-1))),Ic=[Wc,Ec],Jc={class:"ms-1 me-1"},Ac={class:"ms-1 me-1"},Rc={class:"ms-1 me-1"},jc=["href"],qc=Ou((()=>(0,s._)("i",{class:"bi bi-link-45deg text-danger me-1"},null,-1))),Bc=Ou((()=>(0,s._)("strong",{class:"text-dark"},"Link",-1))),Kc=[qc,Bc],Gc={class:"ms-1 me-1"},Xc={class:"ms-1 me-1"},Qc=["onClick"],ed=Ou((()=>(0,s._)("i",{class:"bi bi-file-code text-danger me-1"},null,-1))),ad=Ou((()=>(0,s._)("strong",{class:"text-dark"},"BibTeX",-1))),ld=[ed,ad],td={class:"ms-1 me-1"},sd=["onClick"],nd=Ou((()=>(0,s._)("i",{class:"bi bi-envelope text-danger me-1"},null,-1))),od={class:"text-dark"},id=Ou((()=>(0,s._)("div",{class:"equal-authors pb-4"},[(0,s.Uk)("* "),(0,s._)("em",null,"Contributed equally to this work")],-1)));var rd={__name:"Publications",setup(e){const a=u(),l=(0,n.iH)(!1),r=(0,n.iH)([]),c=(0,n.iH)([]),d=(0,n.iH)([]),p=(0,n.iH)([]),v=(0,n.iH)({mode:"multiple",hideSelected:!1,closeOnSelect:!1,value:[],options:{}}),m=async()=>{a.isLoading=!0,l.value=!0,await i.ZP.get("/api/v1/publications/").then((e=>{l.value=!1,r.value=e.data})).catch((e=>{console.log(e)}));for(let a=0;a<r.value.length;a++){r.value[a].pdf_publication.length>0?r.value[a].pdf=r.value[a].pdf_publication.filter((e=>1==e.isPDF))[0].file:r.value[a].pdf="";let e="10 "+r.value[a].year,l=new Date(e);r.value[a].fullYear=l.getFullYear()}let e=r.value.reduce(((e,a)=>{let l=e.findIndex((e=>e.year===a.fullYear));return l<0?e.push({year:a.fullYear,pub:[a]}):e[l].pub.push(a),e}),[]).sort(((e,a)=>a.year-e.year));for(let a=0;a<e.length;a++)e[a].pub=e[a].pub.sort(((e,a)=>new Date("10 "+a.year).getTime()-new Date("10 "+e.year).getTime()));d.value=e;let t=r.value.reduce(((e,a)=>{for(let l=0;l<a.field.length;l++){let t=e.findIndex((e=>e.field===a.field[l].title));t<0?e.push({field:a.field[l].title,pubs:[a]}):e[t].pubs.push(a)}return e}),[]).sort(((e,a)=>e.field.localeCompare(a.field)));for(let a=0;a<t.length;a++){let e=t[a].pubs.reduce(((e,a)=>{let l=e.findIndex((e=>e.year===a.fullYear));return l<0?e.push({year:a.fullYear,pub:[a]}):e[l].pub.push(a),e}),[]).sort(((e,a)=>a.year-e.year));t[a].pubs=e}for(let a=0;a<t.length;a++)for(let e=0;e<t[a].pubs.length;e++)t[a].pubs[e].pub=t[a].pubs[e].pub.sort(((e,a)=>new Date("10 "+a.year).getTime()-new Date("10 "+e.year).getTime()));c.value=t,a.isLoading=!1},g=async()=>{a.isLoading=!0,await i.ZP.get("/api/v1/research/").then((e=>{p.value=e.data})).catch((e=>{console.log(e)}));let e=p.value.map((e=>e.title)).sort(((e,a)=>e.localeCompare(a))),l=p.value.map((e=>e.title)).sort(((e,a)=>e.localeCompare(a)));for(var t=0;t<l.length;t++)v.value.options[l[t]]=e[t];a.isLoading=!1};(0,s.bv)((()=>{m(),g()}));const _=e=>{var l=document.createElement("textarea");l.value=e,l.setAttribute("readonly",""),l.style={position:"absolute",left:"-9999px"},document.body.appendChild(l),l.select(),document.execCommand("copy"),document.body.removeChild(l),(0,Ye.Yz)("BibTeX copied successfully",a.toastSuccess)},b=e=>{var l=document.createElement("textarea");l.value=e,l.setAttribute("readonly",""),l.style={position:"absolute",left:"-9999px"},document.body.appendChild(l),l.select(),document.execCommand("copy"),document.body.removeChild(l),(0,Ye.Yz)("Corresponding email copied successfully",a.toastSuccess)};return(e,a)=>((0,s.wg)(),(0,s.iD)("div",Mu,[(0,s._)("div",Fu,[(0,s._)("div",Vu,[Zu,(0,s._)("div",Tu,[(0,s._)("div",Wu,[(0,s.Wm)((0,n.SU)(Nu.Z),(0,s.dG)({modelValue:v.value.value,"onUpdate:modelValue":a[0]||(a[0]=e=>v.value.value=e)},v.value,{placeholder:"Show publications by research field",class:"multiselect-blue"}),{multiplelabel:(0,s.w5)((({values:e})=>[(0,s._)("div",Eu,[1==e.length?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,o.zw)(e[0].label),1)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,o.zw)(e.length)+" research fields selected ",1)],64))])])),_:1},16,["modelValue"])])])])]),(0,s._)("div",Iu,[Ju,(0,s._)("div",null,[(0,s._)("div",Au,[(0,s.Wm)((0,n.SU)(Nu.Z),(0,s.dG)({modelValue:v.value.value,"onUpdate:modelValue":a[1]||(a[1]=e=>v.value.value=e)},v.value,{placeholder:"Show publications by research field",class:"multiselect-blue"}),{multiplelabel:(0,s.w5)((({values:e})=>[(0,s._)("div",Ru,[1==e.length?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,o.zw)(e[0].label),1)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,o.zw)(e.length)+" research fields selected ",1)],64))])])),_:1},16,["modelValue"])])])]),ju,0==v.value.value.length?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(d.value,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id,class:"mt-4"},[(0,s._)("div",qu,(0,o.zw)(e.year),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.pub,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"pub-block",key:e.id},[(0,s._)("div",null,[(0,s._)("em",null,(0,o.zw)(e.authors),1)]),(0,s._)("div",Bu,(0,o.zw)(e.title),1),(0,s._)("div",null,[(0,s._)("em",null,(0,o.zw)(e.magazine),1),(0,s.Uk)("  "+(0,o.zw)(e.year)+" ",1),e.doi?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)(" "+(0,o.zw)(e.doi),1)],64)):(0,s.kq)("",!0)]),(0,s._)("div",Ku,[(0,s.wy)((0,s._)("span",null,[(0,s._)("a",{href:e.pdf,target:"_blank"},ec,8,Gu)],512),[[t.F8,e.pdf]]),(0,s.wy)((0,s._)("span",ac,"",512),[[t.F8,e.pdf&&e.link]]),(0,s.wy)((0,s._)("span",lc,"",512),[[t.F8,e.pdf&&e.bibtex&&!e.link]]),(0,s.wy)((0,s._)("span",tc,"",512),[[t.F8,e.pdf&&e.corresponding&&!e.link&&!e.bibtex]]),(0,s.wy)((0,s._)("span",null,[(0,s._)("a",{href:e.link,target:"_blank"},ic,8,sc)],512),[[t.F8,e.link]]),(0,s.wy)((0,s._)("span",rc,"",512),[[t.F8,e.link&&e.bibtex]]),(0,s.wy)((0,s._)("span",uc,"",512),[[t.F8,e.link&&e.corresponding&&!e.bibtex]]),(0,s.wy)((0,s._)("span",null,[(0,s._)("abbr",{title:"Copy BibTeX",onClick:a=>_(e.bibtex)},vc,8,cc)],512),[[t.F8,e.bibtex]]),(0,s.wy)((0,s._)("span",mc,"",512),[[t.F8,e.bibtex&&e.corresponding]]),(0,s.wy)((0,s._)("span",null,[(0,s._)("abbr",{title:"Copy Corresponding Author Email",onClick:a=>b(e.corresponding)},[_c,(0,s._)("strong",bc,(0,o.zw)(e.corresponding),1)],8,gc)],512),[[t.F8,e.corresponding]])]),(0,s._)("div",hc,[(0,s._)("div",null,[(0,s.wy)((0,s._)("span",null,[(0,s._)("a",{href:e.pdf,target:"_blank"},kc,8,fc)],512),[[t.F8,e.pdf]]),(0,s.wy)((0,s._)("span",Sc,"",512),[[t.F8,e.pdf&&e.link]]),(0,s.wy)((0,s._)("span",Cc,"",512),[[t.F8,e.pdf&&e.bibtex&&!e.link]]),(0,s.wy)((0,s._)("span",null,[(0,s._)("a",{href:e.link,target:"_blank"},Hc,8,Dc)],512),[[t.F8,e.link]]),(0,s.wy)((0,s._)("span",zc,"",512),[[t.F8,e.link&&e.bibtex]]),(0,s.wy)((0,s._)("span",null,[(0,s._)("abbr",{title:"Copy BibTeX",onClick:a=>_(e.bibtex)},Pc,8,Yc)],512),[[t.F8,e.bibtex]])]),(0,s._)("div",null,[(0,s.wy)((0,s._)("span",null,[(0,s._)("abbr",{title:"Copy Corresponding Author Email",onClick:a=>b(e.corresponding)},[Oc,(0,s._)("strong",Mc,(0,o.zw)(e.corresponding),1)],8,Nc)],512),[[t.F8,e.corresponding]])])])])))),128))])))),128)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[c.value.length?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(c.value,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.slug},[v.value.value.includes(e.field)?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",Fc,(0,o.zw)(e.field),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.pubs,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id},[(0,s._)("div",Vc,(0,o.zw)(e.year),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.pub,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"pub-block",key:e.id},[(0,s._)("div",null,[(0,s._)("em",null,(0,o.zw)(e.authors),1)]),(0,s._)("div",Zc,(0,o.zw)(e.title),1),(0,s._)("div",null,[(0,s._)("em",null,(0,o.zw)(e.magazine),1),(0,s.Uk)("  "+(0,o.zw)(e.year)+"  "+(0,o.zw)(e.doi),1)]),(0,s.wy)((0,s._)("span",null,[(0,s._)("a",{href:e.pdf,target:"_blank"},Ic,8,Tc)],512),[[t.F8,e.pdf]]),(0,s.wy)((0,s._)("span",Jc,"",512),[[t.F8,e.pdf&&e.link]]),(0,s.wy)((0,s._)("span",Ac,"",512),[[t.F8,e.pdf&&e.bibtex]]),(0,s.wy)((0,s._)("span",Rc,"",512),[[t.F8,e.pdf&&e.corresponding]]),(0,s.wy)((0,s._)("span",null,[(0,s._)("a",{href:e.link,target:"_blank"},Kc,8,jc)],512),[[t.F8,e.link]]),(0,s.wy)((0,s._)("span",Gc,"",512),[[t.F8,e.link&&e.bibtex]]),(0,s.wy)((0,s._)("span",Xc,"",512),[[t.F8,e.link&&e.corresponding]]),(0,s.wy)((0,s._)("span",null,[(0,s._)("abbr",{title:"Copy BibTeX",onClick:a=>_(e.bibtex)},ld,8,Qc)],512),[[t.F8,e.bibtex]]),(0,s.wy)((0,s._)("span",td,"",512),[[t.F8,e.bibtex&&e.corresponding]]),(0,s.wy)((0,s._)("span",null,[(0,s._)("abbr",{title:"Copy Corresponding Author Email",onClick:a=>b(e.corresponding)},[nd,(0,s._)("strong",od,(0,o.zw)(e.corresponding),1)],8,sd)],512),[[t.F8,e.corresponding]])])))),128))])))),128))],64)):(0,s.kq)("",!0)])))),128)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)(" No publication associated to this research field ")],64))],64)),id]))}};const ud=(0,P.Z)(rd,[["__scopeId","data-v-01201390"]]);var cd=ud;const dd={class:"mb-4"},pd={class:"row justify-content-between"},vd={class:"col-4"},md=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="15">15</option><option value="20">20</option><option value="25">25</option>',5),gd=[md],_d=(0,s._)("span",{class:"ms-2"},"publications fields per page",-1),bd={class:"col-4"},hd={class:"table table-bordered"},fd={style:{width:"39%"}},wd={style:{width:"15%"}},yd={style:{width:"13%"}},kd={style:{width:"15%"}},Sd={style:{width:"13%"}},Cd=(0,s._)("th",{style:{width:"5%","text-align":"right"}},"Actions",-1),Dd={style:{cursor:"pointer"},title:"Delete"},xd=["onClick"],Ud={style:{cursor:"pointer"},title:"Edit"},Hd=["onClick"],zd={class:"row py-3"},Yd={class:"col-7"},Ld={class:"col-5"};var $d={__name:"TPublications",props:{publications:Object},emits:["publicationIdEdit","publicationIdDelete"],setup(e){const a=e,i=l(5743);let r=a.publications.map((e=>e));const u=(0,n.iH)("asc"),c=(0,n.iH)("title"),d=(0,n.iH)(1),p=(0,n.iH)(15),v=(0,n.iH)(15),m=(0,n.iH)(""),g=e=>{e===c.value&&(u.value="asc"===u.value?"desc":"asc"),c.value=e},_=e=>{d.value=e},b=()=>{p.value=v.value,d.value=1},h=(e,a)=>(""!==a.value&&(e=e.filter((e=>e.title.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.authors.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.magazine.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.author_update[0].username.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.author[0].username.toLowerCase().indexOf(a.value.toLowerCase())>=0))),e),f=(0,s.Fl)((()=>{let e=r;return e=h(e,m),e.sort(((e,a)=>{let l=1;return"desc"===u.value&&(l=-1),e[c.value]<a[c.value]?-1*l:e[c.value]>a[c.value]?1*l:0})).filter(((e,a)=>{let l=(d.value-1)*p.value,t=d.value*p.value;if(a>=l&&a<t)return!0}))})),w=(0,s.Fl)((()=>{let e=r;return e=h(e,m),Math.ceil(e.length/p.value)})),y=(0,s.Fl)((()=>{let e=r;return e=h(e,m),e.length}));(0,s.YP)((()=>m.value),(()=>{d.value=1}));const k=e=>{if(e)return i(String(e)).format("DD/MM/YY")};return(e,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",dd,[(0,s._)("div",pd,[(0,s._)("div",vd,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>v.value=e),onChange:b,class:"table-select px-1"},gd,544),[[t.bM,v.value]]),(0,s.Uk)(),_d]),(0,s._)("div",bd,[(0,s.wy)((0,s._)("input",{class:"float-end px-1",type:"search","onUpdate:modelValue":a[1]||(a[1]=e=>m.value=e),placeholder:"Search..."},null,512),[[t.nr,m.value]])])])]),(0,s._)("table",hd,[(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",fd,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[2]||(a[2]=e=>g("title"))}),(0,s.Uk)("Title")]),(0,s._)("th",wd,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[3]||(a[3]=e=>g("author.username"))}),(0,s.Uk)("Created by")]),(0,s._)("th",yd,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[4]||(a[4]=e=>g("created_at"))}),(0,s.Uk)("Created at")]),(0,s._)("th",kd,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[5]||(a[5]=e=>g("author_update.username"))}),(0,s.Uk)("Updated by")]),(0,s._)("th",Sd,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[6]||(a[6]=e=>g("updated_at"))}),(0,s.Uk)("Updated at")]),Cd])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,n.SU)(f),(a=>((0,s.wg)(),(0,s.iD)("tr",{key:a.id},[(0,s._)("td",null,(0,o.zw)(a.title),1),(0,s._)("td",null,(0,o.zw)(a.author[0].username),1),(0,s._)("td",null,(0,o.zw)(k(a.created_at)),1),(0,s._)("td",null,(0,o.zw)(a.author_update[0].username),1),(0,s._)("td",null,(0,o.zw)(k(a.updated_at)),1),(0,s._)("td",null,[(0,s._)("abbr",Dd,[(0,s._)("i",{onClick:l=>e.$emit("publicationIdDelete",a),class:"bi bi-trash text-danger float-end"},null,8,xd)]),(0,s._)("abbr",Ud,[(0,s._)("i",{onClick:l=>e.$emit("publicationIdEdit",a.id),class:"bi bi-pencil-square text-warning me-3 float-end"},null,8,Hd)])])])))),128))])]),(0,s._)("div",zd,[(0,s._)("div",Yd,[1!=(0,n.SU)(y)?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,o.zw)((0,n.SU)(y))+" publications found ",1)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,o.zw)((0,n.SU)(y))+" publication found ",1)],64))]),(0,s._)("div",Ld,[(0,s.Wm)((0,n.SU)(Nt.Z),{modelValue:d.value,"onUpdate:modelValue":[a[7]||(a[7]=e=>d.value=e),_],pages:(0,n.SU)(w),"range-size":1,"active-color":"#B1C3D7",class:"float-end"},null,8,["modelValue","pages"])])])],64))}};const Pd=$d;var Nd=Pd;const Od={class:"mb-5"},Md=(0,s._)("h4",{class:"inline-h"},"Publications",-1),Fd={key:0,class:"d-flex justify-content-center"},Vd=(0,s._)("div",{class:"spinner-border",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")],-1),Zd=[Vd];var Td={__name:"PublicationsSettings",setup(e){const a=u(),l=(0,p.tv)(),t=(0,n.iH)(!1),o=(0,n.iH)([]),r=(0,n.iH)([]),c=(0,n.iH)(!1),d=async()=>{a.isLoading=!0,t.value=!0,await i.ZP.get("/api/v1/publications/").then((e=>{t.value=!1,o.value=e.data})).catch((e=>{console.log(e)})),a.isLoading=!1};(0,s.bv)((()=>{d()}));const v=e=>{r.value=e,c.value=!0},m=e=>{l.push(`/settings/publications/edit/${e}`)};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Od,[Md,(0,s.Wm)(l,{class:"btn btn-sm btn-outline-primary px-4",style:{"text-align":"right",float:"right"},to:"/settings/publications/add"},{default:(0,s.w5)((()=>[(0,s.Uk)("Add publication ")])),_:1})]),t.value?((0,s.wg)(),(0,s.iD)("div",Fd,Zd)):((0,s.wg)(),(0,s.j4)(Nd,{key:1,publications:o.value,onPublicationIdEdit:m,onPublicationIdDelete:v},null,8,["publications"])),(0,s.Wm)(bs,{model:"publication",title:r.value.title,warning:"Warning! A deleted publication item cannot be recovered",identifier:r.value.id,callback:d,openDeleteModal:c.value,endpoint:"publications",onCloseModal:a[0]||(a[0]=e=>c.value=!1)},null,8,["title","identifier","openDeleteModal"])],64)}}};const Wd=Td;var Ed=Wd;const Id=(0,s._)("h4",{class:"inline-h mb-4"},"Add Publication",-1),Jd=["onSubmit"],Ad={class:"row g-3"},Rd={class:"col-md-12"},jd=(0,s._)("label",null,"Title*",-1),qd={class:"float-md-end mt-4 mb-4"},Bd=(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-primary ms-1"},"Add ",-1);var Kd={__name:"AddPublication",setup(e){const a=u(),l=c(),o=(0,p.tv)(),r=(0,n.iH)(""),d=(0,n.iH)([]),v=async()=>{a.isLoading=!0,d.value=[];const e={title:r.value,authors:"#",magazine:"#",doi:"#",year:"#",author:l.user.id,author_update:l.user.id};d.value.length||await i.ZP.post("/api/v1/publications/",e).then((e=>{o.push(`/settings/publications/edit/${e.data.id}`),(0,Ye.Yz)("Publication added successfully",a.toastSuccess)})).catch((e=>{if(e.response){for(const l in e.response.data)d.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),a.isLoading=!1};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[Id,(0,s._)("form",{onSubmit:(0,t.iM)(v,["prevent"])},[(0,s._)("div",Ad,[(0,s._)("div",Rd,[jd,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e)},null,512),[[t.nr,r.value]])])]),(0,s._)("div",qd,[(0,s.Wm)(l,{type:"button",class:"btn btn-sm btn-outline-secondary ms-1",to:"/settings/publications"},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1}),Bd])],40,Jd)])}}};const Gd=Kd;var Xd=Gd;const Qd={class:"mt-4"},ep=(0,s._)("h5",{class:"inline-h mb-4"},"Publication PDF",-1),ap={class:"container-upload"},lp=["onSubmit"],tp=(0,s._)("button",{class:"btn btn-primary btn-sm mt-3",type:"submit"},[(0,s.Uk)("Submit "),(0,s._)("i",{class:"bi bi-upload ms-3"})],-1),sp={class:"mt-4 container-upload"},np={class:"table table-striped table-hover table-sm"},op=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{style:{width:"72%"}},"File"),(0,s._)("th",{class:"pe-5",style:{width:"20%","text-align":"right"}},"Size"),(0,s._)("th",{style:{width:"8%","text-align":"right"}},"Actions")])],-1),ip={style:{"font-size":"13px"}},rp=["href"],up={class:"pe-5",style:{"text-align":"right"}},cp={style:{cursor:"pointer"},title:"Delete"},dp=["onClick"],pp={style:{cursor:"pointer"},title:"Set as PDF"},vp=["onClick"];var mp={__name:"PublicationPdf",props:["publication","callback"],setup(e){const a=e,l=u(),r=(0,n.iH)([]),c=(0,n.iH)(null),d=async()=>{if(c.value.files.length>0){const e=c.value.files[0].name;if("pdf"!=e.split(".").pop().toLowerCase())(0,Ye.Yz)(`${e} is not a pdf`,l.toastDanger);else{const e=new FormData;e.append("reffield",a.publication.id),e.append("file",c.value.files[0]),0==a.publication.pdf_publication.length&&e.append("isPDF",!0),await i.ZP.post("/api/v1/publication-files/",e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{console.log(e),a.callback(),(0,Ye.Yz)(`${Fs(e.data.file)} uploaded`,l.toastSuccess)})).catch((e=>{if(e.response){for(const a in e.response.data)r.value.push(`${a}: ${e.response.data[a]}`),(0,Ye.Yz)(`${a}: ${e.response.data[a]}`,l.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),c.value.value=""}}},p=async e=>{const t=new FormData;t.append("isPDF",!1);for(let n=0;n<a.publication.pdf_publication.length;n++){const e=a.publication.pdf_publication[n].id;await i.ZP.patch(`/api/v1/publication-files/${e}/`,t,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{})).catch((e=>{if(e.response){for(const a in e.response.data)r.value.push(`${a}: ${e.response.data[a]}`),(0,Ye.Yz)(`${a}: ${e.response.data[a]}`,l.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))}))}const s=new FormData;s.append("isPDF",!0),await i.ZP.patch(`/api/v1/publication-files/${e.id}/`,s,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{(0,Ye.Yz)("PDF changed successfully",l.toastSuccess)})).catch((e=>{if(e.response){for(const a in e.response.data)r.value.push(`${a}: ${e.response.data[a]}`),(0,Ye.Yz)(`${a}: ${e.response.data[a]}`,l.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),a.callback()},v=async e=>{await i.ZP["delete"](`/api/v1/publication-files/${e.id}`).then((t=>{console.log(t),a.callback(),(0,Ye.Yz)(`${Fs(e.file)} deleted successfully`,l.toastSuccess)}))};return(e,l)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Qd,[ep,(0,s._)("div",ap,[(0,s._)("form",{onSubmit:(0,t.iM)(d,["prevent"])},[(0,s._)("input",{class:"form-control",type:"file",ref_key:"inputFiles",ref:c},null,512),tp],40,lp)])]),(0,s._)("div",sp,[(0,s._)("table",np,[op,(0,s._)("tbody",ip,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.publication.pdf_publication,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id},[(0,s._)("td",null,[(0,s._)("a",{class:"table-image-link",href:e.file,target:"_blank"},(0,o.zw)((0,n.SU)(Fs)(e.file)),9,rp)]),(0,s._)("td",up,(0,o.zw)((0,n.SU)(Vs)(e.size)),1),(0,s._)("td",null,[(0,s._)("abbr",cp,[(0,s._)("i",{onClick:a=>v(e),class:"bi bi-trash text-danger float-end"},null,8,dp)]),(0,s._)("abbr",pp,[(0,s._)("i",{onClick:a=>p(e),class:"bi bi-arrow-up-square text-primary float-end me-4"},null,8,vp)])])])))),128))])])])],64))}};const gp=mp;var _p=gp;const bp=e=>((0,s.dD)("data-v-29090c60"),e=e(),(0,s.Cn)(),e),hp=bp((()=>(0,s._)("h4",{class:"inline-h mb-4"},"Edit Publication",-1))),fp={key:0,class:"container-upload"},wp=["onSubmit"],yp={class:"form-group mb-3"},kp=bp((()=>(0,s._)("label",{class:"mb-1"},"Title*",-1))),Sp={class:"form-group mb-3"},Cp=bp((()=>(0,s._)("label",{class:"mb-1"},[(0,s.Uk)("Authors* "),(0,s._)("small",{style:{"font-size":"10px"}},"(comma separated list of full names)")],-1))),Dp={class:"row"},xp={class:"col-md-5"},Up={class:"form-group mb-3"},Hp=bp((()=>(0,s._)("label",{class:"mb-1"},"Magazine*",-1))),zp={class:"col-md-5"},Yp={class:"form-group mb-3"},Lp=bp((()=>(0,s._)("label",{class:"mb-1"},"DOI",-1))),$p={class:"col-md-2"},Pp={class:"form-group mb-3"},Np=bp((()=>(0,s._)("label",{class:"mb-1"},[(0,s.Uk)("Year* "),(0,s._)("small",{style:{"font-size":"10px"}},"(es. Jan 2000)")],-1))),Op={class:"row"},Mp={class:"col md-6"},Fp={class:"form-group mb-3"},Vp=bp((()=>(0,s._)("label",{class:"mb-1"},[(0,s.Uk)("Corresponding Author "),(0,s._)("small",{style:{"font-size":"10px"}},"(email)")],-1))),Zp={class:"form-group mb-3"},Tp=bp((()=>(0,s._)("label",{class:"mb-1"},"Link",-1))),Wp={class:"form-group mb-3"},Ep=bp((()=>(0,s._)("label",{class:"mb-1"},"Related Research Fields",-1))),Ip={class:"multiselect-multiple-label"},Jp={class:"col-md-6"},Ap={class:"form-group mb-3"},Rp=bp((()=>(0,s._)("label",{class:"mb-1"},"Bibtex",-1))),jp={class:"mt-4",align:"right"},qp=bp((()=>(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-primary ms-1"},"Edit Publication ",-1))),Bp=bp((()=>(0,s._)("hr",{style:{"margin-top":"40px"}},null,-1)));var Kp={__name:"EditPublication",setup(e){const a=u(),l=c(),r=(0,p.tv)(),d=(0,p.yj)(),v=(0,n.iH)({}),m=(0,n.iH)([]),g=(0,n.iH)([]),_=(0,n.iH)([]),b=(0,n.iH)({mode:"multiple",hideSelected:!1,closeOnSelect:!1,value:[],options:{}}),h=(0,n.iH)(!1),f=(0,n.iH)(!1),w=async()=>{a.isLoading=!0,_.value=[];const e=d.params.id;await i.ZP.get(`/api/v1/publications/${e}`).then((e=>{v.value=e.data})).catch((e=>{console.log(e)})),"#"==v.value.authors&&(v.value.authors=""),"#"==v.value.magazine&&(v.value.magazine=""),"#"==v.value.doi&&(v.value.doi=""),"#"==v.value.year&&(v.value.year=""),b.value.value=v.value.field.map((e=>e.id)),0==m.value.length&&(m.value=v.value),m.value.pdf_publication!=v.value.pdf_publication&&(m.value.pdf_publication=v.value.pdf_publication),h.value=!0,a.isLoading=!1},y=async()=>{a.isLoading=!0,await i.ZP.get("/api/v1/research/").then((e=>{g.value=e.data})).catch((e=>{console.log(e)}));let e=g.value.map((e=>e.title)),l=g.value.map((e=>e.id));for(var t=0;t<l.length;t++)b.value.options[l[t]]=e[t];f.value=!0,a.isLoading=!1};(0,s.bv)((()=>{w(),y()}));const k=async()=>{a.isLoading=!0;const e=d.params.id;m.value.author=m.value.author[0].id,m.value.author_update=l.user.id,"no-field"==m.value.field&&(m.value.field=null),m.value.field=b.value.value,_.value=[],await i.ZP.patch(`/api/v1/publications/${e}/`,m.value).then((e=>{r.push("/settings/publications"),(0,Ye.Yz)("publication edited successfully",a.toastSuccess)})).catch((e=>{if(e.response){for(const l in e.response.data)_.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),a.isLoading=!1};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[hp,h.value&&f.value?((0,s.wg)(),(0,s.iD)("div",fp,[(0,s._)("form",{onSubmit:(0,t.iM)(k,["prevent"])},[(0,s._)("div",yp,[kp,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control input-size",style:{"font-size":"14px"},id:"title","onUpdate:modelValue":a[0]||(a[0]=e=>m.value.title=e)},null,512),[[t.nr,m.value.title]])]),(0,s._)("div",Sp,[Cp,(0,s.wy)((0,s._)("textarea",{rows:"2",style:{"font-size":"14px"},class:"form-control","onUpdate:modelValue":a[1]||(a[1]=e=>m.value.authors=e)},null,512),[[t.nr,m.value.authors]])]),(0,s._)("div",Dp,[(0,s._)("div",xp,[(0,s._)("div",Up,[Hp,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",style:{"font-size":"14px"},id:"magazine","onUpdate:modelValue":a[2]||(a[2]=e=>m.value.magazine=e)},null,512),[[t.nr,m.value.magazine]])])]),(0,s._)("div",zp,[(0,s._)("div",Yp,[Lp,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",style:{"font-size":"14px"},id:"doi","onUpdate:modelValue":a[3]||(a[3]=e=>m.value.doi=e)},null,512),[[t.nr,m.value.doi]])])]),(0,s._)("div",$p,[(0,s._)("div",Pp,[Np,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",style:{"font-size":"14px"},id:"doi","onUpdate:modelValue":a[4]||(a[4]=e=>m.value.year=e)},null,512),[[t.nr,m.value.year]])])])]),(0,s._)("div",Op,[(0,s._)("div",Mp,[(0,s._)("div",Fp,[Vp,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",style:{"font-size":"14px"},id:"link","onUpdate:modelValue":a[5]||(a[5]=e=>m.value.corresponding=e)},null,512),[[t.nr,m.value.corresponding]])]),(0,s._)("div",Zp,[Tp,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",style:{"font-size":"14px"},id:"link","onUpdate:modelValue":a[6]||(a[6]=e=>m.value.link=e)},null,512),[[t.nr,m.value.link]])]),(0,s._)("div",Wp,[Ep,(0,s.Wm)((0,n.SU)(Nu.Z),(0,s.dG)({modelValue:b.value.value,"onUpdate:modelValue":a[7]||(a[7]=e=>b.value.value=e)},b.value,{placeholder:"",class:"multiselect-blue"}),{multiplelabel:(0,s.w5)((({values:e})=>[(0,s._)("div",Ip,[1==e.length?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,o.zw)(e.length)+" field selected ",1)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,o.zw)(e.length)+" fields selected ",1)],64))])])),_:1},16,["modelValue"])])]),(0,s._)("div",Jp,[(0,s._)("div",Ap,[Rp,(0,s.wy)((0,s._)("textarea",{style:{height:"197px","font-size":"14px"},class:"form-control","onUpdate:modelValue":a[8]||(a[8]=e=>m.value.bibtex=e)},null,512),[[t.nr,m.value.bibtex]])])])]),(0,s._)("div",jp,[(0,s.Wm)(l,{type:"button",class:"btn btn-sm btn-outline-secondary ms-1",to:"/settings/publications"},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel ")])),_:1}),qp])],40,wp)])):(0,s.kq)("",!0),Bp,(0,s.Wm)(_p,{publication:v.value,callback:w},null,8,["publication"])])}}};const Gp=(0,P.Z)(Kp,[["__scopeId","data-v-29090c60"]]);var Xp=Gp;const Qp=e=>((0,s.dD)("data-v-2a71b2d7"),e=e(),(0,s.Cn)(),e),ev={class:"news-container"},av=Qp((()=>(0,s._)("h4",{class:"head-title"},"News",-1))),lv={class:"postcard__img_content",href:"#"},tv=["src"],sv={class:"postcard__text t-dark"},nv={class:"postcard__subtitle small"},ov={class:"author"},iv=Qp((()=>(0,s._)("div",{class:"postcard__bar"},null,-1))),rv=["innerHTML"],uv=["innerHTML"],cv=["innerHTML"],dv={style:{display:"flex","justify-content":"center","margin-top":"80px"}};var pv={__name:"News",setup(e){const a=u(),r=l(5743),c=(0,n.iH)([]),d=(0,n.iH)(9),p=(0,n.iH)(1),v=((0,n.iH)(9),(0,n.iH)("")),m=((0,n.iH)("asc"),(0,n.iH)("title"),async()=>{a.isLoading=!0,await i.ZP.get("/api/v1/news/").then((e=>{c.value=e.data;for(let n=0;n<c.value.length;n++)c.value[n].contentMD=(0,X.TU)(c.value[n].content),c.value[n].cover_news.length>0?c.value[n].cover=c.value[n].cover_news.filter((e=>1==e.isCover))[0].image:c.value[n].cover="/media/website/news/cover_news.png";var a=new Date,l=String(a.getDate()).padStart(2,"0"),t=String(a.getMonth()+1).padStart(2,"0"),s=a.getFullYear();a=s+"-"+t+"-"+l,c.value=c.value.filter((e=>e.publicated_at<=a&""!=e.content))})).catch((e=>{console.log(e)})),a.isLoading=!1});(0,s.bv)((()=>{m()}));const g=e=>e%3==0&e%2==0?"blue even blue-even":e%3==0&e%2==1?"blue odd blue-odd":e%3==1&e%2==0?"red even red-even":e%3==1&e%2==1?"red odd red-odd":e%3==2&e%2==0?"orange even orange-even":e%3==2&e%2==1?"orange odd orange-odd":void 0,_=e=>{p.value=e},b=e=>e.split(" ").slice(0,14).join(" ").concat(" &#8230;"),h=e=>e.split(" ").slice(0,29).join(" ").concat(" &#8230;"),f=e=>e.split(" ").slice(0,59).join(" ").concat(" &#8230;"),w=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},y=(e,a)=>(""!==a.value&&(e=e.filter((e=>e.title.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.content.toLowerCase().indexOf(a.value.toLowerCase())>=0))),e),k=(0,s.Fl)((()=>{let e=c.value;return e=y(e,v),e.sort(((e,a)=>new Date(a.publicated_at).getTime()-new Date(e.publicated_at).getTime())).filter(((e,a)=>{let l=(p.value-1)*d.value,t=p.value*d.value;if(a>=l&&a<t)return!0}))})),S=(0,s.Fl)((()=>{let e=c.value;return e=y(e,v),Math.ceil(e.length/d.value)}));(0,s.YP)((()=>v.value),(()=>{p.value=1}));const C=e=>{if(e)return r(String(e)).format("DD MMM YY")};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",ev,[(0,s._)("div",null,[av,(0,s.wy)((0,s._)("input",{class:"head-search",type:"search","onUpdate:modelValue":a[0]||(a[0]=e=>v.value=e),placeholder:"Search..."},null,512),[[t.nr,v.value]])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,n.SU)(k),((e,a)=>((0,s.wg)(),(0,s.iD)("div",{key:e.slug},[(0,s._)("div",{class:(0,o.C_)(["postcard",g(a)])},[(0,s._)("span",lv,[(0,s._)("img",{class:"postcard__img",src:e.cover,alt:"Image Title"},null,8,tv)]),(0,s._)("div",sv,[(0,s._)("h1",{class:(0,o.C_)({"postcard__title blue":a%3==0,"postcard__title red":a%3==1,"postcard__title orange":a%3==2})},[(0,s.Wm)(l,{to:{name:"NewsDetail",params:{slug:e.slug}}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.title),1)])),_:2},1032,["to"])],2),(0,s._)("div",nv,[(0,s._)("span",null,[(0,s.Uk)((0,o.zw)(C(e.publicated_at))+" | ",1),(0,s.wy)((0,s._)("span",{class:"author"},(0,o.zw)(e.author.full_name),513),[[t.F8,e.show_author&&e.author.full_name]]),(0,s.wy)((0,s._)("span",ov,"Team",512),[[t.F8,!e.show_author]])])]),iv,(0,s._)("div",{class:"postcard__preview-txt long",innerHTML:f(e.contentMD)},null,8,rv),(0,s._)("div",{class:"postcard__preview-txt medium",innerHTML:h(e.contentMD)},null,8,uv),(0,s._)("div",{class:"postcard__preview-txt short",innerHTML:b(e.contentMD)},null,8,cv)])],2)])))),128)),(0,s._)("div",dv,[(0,s.Wm)((0,n.SU)(Nt.Z),{modelValue:p.value,"onUpdate:modelValue":[a[1]||(a[1]=e=>p.value=e),_],pages:(0,n.SU)(S),"range-size":1,"active-color":"#f1f1f1",class:"float-end",onClick:w},null,8,["modelValue","pages"])])])}}};const vv=(0,P.Z)(pv,[["__scopeId","data-v-2a71b2d7"]]);var mv=vv;const gv={class:"news-container"},_v={class:"mb-3"},bv={class:"mb-3"},hv={key:0},fv={key:1},wv=["innerHTML"],yv={key:1,style:{"font-size":"20px"}};var kv={__name:"NewsDetail",setup(e){const a=u(),t=(0,p.yj)(),r=l(5743),c=(0,n.iH)({}),d=(0,n.iH)(!1),v=(0,n.iH)(!1),m=async()=>{a.isLoading=!0;const e=t.params.slug;await i.ZP.get(`/api/v1/news/${e}`).then((e=>{c.value=e.data,c.value.contentMD=(0,X.TU)(c.value.content),v.value=!0})).catch((e=>{console.log(e)})),d.value=!0,a.isLoading=!1};(0,s.bv)((()=>{m()}));const g=e=>{if(e)return r(String(e)).format("DD MMM YY")};return(e,a)=>((0,s.wg)(),(0,s.iD)("div",gv,[d.value?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[v.value?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("h2",_v,(0,o.zw)(c.value.title),1),(0,s._)("div",bv,[(0,s.Uk)((0,o.zw)(g(c.value.publicated_at))+" | ",1),c.value.show_author&&c.value.author.full_name?((0,s.wg)(),(0,s.iD)("span",hv,(0,o.zw)(c.value.author.full_name),1)):((0,s.wg)(),(0,s.iD)("span",fv,"Team"))]),(0,s._)("div",{class:"md-content",innerHTML:c.value.contentMD},null,8,wv)],64)):((0,s.wg)(),(0,s.iD)("span",yv," 404: Page does not exist "))],64)):(0,s.kq)("",!0)]))}};const Sv=(0,P.Z)(kv,[["__scopeId","data-v-09294b52"]]);var Cv=Sv;const Dv={class:"mb-4"},xv={class:"row justify-content-between"},Uv={class:"col-4"},Hv=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="15">15</option><option value="20">20</option><option value="25">25</option>',5),zv=[Hv],Yv=(0,s._)("span",{class:"ms-2"},"research fields per page",-1),Lv={class:"col-4"},$v={class:"table table-bordered"},Pv={style:{width:"39%"}},Nv={style:{width:"15%"}},Ov={style:{width:"13%"}},Mv={style:{width:"15%"}},Fv={style:{width:"13%"}},Vv=(0,s._)("th",{style:{width:"5%","text-align":"right"}},"Actions",-1),Zv={style:{cursor:"pointer"},title:"Delete"},Tv=["onClick"],Wv={style:{cursor:"pointer"},title:"Edit"},Ev=["onClick"],Iv={class:"row py-3"},Jv={class:"col-7"},Av={class:"col-5"};var Rv={__name:"TNews",props:{allNews:Object,showSearch:Boolean},emits:["newsSlugEdit","newsSlugDelete"],setup(e){const a=e,i=l(5743);let r=a.allNews.map((e=>e));const u=(0,n.iH)("asc"),c=(0,n.iH)("title"),d=(0,n.iH)(1),p=(0,n.iH)(15),v=(0,n.iH)(15),m=(0,n.iH)(""),g=e=>{e===c.value&&(u.value="asc"===u.value?"desc":"asc"),c.value=e},_=e=>{d.value=e},b=()=>{p.value=v.value,d.value=1},h=(e,a)=>(""!==a.value&&(e=e.filter((e=>e.title.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.content.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.author[0].username.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.author_update[0].username.toLowerCase().indexOf(a.value.toLowerCase())>=0))),e),f=(0,s.Fl)((()=>{let e=r;return e=h(e,m),e.sort(((e,a)=>{let l=1;return"desc"===u.value&&(l=-1),e[c.value]<a[c.value]?-1*l:e[c.value]>a[c.value]?1*l:0})).filter(((e,a)=>{let l=(d.value-1)*p.value,t=d.value*p.value;if(a>=l&&a<t)return!0}))})),w=(0,s.Fl)((()=>{let e=r;return e=h(e,m),Math.ceil(e.length/p.value)})),y=(0,s.Fl)((()=>{let e=r;return e=h(e,m),e.length}));(0,s.YP)((()=>m.value),(()=>{d.value=1}));const k=e=>{if(e)return i(String(e)).format("DD/MM/YY")};return(e,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Dv,[(0,s._)("div",xv,[(0,s._)("div",Uv,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>v.value=e),onChange:b,class:"table-select px-1"},zv,544),[[t.bM,v.value]]),(0,s.Uk)(),Yv]),(0,s._)("div",Lv,[(0,s.wy)((0,s._)("input",{class:"float-end px-1",type:"search","onUpdate:modelValue":a[1]||(a[1]=e=>m.value=e),placeholder:"Search..."},null,512),[[t.nr,m.value]])])])]),(0,s._)("table",$v,[(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",Pv,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[2]||(a[2]=e=>g("title"))}),(0,s.Uk)("Title")]),(0,s._)("th",Nv,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[3]||(a[3]=e=>g("author"))}),(0,s.Uk)("Created by")]),(0,s._)("th",Ov,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[4]||(a[4]=e=>g("created_at"))}),(0,s.Uk)("Created at")]),(0,s._)("th",Mv,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[5]||(a[5]=e=>g("author_update"))}),(0,s.Uk)("Updated by")]),(0,s._)("th",Fv,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[6]||(a[6]=e=>g("updated_at"))}),(0,s.Uk)("Updated at")]),Vv])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,n.SU)(f),(a=>((0,s.wg)(),(0,s.iD)("tr",{key:a.slug},[(0,s._)("td",null,(0,o.zw)(a.title),1),(0,s._)("td",null,(0,o.zw)(a.author[0].username),1),(0,s._)("td",null,(0,o.zw)(k(a.created_at)),1),(0,s._)("td",null,(0,o.zw)(a.author_update[0].username),1),(0,s._)("td",null,(0,o.zw)(k(a.updated_at)),1),(0,s._)("td",null,[(0,s._)("abbr",Zv,[(0,s._)("i",{onClick:l=>e.$emit("newsSlugDelete",a),class:"bi bi-trash text-danger float-end"},null,8,Tv)]),(0,s._)("abbr",Wv,[(0,s._)("i",{onClick:l=>e.$emit("newsSlugEdit",a.slug),class:"bi bi-pencil-square text-warning me-3 float-end"},null,8,Ev)])])])))),128))])]),(0,s._)("div",Iv,[(0,s._)("div",Jv,[1!=(0,n.SU)(y)?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,o.zw)((0,n.SU)(y))+" news found ",1)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,o.zw)((0,n.SU)(y))+" news field found ",1)],64))]),(0,s._)("div",Av,[(0,s.Wm)((0,n.SU)(Nt.Z),{modelValue:d.value,"onUpdate:modelValue":[a[7]||(a[7]=e=>d.value=e),_],pages:(0,n.SU)(w),"range-size":1,"active-color":"#B1C3D7",class:"float-end"},null,8,["modelValue","pages"])])])],64))}};const jv=Rv;var qv=jv;const Bv={class:"mb-5"},Kv=(0,s._)("h4",{class:"inline-h"},"News",-1),Gv={key:0,class:"d-flex justify-content-center"},Xv=(0,s._)("div",{class:"spinner-border",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")],-1),Qv=[Xv];var em={__name:"NewsSettings",setup(e){const a=u(),l=(0,p.tv)(),t=(0,n.iH)(!1),o=(0,n.iH)([]),r=(0,n.iH)([]),c=(0,n.iH)(!1),d=async()=>{a.isLoading=!0,t.value=!0,await i.ZP.get("/api/v1/news/").then((e=>{t.value=!1,o.value=e.data})).catch((e=>{console.log(e)})),a.isLoading=!1};(0,s.bv)((()=>{d()}));const v=e=>{r.value=e,c.value=!0},m=e=>{l.push(`/settings/news/edit/${e}`)};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Bv,[Kv,(0,s.Wm)(l,{class:"btn btn-sm btn-outline-primary px-4",style:{"text-align":"right",float:"right"},to:"/settings/news/add"},{default:(0,s.w5)((()=>[(0,s.Uk)("Add news ")])),_:1})]),t.value?((0,s.wg)(),(0,s.iD)("div",Gv,Qv)):((0,s.wg)(),(0,s.j4)(qv,{key:1,allNews:o.value,onNewsSlugEdit:m,onNewsSlugDelete:v},null,8,["allNews"])),(0,s.Wm)(bs,{model:"news",title:r.value.title,warning:"Warning! A deleted news item cannot be recovered",identifier:r.value.slug,callback:d,openDeleteModal:c.value,endpoint:"news",onCloseModal:a[0]||(a[0]=e=>c.value=!1)},null,8,["title","identifier","openDeleteModal"])],64)}}};const am=em;var lm=am;const tm=(0,s._)("h4",{class:"inline-h mb-4"},"Add News",-1),sm=["onSubmit"],nm={class:"row g-3"},om={class:"col-md-12"},im=(0,s._)("label",{class:"mb-1"},"Title*",-1),rm={class:"float-md-end mt-4 mb-4"},um=(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-primary ms-1"},"Add ",-1);var cm={__name:"AddNews",setup(e){const a=u(),l=c(),o=(0,p.tv)(),r=(0,n.iH)(""),d=(0,n.iH)([]),v=async()=>{a.isLoading=!0,d.value=[];var e=new Date((new Date).setDate((new Date).getDate()+1)),t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();const s={title:r.value,content:"",author:l.user.id,author_update:l.user.id,publicated_at:t};d.value.length||await i.ZP.post("/api/v1/news/",s).then((e=>{o.push(`/settings/news/edit/${e.data.slug}`),(0,Ye.Yz)("News added successfully",a.toastSuccess)})).catch((e=>{if(e.response){for(const l in e.response.data)d.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),a.isLoading=!1};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[tm,(0,s._)("form",{onSubmit:(0,t.iM)(v,["prevent"])},[(0,s._)("div",nm,[(0,s._)("div",om,[im,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e)},null,512),[[t.nr,r.value]]),(0,s.Wm)(Ei,{input:r.value,inputLen:100,inputWarn:25},null,8,["input"])])]),(0,s._)("div",rm,[(0,s.Wm)(l,{type:"button",class:"btn btn-sm btn-outline-secondary ms-1",to:"/settings/news"},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1}),um])],40,sm)])}}};const dm=cm;var pm=dm;const vm=(0,s._)("h4",{class:"inline-h mb-4"},"Edit News",-1),mm={class:"container-upload"},gm=["onSubmit"],_m={class:"form-group mb-3"},bm=(0,s._)("label",{class:"mb-1"},"Title*",-1),hm={class:"form-group"},fm=(0,s._)("label",{class:"mb-1"},"Content",-1),wm={class:"row"},ym={class:"col-md-6"},km=(0,s._)("label",{class:"mb-1"},"Publication date*",-1),Sm={class:"col-md-6"},Cm=(0,s._)("label",{class:"mb-1"},"Show author",-1),Dm=(0,s._)("br",null,null,-1),xm={class:"form-check form-check-inline"},Um=(0,s._)("label",{class:"form-check-label"},"Yes",-1),Hm={class:"form-check form-check-inline"},zm=(0,s._)("label",{class:"form-check-label"},"No",-1),Ym={class:"mt-4",align:"right"},Lm=(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-primary ms-1"},"Edit News ",-1),$m=(0,s._)("hr",{style:{"margin-top":"40px"}},null,-1),Pm=(0,s._)("hr",{style:{"margin-top":"40px"}},null,-1);var Nm={__name:"EditNews",setup(e){const a=u(),l=c(),o=(0,p.tv)(),r=(0,p.yj)(),d=(0,n.iH)([]),v=(0,n.iH)([]),m=(0,n.iH)([]),g=(0,n.iH)("Yes"),_=(0,n.iH)(!1),b=async()=>{a.isLoading=!0,m.value=[];const e=r.params.slug;await i.ZP.get(`/api/v1/news/${e}`).then((e=>{d.value=e.data})).catch((e=>{console.log(e)})),0==v.value.length&&(v.value=d.value),v.value.images_news!=d.value.images_news&&(v.value.images_news=d.value.images_news),v.value.cover_news!=d.value.cover_news&&(v.value.cover_news=d.value.cover_news),0==v.value.show_author&&(g.value="No"),_.value=!0,a.isLoading=!1};(0,s.bv)((()=>{b()}));const h=async()=>{a.isLoading=!0;const e=r.params.slug;v.value.author=v.value.author[0].id,v.value.author_update=l.user.id,"Yes"==g.value&&(v.value.show_author=!0),"No"==g.value&&(v.value.show_author=!1),m.value=[],await i.ZP.patch(`/api/v1/news/${e}/`,v.value).then((e=>{o.push("/settings/news"),(0,Ye.Yz)("news edited successfully",a.toastSuccess)})).catch((e=>{if(e.response){for(const l in e.response.data)m.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),a.isLoading=!1};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[vm,(0,s._)("div",mm,[(0,s._)("form",{onSubmit:(0,t.iM)(h,["prevent"])},[(0,s._)("div",_m,[bm,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":a[0]||(a[0]=e=>v.value.title=e)},null,512),[[t.nr,v.value.title]]),_.value?((0,s.wg)(),(0,s.j4)(Ei,{key:0,input:v.value.title,inputLen:100,inputWarn:25},null,8,["input"])):(0,s.kq)("",!0)]),(0,s._)("div",hm,[fm,(0,s.Wm)((0,n.SU)(Ms.Z),{modelValue:v.value.content,"onUpdate:modelValue":a[1]||(a[1]=e=>v.value.content=e),ref:"markdownEditor"},null,8,["modelValue"])]),(0,s._)("div",wm,[(0,s._)("div",ym,[km,(0,s.wy)((0,s._)("input",{type:"date",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=e=>v.value.publicated_at=e)},null,512),[[t.nr,v.value.publicated_at]])]),(0,s._)("div",Sm,[Cm,Dm,(0,s._)("div",xm,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"radio",value:"Yes","onUpdate:modelValue":a[3]||(a[3]=e=>g.value=e)},null,512),[[t.G2,g.value]]),Um]),(0,s._)("div",Hm,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"radio",value:"No","onUpdate:modelValue":a[4]||(a[4]=e=>g.value=e)},null,512),[[t.G2,g.value]]),zm])])]),(0,s._)("div",Ym,[(0,s.Wm)(l,{type:"button",class:"btn btn-sm btn-outline-secondary ms-1",to:"/settings/news"},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel ")])),_:1}),Lm])],40,gm)]),$m,(0,s.Wm)(ln,{model:d.value,callback:b,endpoint:"news-images",base_ref:"images_news"},null,8,["model"]),Pm,(0,s.Wm)($n,{model:d.value,callback:b,endpoint:"news-cover","base-ref":"cover_news",width:300,height:300,"aspect-ratio":1},null,8,["model"])],64)}}};const Om=Nm;var Mm=Om;const Fm={class:"mb-4"},Vm={class:"row justify-content-between"},Zm={class:"col-4"},Tm=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="15">15</option><option value="20">20</option><option value="25">25</option>',5),Wm=[Tm],Em=(0,s._)("span",{class:"ms-2"},"research fields per page",-1),Im={class:"col-4"},Jm={class:"table table-bordered"},Am={style:{width:"15%"}},Rm={style:{width:"24%"}},jm={style:{width:"15%"}},qm={style:{width:"13%"}},Bm={style:{width:"15%"}},Km={style:{width:"13%"}},Gm=(0,s._)("th",{style:{width:"5%","text-align":"right"}},"Actions",-1),Xm={style:{cursor:"pointer"},title:"Delete"},Qm=["onClick"],eg={style:{cursor:"pointer"},title:"Edit"},ag=["onClick"],lg={class:"row py-3"},tg={class:"col-7"},sg={class:"col-5"};var ng={__name:"TCarousel",props:{carousel:Object,showSearch:Boolean},emits:["carouselIdEdit","carouselIdDelete"],setup(e){const a=e,i=l(5743);let r=a.carousel.map((e=>e));const u=(0,n.iH)("asc"),c=(0,n.iH)("title"),d=(0,n.iH)(1),p=(0,n.iH)(15),v=(0,n.iH)(15),m=(0,n.iH)(""),g=e=>{e===c.value&&(u.value="asc"===u.value?"desc":"asc"),c.value=e},_=e=>{d.value=e},b=()=>{p.value=v.value,d.value=1},h=(e,a)=>(""!==a.value&&(e=e.filter((e=>e.show_in_home.toString().indexOf(a.value.toLowerCase())>=0||e.content.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.author[0].username.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.author_update[0].username.toLowerCase().indexOf(a.value.toLowerCase())>=0))),e),f=(0,s.Fl)((()=>{let e=r;return e=h(e,m),e.sort(((e,a)=>{let l=1;return"desc"===u.value&&(l=-1),e[c.value]<a[c.value]?-1*l:e[c.value]>a[c.value]?1*l:0})).filter(((e,a)=>{let l=(d.value-1)*p.value,t=d.value*p.value;if(a>=l&&a<t)return!0}))})),w=(0,s.Fl)((()=>{let e=r;return e=h(e,m),Math.ceil(e.length/p.value)})),y=(0,s.Fl)((()=>{let e=r;return e=h(e,m),e.length}));(0,s.YP)((()=>m.value),(()=>{d.value=1}));const k=e=>{if(e)return i(String(e)).format("DD/MM/YY")};return(e,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Fm,[(0,s._)("div",Vm,[(0,s._)("div",Zm,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>v.value=e),onChange:b,class:"table-select px-1"},Wm,544),[[t.bM,v.value]]),(0,s.Uk)(),Em]),(0,s._)("div",Im,[(0,s.wy)((0,s._)("input",{class:"float-end px-1",type:"search","onUpdate:modelValue":a[1]||(a[1]=e=>m.value=e),placeholder:"Search..."},null,512),[[t.nr,m.value]])])])]),(0,s._)("table",Jm,[(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",Am,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[2]||(a[2]=e=>g("id"))}),(0,s.Uk)("ID")]),(0,s._)("th",Rm,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[3]||(a[3]=e=>g("show_in_home"))}),(0,s.Uk)("In home")]),(0,s._)("th",jm,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[4]||(a[4]=e=>g("author.username"))}),(0,s.Uk)("Created by")]),(0,s._)("th",qm,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[5]||(a[5]=e=>g("created_at"))}),(0,s.Uk)("Created at")]),(0,s._)("th",Bm,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[6]||(a[6]=e=>g("author_update.username"))}),(0,s.Uk)("Updated by")]),(0,s._)("th",Km,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[7]||(a[7]=e=>g("updated_at"))}),(0,s.Uk)("Updated at")]),Gm])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,n.SU)(f),((a,l)=>((0,s.wg)(),(0,s.iD)("tr",{key:a.id},[(0,s._)("td",null,(0,o.zw)(l+1),1),(0,s._)("td",null,(0,o.zw)(a.show_in_home),1),(0,s._)("td",null,(0,o.zw)(a.author[0].username),1),(0,s._)("td",null,(0,o.zw)(k(a.created_at)),1),(0,s._)("td",null,(0,o.zw)(a.author_update[0].username),1),(0,s._)("td",null,(0,o.zw)(k(a.updated_at)),1),(0,s._)("td",null,[(0,s._)("abbr",Xm,[(0,s._)("i",{onClick:l=>e.$emit("carouselIdDelete",a),class:"bi bi-trash text-danger float-end"},null,8,Qm)]),(0,s._)("abbr",eg,[(0,s._)("i",{onClick:l=>e.$emit("carouselIdEdit",a.id),class:"bi bi-pencil-square text-warning me-3 float-end"},null,8,ag)])])])))),128))])]),(0,s._)("div",lg,[(0,s._)("div",tg,[1!=(0,n.SU)(y)?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,o.zw)((0,n.SU)(y))+" carosuel items found ",1)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,o.zw)((0,n.SU)(y))+" carousel item found ",1)],64))]),(0,s._)("div",sg,[(0,s.Wm)((0,n.SU)(Nt.Z),{modelValue:d.value,"onUpdate:modelValue":[a[8]||(a[8]=e=>d.value=e),_],pages:(0,n.SU)(w),"range-size":1,"active-color":"#B1C3D7",class:"float-end"},null,8,["modelValue","pages"])])])],64))}};const og=ng;var ig=og;const rg={class:"mb-5"},ug=(0,s._)("h4",{class:"inline-h"},"Carousel",-1),cg={key:0,class:"d-flex justify-content-center"},dg=(0,s._)("div",{class:"spinner-border",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")],-1),pg=[dg];var vg={__name:"CarouselSettings",setup(e){const a=u(),l=(0,p.tv)(),t=(0,n.iH)(!1),o=(0,n.iH)([]),r=(0,n.iH)([]),c=(0,n.iH)(!1),d=async()=>{a.isLoading=!0,t.value=!0,await i.ZP.get("/api/v1/carousel/").then((e=>{t.value=!1,o.value=e.data})).catch((e=>{console.log(e)})),a.isLoading=!1};(0,s.bv)((()=>{d()}));const v=e=>{r.value=e,c.value=!0},m=e=>{l.push(`/settings/carousel/edit/${e}`)};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",rg,[ug,(0,s.Wm)(l,{class:"btn btn-sm btn-outline-primary px-4",style:{"text-align":"right",float:"right"},to:"/settings/carousel/add"},{default:(0,s.w5)((()=>[(0,s.Uk)("Add carousel item ")])),_:1})]),t.value?((0,s.wg)(),(0,s.iD)("div",cg,pg)):((0,s.wg)(),(0,s.j4)(ig,{key:1,carousel:o.value,onCarouselIdEdit:m,onCarouselIdDelete:v},null,8,["carousel"])),(0,s.Wm)(bs,{model:"carousel item",title:r.value.id,warning:"Warning! A deleted carousel item cannot be recovered",identifier:r.value.id,callback:d,openDeleteModal:c.value,endpoint:"carousel",onCloseModal:a[0]||(a[0]=e=>c.value=!1)},null,8,["title","identifier","openDeleteModal"])],64)}}};const mg=vg;var gg=mg;const _g=e=>((0,s.dD)("data-v-7e6e6f28"),e=e(),(0,s.Cn)(),e),bg=_g((()=>(0,s._)("h4",{class:"inline-h mb-4"},"Add Carousel Item",-1))),hg=["onSubmit"],fg={class:"row g-3"},wg={class:"form-group mb-3"},yg=_g((()=>(0,s._)("label",{class:"mb-1"},"Related Research Fields or News",-1))),kg={class:"float-md-end mt-4 mb-4"},Sg=_g((()=>(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-primary ms-1"},"Add ",-1)));var Cg={__name:"AddCarousel",setup(e){const a=u(),l=c(),o=(0,p.tv)(),r=(0,n.iH)([]),d=(0,n.iH)(!1),v=(0,n.iH)([]),m=(0,n.iH)([]),g=(0,n.iH)(""),_=(0,n.iH)(""),b=(0,n.iH)({mode:"single",hideSelected:!1,closeOnSelect:!1,groups:!0,value:[],options:[{label:"Research Fields",options:{}},{label:"News",options:{}}]}),h=async()=>{a.isLoading=!0,await i.ZP.get("/api/v1/research/").then((e=>{v.value=e.data})).catch((e=>{console.log(e)}));let e=v.value.map((e=>e.title)),l=v.value.map((e=>e.slug));for(let a=0;a<l.length;a++)b.value.options[0].options[l[a]]=e[a];await i.ZP.get("/api/v1/news/").then((e=>{m.value=e.data})).catch((e=>{console.log(e)}));let t=m.value.map((e=>e.title)),s=m.value.map((e=>e.slug));for(let a=0;a<s.length;a++)b.value.options[1].options[s[a]]=t[a];d.value=!0,a.isLoading=!1};(0,s.bv)((()=>{h()}));const f=async()=>{a.isLoading=!0,r.value=[];const e=v.value.map((e=>e.slug)),t=m.value.map((e=>e.slug));e.includes(b.value.value)?g.value=v.value.filter((e=>e.slug==b.value.value))[0].id:g.value=null,t.includes(b.value.value)?_.value=m.value.filter((e=>e.slug==b.value.value))[0].id:_.value=null;const s={author:l.user.id,author_update:l.user.id,field:g.value,news:_.value};r.value.length||null!=s.field|null!=s.news&&await i.ZP.post("/api/v1/carousel/",s).then((e=>{o.push(`/settings/carousel/edit/${e.data.id}`),(0,Ye.Yz)("Carousel item added successfully",a.toastSuccess)})).catch((e=>{if(e.response){for(const l in e.response.data)r.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),g.value="",_.value="",a.isLoading=!1};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[bg,(0,s._)("form",{onSubmit:(0,t.iM)(f,["prevent"])},[(0,s._)("div",fg,[(0,s._)("div",wg,[yg,(0,s.Wm)((0,n.SU)(Nu.Z),(0,s.dG)({modelValue:b.value.value,"onUpdate:modelValue":a[0]||(a[0]=e=>b.value.value=e)},b.value,{placeholder:"Select",class:"multiselect-blue"}),null,16,["modelValue"])])]),(0,s._)("div",kg,[(0,s.Wm)(l,{type:"button",class:"btn btn-sm btn-outline-secondary ms-1",to:"/settings/carousel"},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1}),Sg])],40,hg)])}}};const Dg=(0,P.Z)(Cg,[["__scopeId","data-v-7e6e6f28"]]);var xg=Dg;const Ug=e=>((0,s.dD)("data-v-e73f3b7a"),e=e(),(0,s.Cn)(),e),Hg=Ug((()=>(0,s._)("h4",{class:"inline-h mb-4"},"Edit Carousel Item",-1))),zg={key:0,class:"container-upload"},Yg=["onSubmit"],Lg={class:"form-group mb-3"},$g=Ug((()=>(0,s._)("label",{class:"mb-1"},"Content*",-1))),Pg={class:"form-group mb-3"},Ng=Ug((()=>(0,s._)("label",{class:"mb-1"},"Related Research Fields or News",-1))),Og={class:"form-group mb-3"},Mg=Ug((()=>(0,s._)("label",{class:"me-3"},"Show in home carousel",-1))),Fg={class:"form-check form-check-inline"},Vg=Ug((()=>(0,s._)("label",{class:"form-check-label"},"Yes",-1))),Zg={class:"form-check form-check-inline"},Tg=Ug((()=>(0,s._)("label",{class:"form-check-label"},"No",-1))),Wg={class:"mt-4",align:"right"},Eg=Ug((()=>(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-primary ms-1"},"Edit Carousel Item ",-1))),Ig=Ug((()=>(0,s._)("hr",{style:{"margin-top":"40px"}},null,-1)));var Jg={__name:"EditCarousel",setup(e){const a=u(),l=c(),o=(0,p.tv)(),r=(0,p.yj)(),d=(0,n.iH)([]),v=(0,n.iH)([]),m=(0,n.iH)([]),g=(0,n.iH)(!1),_=(0,n.iH)("No"),b=(0,n.iH)([]),h=(0,n.iH)([]),f=((0,n.iH)(""),(0,n.iH)(""),(0,n.iH)({mode:"single",hideSelected:!1,closeOnSelect:!1,groups:!0,value:[],options:[{label:"Research Fields",options:{}},{label:"News",options:{}}]})),w=async()=>{a.isLoading=!0,m.value=[];const e=r.params.id;await i.ZP.get(`/api/v1/carousel/${e}`).then((e=>{d.value=e.data})).catch((e=>{console.log(e)})),null!=d.value.field&&(f.value.value=d.value.field.slug),null!=d.value.news&&(f.value.value=d.value.news.slug),null==d.value.content&&(d.value.content=""),0==v.value.length&&(v.value=d.value),v.value.cover_carousel!=d.value.cover_carousel&&(v.value.cover_carousel=d.value.cover_carousel),0==v.value.show_in_home&&(_.value="No"),1==v.value.show_in_home&&(_.value="Yes"),a.isLoading=!1},y=async()=>{a.isLoading=!0,await i.ZP.get("/api/v1/research/").then((e=>{b.value=e.data})).catch((e=>{console.log(e)}));let e=b.value.map((e=>e.title)),l=b.value.map((e=>e.slug));for(let a=0;a<l.length;a++)f.value.options[0].options[l[a]]=e[a];await i.ZP.get("/api/v1/news/").then((e=>{h.value=e.data})).catch((e=>{console.log(e)}));let t=h.value.map((e=>e.title)),s=h.value.map((e=>e.slug));for(let a=0;a<s.length;a++)f.value.options[1].options[s[a]]=t[a];g.value=!0,a.isLoading=!1};(0,s.bv)((()=>{w(),y()}));const k=async()=>{a.isLoading=!0,m.value=[];const e=r.params.id;v.value.author=v.value.author[0].id,v.value.author_update=l.user.id,null==v.value.content&&(v.value.content=""),"Yes"==_.value&&(v.value.show_in_home=!0),"No"==_.value&&(v.value.show_in_home=!1);const t=b.value.map((e=>e.slug)),s=h.value.map((e=>e.slug));t.includes(f.value.value)?v.value.field=b.value.filter((e=>e.slug==f.value.value))[0].id:v.value.field=null,s.includes(f.value.value)?v.value.news=h.value.filter((e=>e.slug==f.value.value))[0].id:v.value.news=null,null!=v.value.field|null!=v.value.news?await i.ZP.patch(`/api/v1/carousel/${e}/`,v.value).then((e=>{o.push("/settings/carousel"),(0,Ye.Yz)("carousel item edited successfully",a.toastSuccess)})).catch((e=>{if(e.response){for(const l in e.response.data)m.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})):(0,Ye.Yz)("Carousel item must have related field or news",a.toastDanger),a.isLoading=!1};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[Hg,g.value?((0,s.wg)(),(0,s.iD)("div",zg,[(0,s._)("form",{onSubmit:(0,t.iM)(k,["prevent"])},[(0,s._)("div",Lg,[$g,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":a[0]||(a[0]=e=>v.value.content=e)},null,512),[[t.nr,v.value.content]]),(0,s.Wm)(Ei,{input:v.value.content,inputLen:100,inputWarn:25},null,8,["input"])]),(0,s._)("div",Pg,[Ng,(0,s.Wm)((0,n.SU)(Nu.Z),(0,s.dG)({modelValue:f.value.value,"onUpdate:modelValue":a[1]||(a[1]=e=>f.value.value=e)},f.value,{placeholder:"Select",class:"multiselect-blue"}),null,16,["modelValue"])]),(0,s._)("div",Og,[Mg,(0,s._)("div",Fg,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"radio",value:"Yes","onUpdate:modelValue":a[2]||(a[2]=e=>_.value=e)},null,512),[[t.G2,_.value]]),Vg]),(0,s._)("div",Zg,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"radio",value:"No","onUpdate:modelValue":a[3]||(a[3]=e=>_.value=e)},null,512),[[t.G2,_.value]]),Tg])]),(0,s._)("div",Wg,[(0,s.Wm)(l,{type:"button",class:"btn btn-sm btn-outline-secondary ms-1",to:"/settings/carousel"},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel ")])),_:1}),Eg])],40,Yg)])):(0,s.kq)("",!0),Ig,(0,s.Wm)($n,{model:d.value,callback:w,endpoint:"carousel-cover","base-ref":"cover_carousel",width:1680,height:400,"aspect-ratio":4.2},null,8,["model"])],64)}}};const Ag=(0,P.Z)(Jg,[["__scopeId","data-v-e73f3b7a"]]);var Rg=Ag;const jg={class:"tools-container"},qg={class:"card-container"},Bg={class:"info"},Kg={class:"title"},Gg=["innerHTML"],Xg={style:{"text-align":"center"}},Qg=["href"];var e_={__name:"Tools",setup(e){const a=u(),l=(0,n.iH)(!1),t=(0,n.iH)([]),r=async()=>{a.isLoading=!0,l.value=!0,await i.ZP.get("/api/v1/tools/").then((e=>{l.value=!1,t.value=e.data,t.value=t.value.filter((e=>1==e.show_tool));for(let a=0;a<t.value.length;a++)t.value[a].contentMD=(0,X.TU)(t.value[a].content),t.value[a].cover_tool.length>0?t.value[a].cover=t.value[a].cover_tool.filter((e=>1==e.isCover))[0].image:t.value[a].cover="/media/website/tools/cover_tool.png"})).catch((e=>{console.log(e)})),a.isLoading=!1};return(0,s.bv)((()=>{r()})),(e,a)=>((0,s.wg)(),(0,s.iD)("div",jg,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.value,(e=>((0,s.wg)(),(0,s.iD)("span",{key:e.id},[(0,s._)("div",qg,[(0,s._)("div",{class:"card",style:(0,o.j5)({backgroundImage:"url("+e.cover+")"})},[(0,s._)("div",Bg,[(0,s._)("h1",Kg,(0,o.zw)(e.name),1),(0,s._)("div",{class:"description",innerHTML:e.contentMD},null,8,Gg),(0,s._)("div",Xg,[(0,s._)("a",{href:e.link,target:"_blank",class:"card__button"},"Open tool",8,Qg)])])],4)])])))),128))]))}};const a_=(0,P.Z)(e_,[["__scopeId","data-v-050525db"]]);var l_=a_;const t_={class:"mb-4"},s_=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="15">15</option><option value="20">20</option><option value="25">25</option>',5),n_=[s_],o_={class:"table table-bordered"},i_={style:{width:"39%"}},r_={style:{width:"15%"}},u_={style:{width:"13%"}},c_={style:{width:"15%"}},d_={style:{width:"13%"}},p_=(0,s._)("th",{style:{width:"5%","text-align":"right"}},"Actions",-1),v_={style:{cursor:"pointer"},title:"Delete"},m_=["onClick"],g_={style:{cursor:"pointer"},title:"Edit"},__=["onClick"],b_={class:"row py-3"},h_={class:"col-7"},f_={class:"col-5"};var w_={__name:"TTools",props:{tools:Object},emits:["toolSlugEdit","toolSlugDelete"],setup(e){const a=e,i=l(5743);let r=a.tools.map((e=>e));const u=(0,n.iH)("asc"),c=(0,n.iH)("title"),d=(0,n.iH)(1),p=(0,n.iH)(15),v=(0,n.iH)(15),m=(0,n.iH)(""),g=e=>{e===c.value&&(u.value="asc"===u.value?"desc":"asc"),c.value=e},_=e=>{d.value=e},b=()=>{p.value=v.value,d.value=1},h=(e,a)=>(""!==a.value&&(e=e.filter((e=>e.name.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.content.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.author_update[0].username.toLowerCase().indexOf(a.value.toLowerCase())>=0||e.author[0].username.toLowerCase().indexOf(a.value.toLowerCase())>=0))),e),f=(0,s.Fl)((()=>{let e=r;return e=h(e,m),e.sort(((e,a)=>{let l=1;return"desc"===u.value&&(l=-1),e[c.value]<a[c.value]?-1*l:e[c.value]>a[c.value]?1*l:0})).filter(((e,a)=>{let l=(d.value-1)*p.value,t=d.value*p.value;if(a>=l&&a<t)return!0}))})),w=(0,s.Fl)((()=>{let e=r;return e=h(e,m),Math.ceil(e.length/p.value)})),y=(0,s.Fl)((()=>{let e=r;return e=h(e,m),e.length}));(0,s.YP)((()=>m.value),(()=>{d.value=1}));const k=e=>{if(e)return i(String(e)).format("DD/MM/YY")};return(e,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",t_,[(0,s._)("label",null,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>v.value=e),onChange:b,class:"table-select px-1"},n_,544),[[t.bM,v.value]]),(0,s.Uk)(" tools per page ")]),(0,s.wy)((0,s._)("input",{class:"float-end px-1",type:"search","onUpdate:modelValue":a[1]||(a[1]=e=>m.value=e),placeholder:"Search..."},null,512),[[t.nr,m.value]])]),(0,s._)("table",o_,[(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",i_,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[2]||(a[2]=e=>g("name"))}),(0,s.Uk)("Name")]),(0,s._)("th",r_,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[3]||(a[3]=e=>g("author.username"))}),(0,s.Uk)("Created by")]),(0,s._)("th",u_,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[4]||(a[4]=e=>g("created_at"))}),(0,s.Uk)("Created at")]),(0,s._)("th",c_,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[5]||(a[5]=e=>g("author_update.username"))}),(0,s.Uk)("Updated by")]),(0,s._)("th",d_,[(0,s._)("i",{class:"bi bi-arrow-down-up float-end",onClick:a[6]||(a[6]=e=>g("updated_at"))}),(0,s.Uk)("Updated at")]),p_])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,n.SU)(f),(a=>((0,s.wg)(),(0,s.iD)("tr",{key:a.slug},[(0,s._)("td",null,(0,o.zw)(a.name),1),(0,s._)("td",null,(0,o.zw)(a.author[0].username),1),(0,s._)("td",null,(0,o.zw)(k(a.created_at)),1),(0,s._)("td",null,(0,o.zw)(a.author_update[0].username),1),(0,s._)("td",null,(0,o.zw)(k(a.updated_at)),1),(0,s._)("td",null,[(0,s._)("abbr",v_,[(0,s._)("i",{onClick:l=>e.$emit("toolSlugDelete",a),class:"bi bi-trash text-danger float-end"},null,8,m_)]),(0,s._)("abbr",g_,[(0,s._)("i",{onClick:l=>e.$emit("toolSlugEdit",a.slug),class:"bi bi-pencil-square text-warning me-3 float-end"},null,8,__)])])])))),128))])]),(0,s._)("div",b_,[(0,s._)("div",h_,[1!=(0,n.SU)(y)?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,o.zw)((0,n.SU)(y))+" tool found ",1)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,o.zw)((0,n.SU)(y))+" tools found ",1)],64))]),(0,s._)("div",f_,[(0,s.Wm)((0,n.SU)(Nt.Z),{modelValue:d.value,"onUpdate:modelValue":[a[7]||(a[7]=e=>d.value=e),_],pages:(0,n.SU)(w),"range-size":1,"active-color":"#B1C3D7",class:"float-end"},null,8,["modelValue","pages"])])])],64))}};const y_=w_;var k_=y_;const S_={class:"mb-5"},C_=(0,s._)("h4",{class:"inline-h"},"Tools",-1),D_={key:0,class:"d-flex justify-content-center"},x_=(0,s._)("div",{class:"spinner-border",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")],-1),U_=[x_];var H_={__name:"ToolsSettings",setup(e){const a=u(),l=(c(),(0,p.tv)()),t=(0,n.iH)(!1),o=(0,n.iH)([]),r=(0,n.iH)([]),d=(0,n.iH)(!1),v=async()=>{a.isLoading=!0,t.value=!0,await i.ZP.get("/api/v1/tools/").then((e=>{t.value=!1,o.value=e.data})).catch((e=>{console.log(e)})),a.isLoading=!1};(0,s.bv)((()=>{v()}));const m=e=>{r.value=e,d.value=!0},g=e=>{l.push(`/settings/tools/edit/${e}`)};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",S_,[C_,(0,s.Wm)(l,{class:"btn btn-sm btn-outline-primary px-4",style:{"text-align":"right",float:"right"},to:"/settings/tools/add"},{default:(0,s.w5)((()=>[(0,s.Uk)("Add tool ")])),_:1})]),t.value?((0,s.wg)(),(0,s.iD)("div",D_,U_)):((0,s.wg)(),(0,s.j4)(k_,{key:1,tools:o.value,onToolSlugEdit:g,onToolSlugDelete:m},null,8,["tools"])),(0,s.Wm)(bs,{model:"tool",title:r.value.name,warning:"Warning! A deleted tool item cannot be recovered",identifier:r.value.slug,callback:v,openDeleteModal:d.value,endpoint:"tools",onCloseModal:a[0]||(a[0]=e=>d.value=!1)},null,8,["title","identifier","openDeleteModal"])],64)}}};const z_=H_;var Y_=z_;const L_=(0,s._)("h4",{class:"inline-h mb-4"},"Add Tool",-1),$_=["onSubmit"],P_={class:"row g-3"},N_={class:"col-md-12"},O_=(0,s._)("label",null,"Name*",-1),M_={class:"float-md-end mt-4 mb-4"},F_=(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-primary ms-1"},"Add ",-1);var V_={__name:"AddTool",setup(e){const a=u(),l=c(),o=(0,p.tv)(),r=(0,n.iH)(""),d=(0,n.iH)([]),v=async()=>{a.isLoading=!0,d.value=[];const e={name:r.value,content:"",link:"#",author:l.user.id,author_update:l.user.id};d.value.length||await i.ZP.post("/api/v1/tools/",e).then((e=>{o.push(`/settings/tools/edit/${e.data.slug}`),(0,Ye.Yz)("Tool added successfully",a.toastSuccess)})).catch((e=>{if(e.response){for(const l in e.response.data)d.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})),a.isLoading=!1};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[L_,(0,s._)("form",{onSubmit:(0,t.iM)(v,["prevent"])},[(0,s._)("div",P_,[(0,s._)("div",N_,[O_,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e)},null,512),[[t.nr,r.value]]),(0,s.Wm)(Ei,{input:r.value,inputLen:150,inputWarn:25},null,8,["input"])])]),(0,s._)("div",M_,[(0,s.Wm)(l,{type:"button",class:"btn btn-sm btn-outline-secondary ms-1",to:"/settings/tools"},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1}),F_])],40,$_)])}}};const Z_=V_;var T_=Z_;const W_=(0,s._)("h4",{class:"inline-h mb-4"},"Edit Tool",-1),E_={class:"container-upload"},I_=["onSubmit"],J_={class:"form-group mb-3"},A_=(0,s._)("label",{class:"mb-1"},"Name*",-1),R_={class:"form-group"},j_=(0,s._)("label",{class:"mb-1"},"Content",-1),q_={class:"row"},B_={class:"col-md-6"},K_=(0,s._)("label",{class:"mb-1"},"Link*",-1),G_={class:"col-md-6"},X_=(0,s._)("label",{class:"mb-1"},"Show tool",-1),Q_=(0,s._)("br",null,null,-1),eb={class:"form-check form-check-inline"},ab=(0,s._)("label",{class:"form-check-label"},"Yes",-1),lb={class:"form-check form-check-inline"},tb=(0,s._)("label",{class:"form-check-label"},"No",-1),sb={class:"mt-4",align:"right"},nb=(0,s._)("button",{type:"submit",class:"btn btn-sm btn-outline-primary ms-1"},"Edit Research Field ",-1),ob=(0,s._)("hr",{style:{"margin-top":"40px"}},null,-1);var ib={__name:"EditTool",setup(e){const a=u(),l=c(),o=(0,p.tv)(),r=(0,p.yj)(),d=(0,n.iH)([]),v=(0,n.iH)([]),m=(0,n.iH)([]),g=(0,n.iH)("Yes"),_=(0,n.iH)(!1),b=async()=>{a.isLoading=!0,m.value=[];const e=r.params.slug;await i.ZP.get(`/api/v1/tools/${e}`).then((e=>{d.value=e.data})).catch((e=>{console.log(e)})),"#"==d.value.link&&(d.value.link=""),0==v.value.length&&(v.value=d.value),v.value.cover_tool!=d.value.cover_tool&&(v.value.cover_tool=d.value.cover_tool),0==v.value.show_tool&&(g.value="No"),_.value=!0,a.isLoading=!1};(0,s.bv)((()=>{b()}));const h=async()=>{a.isLoading=!0;const e=r.params.slug;v.value.author=v.value.author[0].id,v.value.author_update=l.user.id,"Yes"==g.value&&(v.value.show_tool=!0),"No"==g.value&&(v.value.show_tool=!1),m.value=[],""!=v.value.link?await i.ZP.patch(`/api/v1/tools/${e}/`,v.value).then((e=>{o.push("/settings/tools"),(0,Ye.Yz)("tool edited successfully",a.toastSuccess)})).catch((e=>{if(e.response){for(const l in e.response.data)m.value.push(`${l}: ${e.response.data[l]}`),(0,Ye.Yz)(`${l}: ${e.response.data[l]}`,a.toastDanger);console.log(JSON.stringify(e.response.data))}else e.message?console.log(JSON.stringify(e.message)):console.log(JSON.stringify(e))})):(0,Ye.Yz)("link is mandatory",a.toastDanger),a.isLoading=!1};return(e,a)=>{const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[W_,(0,s._)("div",E_,[(0,s._)("form",{onSubmit:(0,t.iM)(h,["prevent"])},[(0,s._)("div",J_,[A_,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":a[0]||(a[0]=e=>v.value.name=e)},null,512),[[t.nr,v.value.name]]),_.value?((0,s.wg)(),(0,s.j4)(Ei,{key:0,input:v.value.name,inputLen:100,inputWarn:25},null,8,["input"])):(0,s.kq)("",!0)]),(0,s._)("div",R_,[j_,_.value?((0,s.wg)(),(0,s.j4)(Ei,{key:0,input:v.value.content,inputLen:150,inputWarn:25},null,8,["input"])):(0,s.kq)("",!0),(0,s.Wm)((0,n.SU)(Ms.Z),{modelValue:v.value.content,"onUpdate:modelValue":a[1]||(a[1]=e=>v.value.content=e),ref:"markdownEditor"},null,8,["modelValue"])]),(0,s._)("div",q_,[(0,s._)("div",B_,[K_,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=e=>v.value.link=e)},null,512),[[t.nr,v.value.link]])]),(0,s._)("div",G_,[X_,Q_,(0,s._)("div",eb,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"radio",value:"Yes","onUpdate:modelValue":a[3]||(a[3]=e=>g.value=e)},null,512),[[t.G2,g.value]]),ab]),(0,s._)("div",lb,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"radio",value:"No","onUpdate:modelValue":a[4]||(a[4]=e=>g.value=e)},null,512),[[t.G2,g.value]]),tb])])]),(0,s._)("div",sb,[(0,s.Wm)(l,{type:"button",class:"btn btn-sm btn-outline-secondary ms-1",to:"/settings/tools"},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel ")])),_:1}),nb])],40,I_)]),ob,(0,s.Wm)($n,{model:d.value,callback:b,endpoint:"tool-cover","base-ref":"cover_tool",width:300,height:300,"aspect-ratio":1},null,8,["model"])],64)}}};const rb=ib;var ub=rb;const cb=e=>((0,s.dD)("data-v-38b1fd1a"),e=e(),(0,s.Cn)(),e),db={class:"contacts-container"},pb=cb((()=>(0,s._)("h1",null,"temporary page",-1))),vb=[pb];function mb(e,a){return(0,s.wg)(),(0,s.iD)("div",db,vb)}const gb={},_b=(0,P.Z)(gb,[["render",mb],["__scopeId","data-v-38b1fd1a"]]);var bb=_b;const hb=[{path:"/",name:"Home",component:ze},{path:"/signup",name:"SignUp",component:ta},{path:"/login",name:"Login",component:ya},{path:"/account",name:"Profile",component:hl,meta:{requireLogin:!0}},{path:"/reset-password",name:"ResetPassword",component:Ll},{path:"/reset-password/confirm/:uid/:token",name:"ResetPasswordConfirm",component:Rl},{path:"/settings",name:"Settings",component:rt,meta:{requireStaff:!0},children:[{path:"",name:"SettingsHome",component:_t},{path:"carousel",name:"CarouselSettings",component:gg},{path:"carousel/add",name:"AddCarousel",component:xg},{path:"carousel/edit/:id",name:"EditCarousel",component:Rg},{path:"research-fields",name:"ResearchFieldsSettings",component:Ds},{path:"research-fields/add",name:"AddResearchField",component:Os},{path:"research-fields/edit/:slug",name:"EditResearchField",component:so},{path:"people",name:"PeopleSettings",component:Vi},{path:"people/add",name:"AddPerson",component:Xi},{path:"people/edit/:slug",name:"EditPerson",component:Pu},{path:"publications",name:"PublicationsSettings",component:Ed},{path:"publications/add",name:"AddPublication",component:Xd},{path:"publications/edit/:id",name:"EditPublication",component:Xp},{path:"news",name:"NewsSettings",component:lm},{path:"news/add",name:"AddNews",component:pm},{path:"news/edit/:slug",name:"EditNews",component:Mm},{path:"tools",name:"ToolsSettings",component:Y_},{path:"tools/add",name:"AddTool",component:T_},{path:"tools/edit/:slug",name:"EditTool",component:ub}]},{path:"/research-fields",name:"ResearchFields",component:xt},{path:"/research-fields/:slug",name:"ResearchFieldDetail",component:Pt},{path:"/people",name:"People",component:ho},{path:"/people/:slug",name:"PersonDetail",component:ni},{path:"/publications",name:"Publications",component:cd},{path:"/news",name:"News",component:mv},{path:"/news/:slug",name:"NewsDetail",component:Cv},{path:"/tools",name:"Tools",component:l_},{path:"/contacts",name:"Contacts",component:bb}],fb=(0,p.p7)({history:(0,p.PO)("/"),routes:hb,scrollBehavior(){return{left:0,top:0}}});fb.beforeEach(((e,a,l)=>{const t=c();e.matched.some((e=>e.meta.requireStaff))&&!1===t.isAuthenticated?l("/"):l()}));var wb=fb;const yb=(0,r.WB)();i.ZP.defaults.baseURL="https://printing.bio-groups.com",(0,t.ri)(G).use(yb).use(wb,i.ZP).mount("#app")},2562:function(){}},a={};function l(t){var s=a[t];if(void 0!==s)return s.exports;var n=a[t]={exports:{}};return e[t].call(n.exports,n,n.exports,l),n.exports}l.m=e,function(){var e=[];l.O=function(a,t,s,n){if(!t){var o=1/0;for(c=0;c<e.length;c++){t=e[c][0],s=e[c][1],n=e[c][2];for(var i=!0,r=0;r<t.length;r++)(!1&n||o>=n)&&Object.keys(l.O).every((function(e){return l.O[e](t[r])}))?t.splice(r--,1):(i=!1,n<o&&(o=n));if(i){e.splice(c--,1);var u=s();void 0!==u&&(a=u)}}return a}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[t,s,n]}}(),function(){l.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(a,{a:a}),a}}(),function(){l.d=function(e,a){for(var t in a)l.o(a,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){l.p="/static/dist/"}(),function(){var e={143:0};l.O.j=function(a){return 0===e[a]};var a=function(a,t){var s,n,o=t[0],i=t[1],r=t[2],u=0;if(o.some((function(a){return 0!==e[a]}))){for(s in i)l.o(i,s)&&(l.m[s]=i[s]);if(r)var c=r(l)}for(a&&a(t);u<o.length;u++)n=o[u],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(c)},t=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))}();var t=l.O(void 0,[998],(function(){return l(9833)}));t=l.O(t)})();
//# sourceMappingURL=app.42be6c5f.js.map